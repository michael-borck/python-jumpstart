<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Python Jumpstart: Coding Fundamentals for the AI Era - 13&nbsp; List Laboratory: Organizing Data in Python’s Most Versatile Container</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/12_going_loopy.html" rel="next">
<link href="../chapters/10_making_decisions.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/11_lists.html">Data Structures and Iteration</a></li><li class="breadcrumb-item"><a href="../chapters/11_lists.html"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">List Laboratory: Organizing Data in Python's Most Versatile Container</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Python Jumpstart: Coding Fundamentals for the AI Era</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/michael-borck/python-jumpstart" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../Python-Jumpstart--Coding-Fundamentals-for-the-AI-Era.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../Python-Jumpstart--Coding-Fundamentals-for-the-AI-Era.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Python Jumpstart: Coding Fundamentals for the AI Era</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Core Python Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/00_python_in_the_age_of_ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Python in the Age of AI: Coding with Digital Collaborators</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01_hello_world.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hello, World! - Your First Python Adventure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02_basic_python_syntax.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Python Language Syntax: Your Coding Roadmap</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/03_values.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Values: The Building Blocks of Python Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/04_variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Variables: Your Data’s Home in Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/05_output.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Output Odyssey: Making Your Code Speak to the World</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/06_input.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Input Inception: Getting Data from Users into Your Programs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/07_operators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Operator’s Manual: Mastering Python’s Mathematical and Logical Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Functions and Control Flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/08_using_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Function Fiesta: Using Python’s Pre-built Code Blocks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/09_creating_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Function Factory: Crafting Your Own Reusable Code Magic</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/10_making_decisions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Decision Director: Guiding Your Program’s Path with If Statements</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Data Structures and Iteration</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/11_lists.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">List Laboratory: Organizing Data in Python’s Most Versatile Container</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/12_going_loopy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Going Loopy: Repeating Code Without Losing Your Mind</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/13_strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">String Theory: Manipulating Text in the Python Universe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/14_dictionaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Dictionary Detectives: Mastering Python’s Key-Value Pairs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Working with Data and Files</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/15_files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">File Frontier: Reading and Writing Data to Permanent Storage</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Code Quality and Organization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/16_errors_and_exceptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Error Embassy: Understanding and Handling Exceptions with Grace</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/17_debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Debugging Detectives: Finding and Fixing Code Mysteries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/18_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Test Kitchen: Ensuring Your Code Works as Intended</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/19_modules_and_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Module Mastery: Organizing Your Code for Growth and Reuse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/20_orientating_your_objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Orientating Your Objects: Building Digital Models of Real-World Things</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Practical Python Usage</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/21_how_to_run_python_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Python Pilot: How to Execute Your Code in Different Environments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/22_how_to_install_python_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Installation Station: Setting Up Python and Required Libraries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/23_getting_help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Help Headquarters: Finding Answers When You Get Stuck</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Python in the AI Era</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/24_ai_programming_assistants.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">AI Programming Assistants: Coding with Digital Colleagues</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/25_python_ai_integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">AI Integrator: Connecting Python Applications to AI Services</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/26_ai_assistance_tips.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">AI Assistance Tips: Maximizing Your Machine Learning Mentors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/27_intentional_prompting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Intentional Prompting: Speaking the Language of AI Assistants</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text">Project: Build Your Own AI Chatbot</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chatbot_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Chatbot Construction Site: Building Your AI-Enhanced Python Conversation Partner</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#chapter-11-lists---organizing-collections-of-data" id="toc-chapter-11-lists---organizing-collections-of-data" class="nav-link active" data-scroll-target="#chapter-11-lists---organizing-collections-of-data"><span class="header-section-number">14</span> Chapter 11: Lists - Organizing Collections of Data</a>
  <ul class="collapse">
  <li><a href="#chapter-outline" id="toc-chapter-outline" class="nav-link" data-scroll-target="#chapter-outline"><span class="header-section-number">14.1</span> Chapter Outline</a></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives"><span class="header-section-number">14.2</span> Learning Objectives</a></li>
  <li><a href="#introduction-why-we-need-lists" id="toc-introduction-why-we-need-lists" class="nav-link" data-scroll-target="#introduction-why-we-need-lists"><span class="header-section-number">14.3</span> 1. Introduction: Why We Need Lists</a></li>
  <li><a href="#creating-and-initializing-lists" id="toc-creating-and-initializing-lists" class="nav-link" data-scroll-target="#creating-and-initializing-lists"><span class="header-section-number">14.4</span> 2. Creating and Initializing Lists</a>
  <ul class="collapse">
  <li><a href="#basic-list-creation" id="toc-basic-list-creation" class="nav-link" data-scroll-target="#basic-list-creation"><span class="header-section-number">14.4.1</span> Basic List Creation</a></li>
  <li><a href="#creating-lists-programmatically" id="toc-creating-lists-programmatically" class="nav-link" data-scroll-target="#creating-lists-programmatically"><span class="header-section-number">14.4.2</span> Creating Lists Programmatically</a></li>
  <li><a href="#pre-initializing-lists" id="toc-pre-initializing-lists" class="nav-link" data-scroll-target="#pre-initializing-lists"><span class="header-section-number">14.4.3</span> Pre-initializing Lists</a></li>
  </ul></li>
  <li><a href="#accessing-list-elements" id="toc-accessing-list-elements" class="nav-link" data-scroll-target="#accessing-list-elements"><span class="header-section-number">14.5</span> 3. Accessing List Elements</a>
  <ul class="collapse">
  <li><a href="#basic-indexing" id="toc-basic-indexing" class="nav-link" data-scroll-target="#basic-indexing"><span class="header-section-number">14.5.1</span> Basic Indexing</a></li>
  <li><a href="#list-slicing" id="toc-list-slicing" class="nav-link" data-scroll-target="#list-slicing"><span class="header-section-number">14.5.2</span> List Slicing</a></li>
  <li><a href="#handling-index-errors" id="toc-handling-index-errors" class="nav-link" data-scroll-target="#handling-index-errors"><span class="header-section-number">14.5.3</span> Handling Index Errors</a></li>
  </ul></li>
  <li><a href="#modifying-lists-adding-elements" id="toc-modifying-lists-adding-elements" class="nav-link" data-scroll-target="#modifying-lists-adding-elements"><span class="header-section-number">14.6</span> 4. Modifying Lists: Adding Elements</a>
  <ul class="collapse">
  <li><a href="#adding-to-the-end-with-append" id="toc-adding-to-the-end-with-append" class="nav-link" data-scroll-target="#adding-to-the-end-with-append"><span class="header-section-number">14.6.1</span> Adding to the End with append()</a></li>
  <li><a href="#adding-multiple-elements-with-extend" id="toc-adding-multiple-elements-with-extend" class="nav-link" data-scroll-target="#adding-multiple-elements-with-extend"><span class="header-section-number">14.6.2</span> Adding Multiple Elements with extend()</a></li>
  <li><a href="#inserting-at-specific-positions-with-insert" id="toc-inserting-at-specific-positions-with-insert" class="nav-link" data-scroll-target="#inserting-at-specific-positions-with-insert"><span class="header-section-number">14.6.3</span> Inserting at Specific Positions with insert()</a></li>
  <li><a href="#concatenation-with-operator" id="toc-concatenation-with-operator" class="nav-link" data-scroll-target="#concatenation-with-operator"><span class="header-section-number">14.6.4</span> Concatenation with + Operator</a></li>
  <li><a href="#comparison-of-adding-methods" id="toc-comparison-of-adding-methods" class="nav-link" data-scroll-target="#comparison-of-adding-methods"><span class="header-section-number">14.6.5</span> Comparison of Adding Methods</a></li>
  </ul></li>
  <li><a href="#modifying-lists-removing-elements" id="toc-modifying-lists-removing-elements" class="nav-link" data-scroll-target="#modifying-lists-removing-elements"><span class="header-section-number">14.7</span> 5. Modifying Lists: Removing Elements</a>
  <ul class="collapse">
  <li><a href="#remove-by-value-with-remove" id="toc-remove-by-value-with-remove" class="nav-link" data-scroll-target="#remove-by-value-with-remove"><span class="header-section-number">14.7.1</span> Remove by Value with remove()</a></li>
  <li><a href="#remove-by-index-with-pop" id="toc-remove-by-index-with-pop" class="nav-link" data-scroll-target="#remove-by-index-with-pop"><span class="header-section-number">14.7.2</span> Remove by Index with pop()</a></li>
  <li><a href="#other-removal-methods" id="toc-other-removal-methods" class="nav-link" data-scroll-target="#other-removal-methods"><span class="header-section-number">14.7.3</span> Other Removal Methods</a></li>
  <li><a href="#comparison-of-removal-methods" id="toc-comparison-of-removal-methods" class="nav-link" data-scroll-target="#comparison-of-removal-methods"><span class="header-section-number">14.7.4</span> Comparison of Removal Methods</a></li>
  </ul></li>
  <li><a href="#sorting-and-organizing-lists" id="toc-sorting-and-organizing-lists" class="nav-link" data-scroll-target="#sorting-and-organizing-lists"><span class="header-section-number">14.8</span> 6. Sorting and Organizing Lists</a>
  <ul class="collapse">
  <li><a href="#basic-sorting" id="toc-basic-sorting" class="nav-link" data-scroll-target="#basic-sorting"><span class="header-section-number">14.8.1</span> Basic Sorting</a></li>
  <li><a href="#sorting-complex-objects" id="toc-sorting-complex-objects" class="nav-link" data-scroll-target="#sorting-complex-objects"><span class="header-section-number">14.8.2</span> Sorting Complex Objects</a></li>
  <li><a href="#reversing-lists" id="toc-reversing-lists" class="nav-link" data-scroll-target="#reversing-lists"><span class="header-section-number">14.8.3</span> Reversing Lists</a></li>
  <li><a href="#custom-sorting-with-key-and-reverse" id="toc-custom-sorting-with-key-and-reverse" class="nav-link" data-scroll-target="#custom-sorting-with-key-and-reverse"><span class="header-section-number">14.8.4</span> Custom Sorting with key and reverse</a></li>
  </ul></li>
  <li><a href="#working-with-nested-lists" id="toc-working-with-nested-lists" class="nav-link" data-scroll-target="#working-with-nested-lists"><span class="header-section-number">14.9</span> 7. Working with Nested Lists</a>
  <ul class="collapse">
  <li><a href="#creating-and-accessing-nested-lists" id="toc-creating-and-accessing-nested-lists" class="nav-link" data-scroll-target="#creating-and-accessing-nested-lists"><span class="header-section-number">14.9.1</span> Creating and Accessing Nested Lists</a></li>
  <li><a href="#lists-of-different-shapes" id="toc-lists-of-different-shapes" class="nav-link" data-scroll-target="#lists-of-different-shapes"><span class="header-section-number">14.9.2</span> Lists of Different Shapes</a></li>
  <li><a href="#practical-uses-for-nested-lists" id="toc-practical-uses-for-nested-lists" class="nav-link" data-scroll-target="#practical-uses-for-nested-lists"><span class="header-section-number">14.9.3</span> Practical Uses for Nested Lists</a></li>
  </ul></li>
  <li><a href="#list-comprehensions-preview" id="toc-list-comprehensions-preview" class="nav-link" data-scroll-target="#list-comprehensions-preview"><span class="header-section-number">14.10</span> 8. List Comprehensions (Preview)</a></li>
  <li><a href="#common-list-operations-and-functions" id="toc-common-list-operations-and-functions" class="nav-link" data-scroll-target="#common-list-operations-and-functions"><span class="header-section-number">14.11</span> 9. Common List Operations and Functions</a>
  <ul class="collapse">
  <li><a href="#finding-information" id="toc-finding-information" class="nav-link" data-scroll-target="#finding-information"><span class="header-section-number">14.11.1</span> Finding Information</a></li>
  <li><a href="#aggregate-functions" id="toc-aggregate-functions" class="nav-link" data-scroll-target="#aggregate-functions"><span class="header-section-number">14.11.2</span> Aggregate Functions</a></li>
  <li><a href="#creating-copies" id="toc-creating-copies" class="nav-link" data-scroll-target="#creating-copies"><span class="header-section-number">14.11.3</span> Creating Copies</a></li>
  </ul></li>
  <li><a href="#project-corner-building-your-chatbots-memory" id="toc-project-corner-building-your-chatbots-memory" class="nav-link" data-scroll-target="#project-corner-building-your-chatbots-memory"><span class="header-section-number">14.12</span> 10. Project Corner: Building Your Chatbot’s Memory</a>
  <ul class="collapse">
  <li><a href="#tracking-conversation-history" id="toc-tracking-conversation-history" class="nav-link" data-scroll-target="#tracking-conversation-history"><span class="header-section-number">14.12.1</span> Tracking Conversation History</a></li>
  <li><a href="#enhanced-main-loop-with-history-support" id="toc-enhanced-main-loop-with-history-support" class="nav-link" data-scroll-target="#enhanced-main-loop-with-history-support"><span class="header-section-number">14.12.2</span> Enhanced Main Loop with History Support</a></li>
  <li><a href="#memory-based-features" id="toc-memory-based-features" class="nav-link" data-scroll-target="#memory-based-features"><span class="header-section-number">14.12.3</span> Memory-Based Features</a></li>
  <li><a href="#using-history-based-features-in-the-chat-loop" id="toc-using-history-based-features-in-the-chat-loop" class="nav-link" data-scroll-target="#using-history-based-features-in-the-chat-loop"><span class="header-section-number">14.12.4</span> Using History-Based Features in the Chat Loop</a></li>
  <li><a href="#tracking-user-preferences-with-lists" id="toc-tracking-user-preferences-with-lists" class="nav-link" data-scroll-target="#tracking-user-preferences-with-lists"><span class="header-section-number">14.12.5</span> Tracking User Preferences with Lists</a></li>
  </ul></li>
  <li><a href="#ai-collaboration-corner-working-with-lists-effectively" id="toc-ai-collaboration-corner-working-with-lists-effectively" class="nav-link" data-scroll-target="#ai-collaboration-corner-working-with-lists-effectively"><span class="header-section-number">14.13</span> 11. AI Collaboration Corner: Working with Lists Effectively</a>
  <ul class="collapse">
  <li><a href="#before-vague-prompting" id="toc-before-vague-prompting" class="nav-link" data-scroll-target="#before-vague-prompting"><span class="header-section-number">14.13.1</span> Before: Vague Prompting</a></li>
  <li><a href="#after-detailed-specific-prompting" id="toc-after-detailed-specific-prompting" class="nav-link" data-scroll-target="#after-detailed-specific-prompting"><span class="header-section-number">14.13.2</span> After: Detailed, Specific Prompting</a></li>
  <li><a href="#how-to-craft-effective-prompts-about-lists" id="toc-how-to-craft-effective-prompts-about-lists" class="nav-link" data-scroll-target="#how-to-craft-effective-prompts-about-lists"><span class="header-section-number">14.13.3</span> How to Craft Effective Prompts About Lists</a></li>
  </ul></li>
  <li><a href="#common-list-mistakes-and-gotchas" id="toc-common-list-mistakes-and-gotchas" class="nav-link" data-scroll-target="#common-list-mistakes-and-gotchas"><span class="header-section-number">14.14</span> 12. Common List Mistakes and Gotchas</a>
  <ul class="collapse">
  <li><a href="#modifying-a-list-while-iterating" id="toc-modifying-a-list-while-iterating" class="nav-link" data-scroll-target="#modifying-a-list-while-iterating"><span class="header-section-number">14.14.1</span> 1. Modifying a List While Iterating</a></li>
  <li><a href="#confusing-append-and-extend" id="toc-confusing-append-and-extend" class="nav-link" data-scroll-target="#confusing-append-and-extend"><span class="header-section-number">14.14.2</span> 2. Confusing <code>append()</code> and <code>extend()</code></a></li>
  <li><a href="#unexpected-references" id="toc-unexpected-references" class="nav-link" data-scroll-target="#unexpected-references"><span class="header-section-number">14.14.3</span> 3. Unexpected References</a></li>
  <li><a href="#subtle-issues-with-list-multiplication" id="toc-subtle-issues-with-list-multiplication" class="nav-link" data-scroll-target="#subtle-issues-with-list-multiplication"><span class="header-section-number">14.14.4</span> 4. Subtle Issues with List Multiplication</a></li>
  <li><a href="#indexerror-from-incorrect-bounds-checking" id="toc-indexerror-from-incorrect-bounds-checking" class="nav-link" data-scroll-target="#indexerror-from-incorrect-bounds-checking"><span class="header-section-number">14.14.5</span> 5. IndexError from Incorrect Bounds Checking</a></li>
  <li><a href="#using-the-wrong-method-for-removing-elements" id="toc-using-the-wrong-method-for-removing-elements" class="nav-link" data-scroll-target="#using-the-wrong-method-for-removing-elements"><span class="header-section-number">14.14.6</span> 6. Using the Wrong Method for Removing Elements</a></li>
  <li><a href="#string-vs.-list-confusion" id="toc-string-vs.-list-confusion" class="nav-link" data-scroll-target="#string-vs.-list-confusion"><span class="header-section-number">14.14.7</span> 7. String vs.&nbsp;List Confusion</a></li>
  </ul></li>
  <li><a href="#performance-considerations-for-lists" id="toc-performance-considerations-for-lists" class="nav-link" data-scroll-target="#performance-considerations-for-lists"><span class="header-section-number">14.15</span> 13. Performance Considerations for Lists</a>
  <ul class="collapse">
  <li><a href="#time-complexity-of-common-operations" id="toc-time-complexity-of-common-operations" class="nav-link" data-scroll-target="#time-complexity-of-common-operations"><span class="header-section-number">14.15.1</span> Time Complexity of Common Operations</a></li>
  <li><a href="#practical-optimization-tips" id="toc-practical-optimization-tips" class="nav-link" data-scroll-target="#practical-optimization-tips"><span class="header-section-number">14.15.2</span> Practical Optimization Tips</a></li>
  </ul></li>
  <li><a href="#self-assessment-quiz" id="toc-self-assessment-quiz" class="nav-link" data-scroll-target="#self-assessment-quiz"><span class="header-section-number">14.16</span> 14. Self-Assessment Quiz</a></li>
  <li><a href="#practical-exercises-mastering-lists" id="toc-practical-exercises-mastering-lists" class="nav-link" data-scroll-target="#practical-exercises-mastering-lists"><span class="header-section-number">14.17</span> 15. Practical Exercises: Mastering Lists</a>
  <ul class="collapse">
  <li><a href="#exercise-1-chatbot-response-selector" id="toc-exercise-1-chatbot-response-selector" class="nav-link" data-scroll-target="#exercise-1-chatbot-response-selector"><span class="header-section-number">14.17.1</span> Exercise 1: Chatbot Response Selector</a></li>
  <li><a href="#exercise-2-conversation-history-manager" id="toc-exercise-2-conversation-history-manager" class="nav-link" data-scroll-target="#exercise-2-conversation-history-manager"><span class="header-section-number">14.17.2</span> Exercise 2: Conversation History Manager</a></li>
  <li><a href="#exercise-3-list-based-menu-system" id="toc-exercise-3-list-based-menu-system" class="nav-link" data-scroll-target="#exercise-3-list-based-menu-system"><span class="header-section-number">14.17.3</span> Exercise 3: List-based Menu System</a></li>
  <li><a href="#exercise-4-smart-list-operations" id="toc-exercise-4-smart-list-operations" class="nav-link" data-scroll-target="#exercise-4-smart-list-operations"><span class="header-section-number">14.17.4</span> Exercise 4: Smart List Operations</a></li>
  </ul></li>
  <li><a href="#advanced-topic-alternative-collection-types" id="toc-advanced-topic-alternative-collection-types" class="nav-link" data-scroll-target="#advanced-topic-alternative-collection-types"><span class="header-section-number">14.18</span> 16. Advanced Topic: Alternative Collection Types</a></li>
  <li><a href="#cross-references" id="toc-cross-references" class="nav-link" data-scroll-target="#cross-references"><span class="header-section-number">14.19</span> 17. Cross-References</a></li>
  <li><a href="#summary-putting-lists-to-work" id="toc-summary-putting-lists-to-work" class="nav-link" data-scroll-target="#summary-putting-lists-to-work"><span class="header-section-number">14.20</span> 18. Summary: Putting Lists to Work</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/michael-borck/python-jumpstart/edit/main/chapters/11_lists.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/michael-borck/python-jumpstart/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">List Laboratory: Organizing Data in Python’s Most Versatile Container</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="chapter-11-lists---organizing-collections-of-data" class="level1" data-number="14">
<h1 data-number="14"><span class="header-section-number">14</span> Chapter 11: Lists - Organizing Collections of Data</h1>
<section id="chapter-outline" class="level2" data-number="14.1">
<h2 data-number="14.1" class="anchored" data-anchor-id="chapter-outline"><span class="header-section-number">14.1</span> Chapter Outline</h2>
<ul>
<li>Understanding lists and their importance in programming</li>
<li>Creating, accessing, and modifying lists</li>
<li>Essential list methods and operations</li>
<li>Sorting and manipulating list data</li>
<li>Working with nested lists and multi-dimensional data</li>
<li>Using lists for tracking state and history</li>
<li>Practical applications of lists in real-world scenarios</li>
</ul>
</section>
<section id="learning-objectives" class="level2" data-number="14.2">
<h2 data-number="14.2" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">14.2</span> Learning Objectives</h2>
<p>By the end of this chapter, you will be able to: - Create and modify Python lists with confidence - Add, remove, and update elements in a list using appropriate methods - Access specific elements using indexes and slicing - Sort and organize list data efficiently - Work with lists of different data types - Create and manipulate nested lists for multi-dimensional data - Use lists to implement history tracking and state management in your chatbot - Apply list operations to solve common programming challenges</p>
</section>
<section id="introduction-why-we-need-lists" class="level2" data-number="14.3">
<h2 data-number="14.3" class="anchored" data-anchor-id="introduction-why-we-need-lists"><span class="header-section-number">14.3</span> 1. Introduction: Why We Need Lists</h2>
<p>In programming, we frequently need to work with collections of related data. Without lists, managing multiple related values becomes cumbersome and inefficient.</p>
<p>Imagine you’re building a chatbot that needs to remember the last five questions a user asked. Without lists, you’d need five separate variables:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>question1 <span class="op">=</span> <span class="st">"What's your name?"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>question2 <span class="op">=</span> <span class="st">"How are you programmed?"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>question3 <span class="op">=</span> <span class="st">"What can you do?"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>question4 <span class="op">=</span> <span class="st">"Who created you?"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>question5 <span class="op">=</span> <span class="st">"Can you help me learn Python?"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This approach has several problems: - It’s difficult to iterate through the questions - Adding a sixth question would require creating a new variable - There’s no easy way to track the order or perform operations on all questions at once</p>
<p>Lists solve these problems elegantly:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>recent_questions <span class="op">=</span> [</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"What's your name?"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"How are you programmed?"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"What can you do?"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Who created you?"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Can you help me learn Python?"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>With a list, you can: - Add new questions with a single operation - Remove old questions automatically - Iterate through all questions easily - Maintain the order of questions - Apply the same operations to all items</p>
<p>Lists are foundational data structures in Python and serve as building blocks for more complex applications. They allow you to organize collections of data in a way that’s both powerful and flexible.</p>
<blockquote class="blockquote">
<p><strong>Key Concept</strong>: A list in Python is an ordered collection of items that can be of any data type (including other lists). Lists are mutable (changeable), maintain the order of inserted items, and can contain duplicate values.</p>
</blockquote>
</section>
<section id="creating-and-initializing-lists" class="level2" data-number="14.4">
<h2 data-number="14.4" class="anchored" data-anchor-id="creating-and-initializing-lists"><span class="header-section-number">14.4</span> 2. Creating and Initializing Lists</h2>
<p>Python offers several ways to create lists, each suited to different situations:</p>
<section id="basic-list-creation" class="level3" data-number="14.4.1">
<h3 data-number="14.4.1" class="anchored" data-anchor-id="basic-list-creation"><span class="header-section-number">14.4.1</span> Basic List Creation</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Empty list</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>empty_list <span class="op">=</span> []</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># List with initial values</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># List with mixed data types</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>mixed_list <span class="op">=</span> [<span class="st">"Alice"</span>, <span class="dv">42</span>, <span class="va">True</span>, <span class="fl">3.14</span>, [<span class="dv">1</span>, <span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="creating-lists-programmatically" class="level3" data-number="14.4.2">
<h3 data-number="14.4.2" class="anchored" data-anchor-id="creating-lists-programmatically"><span class="header-section-number">14.4.2</span> Creating Lists Programmatically</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list from another sequence</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>letters <span class="op">=</span> <span class="bu">list</span>(<span class="st">"abcde"</span>)  <span class="co"># Creates ['a', 'b', 'c', 'd', 'e']</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list of numbers with range</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>one_to_ten <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>))  <span class="co"># [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># List comprehension (we'll cover this more in Chapter 12)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)]  <span class="co"># [1, 4, 9, 16, 25]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="pre-initializing-lists" class="level3" data-number="14.4.3">
<h3 data-number="14.4.3" class="anchored" data-anchor-id="pre-initializing-lists"><span class="header-section-number">14.4.3</span> Pre-initializing Lists</h3>
<p>Sometimes you need to create a list with placeholder values:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list with 5 zeros</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>zeros <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> <span class="dv">5</span>  <span class="co"># [0, 0, 0, 0, 0]</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list with 3 empty strings</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>empty_strings <span class="op">=</span> [<span class="st">""</span>] <span class="op">*</span> <span class="dv">3</span>  <span class="co"># ["", "", ""]</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize a list with None values</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>none_list <span class="op">=</span> [<span class="va">None</span>] <span class="op">*</span> <span class="dv">10</span>  <span class="co"># [None, None, ..., None]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Important Note</strong>: When duplicating lists containing mutable objects (like other lists), be careful with the multiplication operator. It creates references to the same object, not copies:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This creates a list with 3 references to the SAME inner list</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>problematic <span class="op">=</span> [[<span class="dv">0</span>, <span class="dv">0</span>]] <span class="op">*</span> <span class="dv">3</span>  <span class="co"># [[0, 0], [0, 0], [0, 0]]</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>problematic[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span>  <span class="co"># Changes ALL first elements: [[1, 0], [1, 0], [1, 0]]</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach: use a list comprehension</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>correct <span class="op">=</span> [[<span class="dv">0</span>, <span class="dv">0</span>] <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>)]  <span class="co"># [[0, 0], [0, 0], [0, 0]]</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>correct[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span>  <span class="co"># Only changes first list: [[1, 0], [0, 0], [0, 0]]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</blockquote>
</section>
</section>
<section id="accessing-list-elements" class="level2" data-number="14.5">
<h2 data-number="14.5" class="anchored" data-anchor-id="accessing-list-elements"><span class="header-section-number">14.5</span> 3. Accessing List Elements</h2>
<p>Python provides powerful mechanisms for accessing elements in a list.</p>
<section id="basic-indexing" class="level3" data-number="14.5.1">
<h3 data-number="14.5.1" class="anchored" data-anchor-id="basic-indexing"><span class="header-section-number">14.5.1</span> Basic Indexing</h3>
<p>Python uses zero-based indexing, meaning the first element is at index 0:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>, <span class="st">"elderberry"</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing by positive index (from the beginning)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>first_fruit <span class="op">=</span> fruits[<span class="dv">0</span>]  <span class="co"># "apple"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>third_fruit <span class="op">=</span> fruits[<span class="dv">2</span>]  <span class="co"># "cherry"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing by negative index (from the end)</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>last_fruit <span class="op">=</span> fruits[<span class="op">-</span><span class="dv">1</span>]  <span class="co"># "elderberry"</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>second_to_last <span class="op">=</span> fruits[<span class="op">-</span><span class="dv">2</span>]  <span class="co"># "date"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Visualization</strong>: Think of indices as pointing to the spaces between elements:</p>
<pre><code>    0       1        2         3          4           5
    |       |        |         |          |           |
   ["apple", "banana", "cherry", "date", "elderberry"]
    |       |        |         |          |
   -5      -4       -3        -2         -1</code></pre>
</blockquote>
</section>
<section id="list-slicing" class="level3" data-number="14.5.2">
<h3 data-number="14.5.2" class="anchored" data-anchor-id="list-slicing"><span class="header-section-number">14.5.2</span> List Slicing</h3>
<p>Slicing allows you to extract a portion of a list:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>, <span class="st">"elderberry"</span>]</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic slicing: list[start:end] (end is exclusive)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>first_three <span class="op">=</span> fruits[<span class="dv">0</span>:<span class="dv">3</span>]  <span class="co"># ["apple", "banana", "cherry"]</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>middle_three <span class="op">=</span> fruits[<span class="dv">1</span>:<span class="dv">4</span>]  <span class="co"># ["banana", "cherry", "date"]</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Omitting start/end</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>from_beginning <span class="op">=</span> fruits[:<span class="dv">3</span>]  <span class="co"># ["apple", "banana", "cherry"]</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>to_the_end <span class="op">=</span> fruits[<span class="dv">2</span>:]  <span class="co"># ["cherry", "date", "elderberry"]</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Using negative indices in slices</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>last_three <span class="op">=</span> fruits[<span class="op">-</span><span class="dv">3</span>:]  <span class="co"># ["cherry", "date", "elderberry"]</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>exclude_ends <span class="op">=</span> fruits[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]  <span class="co"># ["banana", "cherry", "date"]</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Step parameter: list[start:end:step]</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>every_other <span class="op">=</span> fruits[::<span class="dv">2</span>]  <span class="co"># ["apple", "cherry", "elderberry"]</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>backwards <span class="op">=</span> fruits[::<span class="op">-</span><span class="dv">1</span>]  <span class="co"># ["elderberry", "date", "cherry", "banana", "apple"]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Slicing creates a new list with copies of the selected elements, leaving the original list unchanged.</p>
</section>
<section id="handling-index-errors" class="level3" data-number="14.5.3">
<h3 data-number="14.5.3" class="anchored" data-anchor-id="handling-index-errors"><span class="header-section-number">14.5.3</span> Handling Index Errors</h3>
<p>Accessing an index that doesn’t exist raises an <code>IndexError</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This will raise an IndexError</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># invalid_item = fruits[5]</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Safer approach with conditional</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>index <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> index <span class="op">&lt;</span> <span class="bu">len</span>(fruits):</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> fruits[index]</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> <span class="va">None</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative using try/except (we'll cover in Chapter 16)</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> fruits[<span class="dv">5</span>]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">IndexError</span>:</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="modifying-lists-adding-elements" class="level2" data-number="14.6">
<h2 data-number="14.6" class="anchored" data-anchor-id="modifying-lists-adding-elements"><span class="header-section-number">14.6</span> 4. Modifying Lists: Adding Elements</h2>
<p>Since lists are mutable, you can change their contents after creation. Let’s explore the different ways to add elements:</p>
<section id="adding-to-the-end-with-append" class="level3" data-number="14.6.1">
<h3 data-number="14.6.1" class="anchored" data-anchor-id="adding-to-the-end-with-append"><span class="header-section-number">14.6.1</span> Adding to the End with append()</h3>
<p>The <code>append()</code> method adds a single element to the end of a list:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>tasks <span class="op">=</span> [<span class="st">"Write code"</span>, <span class="st">"Test code"</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>tasks.append(<span class="st">"Debug code"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tasks)  <span class="co"># ["Write code", "Test code", "Debug code"]</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Append any data type</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>tasks.append(<span class="dv">42</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tasks)  <span class="co"># ["Write code", "Test code", "Debug code", 42]</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Appending a list (creates a nested list)</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>tasks.append([<span class="st">"Deploy"</span>, <span class="st">"Maintain"</span>])</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tasks)  <span class="co"># ["Write code", "Test code", "Debug code", 42, ["Deploy", "Maintain"]]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="adding-multiple-elements-with-extend" class="level3" data-number="14.6.2">
<h3 data-number="14.6.2" class="anchored" data-anchor-id="adding-multiple-elements-with-extend"><span class="header-section-number">14.6.2</span> Adding Multiple Elements with extend()</h3>
<p>The <code>extend()</code> method adds all elements from an iterable to the end of a list:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>more_fruits <span class="op">=</span> [<span class="st">"cherry"</span>, <span class="st">"date"</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extend with another list</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>fruits.extend(more_fruits)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "banana", "cherry", "date"]</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Extend with any iterable</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>fruits.extend(<span class="st">"fig"</span>)  <span class="co"># Extends with each character</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "banana", "cherry", "date", "f", "i", "g"]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="inserting-at-specific-positions-with-insert" class="level3" data-number="14.6.3">
<h3 data-number="14.6.3" class="anchored" data-anchor-id="inserting-at-specific-positions-with-insert"><span class="header-section-number">14.6.3</span> Inserting at Specific Positions with insert()</h3>
<p>The <code>insert()</code> method adds an element at a specific position:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>numbers.insert(<span class="dv">2</span>, <span class="dv">3</span>)  <span class="co"># Insert 3 at index 2</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [1, 2, 3, 4, 5]</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert at the beginning</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>numbers.insert(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [0, 1, 2, 3, 4, 5]</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert beyond the end (same as append)</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>numbers.insert(<span class="dv">100</span>, <span class="dv">6</span>)  <span class="co"># No error, just adds to the end</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [0, 1, 2, 3, 4, 5, 6]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="concatenation-with-operator" class="level3" data-number="14.6.4">
<h3 data-number="14.6.4" class="anchored" data-anchor-id="concatenation-with-operator"><span class="header-section-number">14.6.4</span> Concatenation with + Operator</h3>
<p>You can also create a new list by concatenating existing lists:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>combined <span class="op">=</span> list1 <span class="op">+</span> list2</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(combined)  <span class="co"># [1, 2, 3, 4, 5, 6]</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Original lists remain unchanged</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list1)  <span class="co"># [1, 2, 3]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Performance Tip</strong>: When building large lists incrementally, <code>append()</code> is more efficient than concatenation with <code>+</code>. The <code>+</code> operator creates a new list each time, while <code>append()</code> modifies the existing list in-place.</p>
</blockquote>
</section>
<section id="comparison-of-adding-methods" class="level3" data-number="14.6.5">
<h3 data-number="14.6.5" class="anchored" data-anchor-id="comparison-of-adding-methods"><span class="header-section-number">14.6.5</span> Comparison of Adding Methods</h3>
<table class="table">
<colgroup>
<col style="width: 24%">
<col style="width: 27%">
<col style="width: 27%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Purpose</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>append()</code></td>
<td>Add single item to end</td>
<td><code>list.append(x)</code></td>
<td>Fast, modifies in-place</td>
</tr>
<tr class="even">
<td><code>extend()</code></td>
<td>Add all items from iterable</td>
<td><code>list.extend(iterable)</code></td>
<td>Adds each item individually</td>
</tr>
<tr class="odd">
<td><code>insert()</code></td>
<td>Add item at specific position</td>
<td><code>list.insert(i, x)</code></td>
<td>Slower for large lists</td>
</tr>
<tr class="even">
<td><code>+</code></td>
<td>Concatenate lists</td>
<td><code>new_list = list1 + list2</code></td>
<td>Creates new list</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="modifying-lists-removing-elements" class="level2" data-number="14.7">
<h2 data-number="14.7" class="anchored" data-anchor-id="modifying-lists-removing-elements"><span class="header-section-number">14.7</span> 5. Modifying Lists: Removing Elements</h2>
<p>Just as there are multiple ways to add elements, Python provides several methods for removing elements from lists:</p>
<section id="remove-by-value-with-remove" class="level3" data-number="14.7.1">
<h3 data-number="14.7.1" class="anchored" data-anchor-id="remove-by-value-with-remove"><span class="header-section-number">14.7.1</span> Remove by Value with remove()</h3>
<p>The <code>remove()</code> method eliminates the first occurrence of a specific value:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"yellow"</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>colors.remove(<span class="st">"green"</span>)  <span class="co"># Removes only the first "green"</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(colors)  <span class="co"># ["red", "blue", "green", "yellow"]</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Removing a value that doesn't exist raises ValueError</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># colors.remove("purple")  # ValueError: list.remove(x): x not in list</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Safer approach with conditional</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>value_to_remove <span class="op">=</span> <span class="st">"purple"</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> value_to_remove <span class="kw">in</span> colors:</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    colors.remove(value_to_remove)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="remove-by-index-with-pop" class="level3" data-number="14.7.2">
<h3 data-number="14.7.2" class="anchored" data-anchor-id="remove-by-index-with-pop"><span class="header-section-number">14.7.2</span> Remove by Index with pop()</h3>
<p>The <code>pop()</code> method removes an element at a specific index and returns it:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>]</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove and return element at index 1</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>removed <span class="op">=</span> fruits.pop(<span class="dv">1</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(removed)  <span class="co"># "banana"</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "cherry", "date"]</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># With no argument, pop() removes the last element</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>last <span class="op">=</span> fruits.pop()</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(last)  <span class="co"># "date"</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "cherry"]</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Trying to pop from an empty list raises IndexError</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>empty <span class="op">=</span> []</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="co"># empty.pop()  # IndexError: pop from empty list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="other-removal-methods" class="level3" data-number="14.7.3">
<h3 data-number="14.7.3" class="anchored" data-anchor-id="other-removal-methods"><span class="header-section-number">14.7.3</span> Other Removal Methods</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove all elements</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>numbers.clear()</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># []</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete by index using del statement</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> numbers[<span class="dv">2</span>]</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [10, 20, 40, 50]</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete a slice</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> numbers[<span class="dv">1</span>:<span class="dv">3</span>]</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [10, 50]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="comparison-of-removal-methods" class="level3" data-number="14.7.4">
<h3 data-number="14.7.4" class="anchored" data-anchor-id="comparison-of-removal-methods"><span class="header-section-number">14.7.4</span> Comparison of Removal Methods</h3>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>Purpose</th>
<th>Example</th>
<th>Returns</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>remove()</code></td>
<td>Remove by value</td>
<td><code>list.remove(x)</code></td>
<td>None</td>
<td>Removes only first occurrence</td>
</tr>
<tr class="even">
<td><code>pop()</code></td>
<td>Remove by index</td>
<td><code>list.pop(i)</code></td>
<td>Removed item</td>
<td>Default is last item</td>
</tr>
<tr class="odd">
<td><code>clear()</code></td>
<td>Remove all items</td>
<td><code>list.clear()</code></td>
<td>None</td>
<td>Empties the list</td>
</tr>
<tr class="even">
<td><code>del</code></td>
<td>Remove by index/slice</td>
<td><code>del list[i]</code></td>
<td>None</td>
<td>Can delete slices</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sorting-and-organizing-lists" class="level2" data-number="14.8">
<h2 data-number="14.8" class="anchored" data-anchor-id="sorting-and-organizing-lists"><span class="header-section-number">14.8</span> 6. Sorting and Organizing Lists</h2>
<p>Python provides powerful tools for sorting and organizing list content:</p>
<section id="basic-sorting" class="level3" data-number="14.8.1">
<h3 data-number="14.8.1" class="anchored" data-anchor-id="basic-sorting"><span class="header-section-number">14.8.1</span> Basic Sorting</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">2</span>, <span class="dv">6</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort in place (modifies original list)</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>numbers.sort()</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [1, 1, 2, 3, 4, 5, 6, 9]</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort in descending order</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>numbers.sort(reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [9, 6, 5, 4, 3, 2, 1, 1]</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new sorted list without modifying original</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>]</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>sorted_list <span class="op">=</span> <span class="bu">sorted</span>(original)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)     <span class="co"># [3, 1, 4, 1, 5] (unchanged)</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_list)  <span class="co"># [1, 1, 3, 4, 5]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sorting-complex-objects" class="level3" data-number="14.8.2">
<h3 data-number="14.8.2" class="anchored" data-anchor-id="sorting-complex-objects"><span class="header-section-number">14.8.2</span> Sorting Complex Objects</h3>
<p>You can sort lists of objects based on specific attributes:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorting strings by length</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="st">"python"</span>, <span class="st">"is"</span>, <span class="st">"awesome"</span>, <span class="st">"and"</span>, <span class="st">"powerful"</span>]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>words.sort(key<span class="op">=</span><span class="bu">len</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(words)  <span class="co"># ["is", "and", "python", "awesome", "powerful"]</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorting custom objects</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person:</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, age):</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Person(</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>age<span class="sc">}</span><span class="ss">)"</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>people <span class="op">=</span> [</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    Person(<span class="st">"Alice"</span>, <span class="dv">30</span>),</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    Person(<span class="st">"Bob"</span>, <span class="dv">25</span>),</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    Person(<span class="st">"Charlie"</span>, <span class="dv">35</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by age</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>people.sort(key<span class="op">=</span><span class="kw">lambda</span> person: person.age)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(people)  <span class="co"># [Person(Bob, 25), Person(Alice, 30), Person(Charlie, 35)]</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by name</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>people.sort(key<span class="op">=</span><span class="kw">lambda</span> person: person.name)</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(people)  <span class="co"># [Person(Alice, 30), Person(Bob, 25), Person(Charlie, 35)]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="reversing-lists" class="level3" data-number="14.8.3">
<h3 data-number="14.8.3" class="anchored" data-anchor-id="reversing-lists"><span class="header-section-number">14.8.3</span> Reversing Lists</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Reverse in place</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>numbers.reverse()</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [5, 4, 3, 2, 1]</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a reversed view (not a list)</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>reversed_view <span class="op">=</span> <span class="bu">reversed</span>(original)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(reversed_view))  <span class="co"># [5, 4, 3, 2, 1]</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick way to reverse: slice with step -1</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original[::<span class="op">-</span><span class="dv">1</span>])  <span class="co"># [5, 4, 3, 2, 1]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="custom-sorting-with-key-and-reverse" class="level3" data-number="14.8.4">
<h3 data-number="14.8.4" class="anchored" data-anchor-id="custom-sorting-with-key-and-reverse"><span class="header-section-number">14.8.4</span> Custom Sorting with key and reverse</h3>
<p>The <code>key</code> parameter accepts a function that extracts a comparison key:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Case-insensitive sorting</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">"alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>, <span class="st">"david"</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>names.sort()  <span class="co"># Default sorting (case-sensitive)</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['Bob', 'Charlie', 'alice', 'david']</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>names.sort(key<span class="op">=</span><span class="bu">str</span>.lower)  <span class="co"># Case-insensitive</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['alice', 'Bob', 'Charlie', 'david']</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by last character</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>names.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['Charlie', 'alice', 'Bob', 'david']</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Combination of key and reverse</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>names.sort(key<span class="op">=</span><span class="bu">len</span>, reverse<span class="op">=</span><span class="va">True</span>)  <span class="co"># Sort by length, longest first</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['Charlie', 'alice', 'david', 'Bob']</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Performance Tip</strong>: When you need both <code>sorted()</code> and <code>reversed()</code>, use <code>sorted(list, reverse=True)</code> rather than <code>reversed(sorted(list))</code>. It’s more efficient and readable.</p>
</blockquote>
</section>
</section>
<section id="working-with-nested-lists" class="level2" data-number="14.9">
<h2 data-number="14.9" class="anchored" data-anchor-id="working-with-nested-lists"><span class="header-section-number">14.9</span> 7. Working with Nested Lists</h2>
<p>Lists can contain other lists, creating multi-dimensional data structures:</p>
<section id="creating-and-accessing-nested-lists" class="level3" data-number="14.9.1">
<h3 data-number="14.9.1" class="anchored" data-anchor-id="creating-and-accessing-nested-lists"><span class="header-section-number">14.9.1</span> Creating and Accessing Nested Lists</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2D list (matrix)</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing elements</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix[<span class="dv">0</span>])      <span class="co"># [1, 2, 3] (first row)</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix[<span class="dv">1</span>][<span class="dv">2</span>])   <span class="co"># 6 (second row, third column)</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Modifying elements</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>matrix[<span class="dv">0</span>][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix)         <span class="co"># [[1, 20, 3], [4, 5, 6], [7, 8, 9]]</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterating through a 2D list</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> matrix:</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> element <span class="kw">in</span> row:</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(element, end<span class="op">=</span><span class="st">" "</span>)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>()  <span class="co"># New line after each row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="lists-of-different-shapes" class="level3" data-number="14.9.2">
<h3 data-number="14.9.2" class="anchored" data-anchor-id="lists-of-different-shapes"><span class="header-section-number">14.9.2</span> Lists of Different Shapes</h3>
<p>Nested lists don’t have to be uniform:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Jagged list (rows of different lengths)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>jagged <span class="op">=</span> [</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing elements safely</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_element(nested_list, row, col):</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Safely get an element from a nested list."""</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> row <span class="op">&lt;</span> <span class="bu">len</span>(nested_list):</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> col <span class="op">&lt;</span> <span class="bu">len</span>(nested_list[row]):</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> nested_list[row][col]</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(get_element(jagged, <span class="dv">1</span>, <span class="dv">1</span>))  <span class="co"># 5</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(get_element(jagged, <span class="dv">1</span>, <span class="dv">3</span>))  <span class="co"># None (out of range)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="practical-uses-for-nested-lists" class="level3" data-number="14.9.3">
<h3 data-number="14.9.3" class="anchored" data-anchor-id="practical-uses-for-nested-lists"><span class="header-section-number">14.9.3</span> Practical Uses for Nested Lists</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Game board (tic-tac-toe)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>board <span class="op">=</span> [</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">" "</span>, <span class="st">" "</span>, <span class="st">" "</span>],</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    [<span class="st">" "</span>, <span class="st">"X"</span>, <span class="st">" "</span>],</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    [<span class="st">" "</span>, <span class="st">" "</span>, <span class="st">"O"</span>]</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the board</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> board:</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"|"</span>.join(row))</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row <span class="op">!=</span> board[<span class="op">-</span><span class="dv">1</span>]:</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"-"</span> <span class="op">*</span> <span class="dv">5</span>)</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Spreadsheet-like data</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Name"</span>, <span class="st">"Age"</span>, <span class="st">"City"</span>],</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Alice"</span>, <span class="dv">30</span>, <span class="st">"New York"</span>],</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Bob"</span>, <span class="dv">25</span>, <span class="st">"San Francisco"</span>],</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Charlie"</span>, <span class="dv">35</span>, <span class="st">"Chicago"</span>]</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Print as a formatted table</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> data:</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>row[<span class="dv">0</span>]<span class="sc">:&lt;10}</span><span class="ss"> </span><span class="sc">{</span>row[<span class="dv">1</span>]<span class="sc">:&lt;5}</span><span class="ss"> </span><span class="sc">{</span>row[<span class="dv">2</span>]<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p><strong>Pro Tip</strong>: For serious multi-dimensional data processing, consider using specialized libraries like NumPy, which provide efficient operations on arrays and matrices.</p>
</blockquote>
</section>
</section>
<section id="list-comprehensions-preview" class="level2" data-number="14.10">
<h2 data-number="14.10" class="anchored" data-anchor-id="list-comprehensions-preview"><span class="header-section-number">14.10</span> 8. List Comprehensions (Preview)</h2>
<p>While we’ll cover this in more detail in Chapter 12, let’s preview list comprehensions—a powerful Python feature for creating lists:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Traditional approach</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> []</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>):</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    squares.append(x<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)  <span class="co"># [1, 4, 9, 16, 25]</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># With list comprehension</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)]</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)  <span class="co"># [1, 4, 9, 16, 25]</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering with a condition</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>even_squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(even_squares)  <span class="co"># [4, 16, 36, 64, 100]</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a flattened list</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">5</span>, <span class="dv">6</span>]]</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>flattened <span class="op">=</span> [x <span class="cf">for</span> row <span class="kw">in</span> matrix <span class="cf">for</span> x <span class="kw">in</span> row]</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(flattened)  <span class="co"># [1, 2, 3, 4, 5, 6]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>List comprehensions provide a concise way to create lists based on existing lists or other iterables. They’re a hallmark of Pythonic code and can make your programs more readable and efficient.</p>
</section>
<section id="common-list-operations-and-functions" class="level2" data-number="14.11">
<h2 data-number="14.11" class="anchored" data-anchor-id="common-list-operations-and-functions"><span class="header-section-number">14.11</span> 9. Common List Operations and Functions</h2>
<p>Python provides many built-in functions for working with lists:</p>
<section id="finding-information" class="level3" data-number="14.11.1">
<h3 data-number="14.11.1" class="anchored" data-anchor-id="finding-information"><span class="header-section-number">14.11.1</span> Finding Information</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">2</span>]</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Length</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(numbers))  <span class="co"># 7</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Count occurrences</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers.count(<span class="dv">2</span>))  <span class="co"># 3</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Find index of first occurrence</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers.index(<span class="dv">4</span>))  <span class="co"># 4</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Find with starting position</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers.index(<span class="dv">2</span>, <span class="dv">2</span>))  <span class="co"># 3 (first occurrence after index 2)</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Membership check</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">3</span> <span class="kw">in</span> numbers)  <span class="co"># True</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">6</span> <span class="kw">in</span> numbers)  <span class="co"># False</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">6</span> <span class="kw">not</span> <span class="kw">in</span> numbers)  <span class="co"># True</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="aggregate-functions" class="level3" data-number="14.11.2">
<h3 data-number="14.11.2" class="anchored" data-anchor-id="aggregate-functions"><span class="header-section-number">14.11.2</span> Aggregate Functions</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="dv">42</span>, <span class="dv">18</span>, <span class="dv">9</span>, <span class="dv">73</span>, <span class="dv">11</span>, <span class="dv">56</span>]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">sum</span>(values))  <span class="co"># 209</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Minimum and maximum</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">min</span>(values))  <span class="co"># 9</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(values))  <span class="co"># 73</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># All and any</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>booleans1 <span class="op">=</span> [<span class="va">True</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">all</span>(booleans1))  <span class="co"># False (not all are True)</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">any</span>(booleans1))  <span class="co"># True (at least one is True)</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>booleans2 <span class="op">=</span> [<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>]</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">any</span>(booleans2))  <span class="co"># False (none are True)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="creating-copies" class="level3" data-number="14.11.3">
<h3 data-number="14.11.3" class="anchored" data-anchor-id="creating-copies"><span class="header-section-number">14.11.3</span> Creating Copies</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, [<span class="dv">3</span>, <span class="dv">4</span>]]</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Shallow copy (references nested objects)</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>shallow_copy1 <span class="op">=</span> original.copy()</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>shallow_copy2 <span class="op">=</span> original[:]  <span class="co"># Slice from start to end</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>shallow_copy3 <span class="op">=</span> <span class="bu">list</span>(original)  <span class="co"># List constructor</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Modifying the nested list affects all shallow copies</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>original[<span class="dv">2</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(shallow_copy1)  <span class="co"># [1, 2, [30, 4]]</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Deep copy (creates new copies of nested objects)</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> copy</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>deep_copy <span class="op">=</span> copy.deepcopy(original)</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>original[<span class="dv">2</span>][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)     <span class="co"># [1, 2, [30, 40]]</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(deep_copy)    <span class="co"># [1, 2, [30, 4]]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It’s important to understand the difference between shallow and deep copies, especially when working with nested lists.</p>
</section>
</section>
<section id="project-corner-building-your-chatbots-memory" class="level2" data-number="14.12">
<h2 data-number="14.12" class="anchored" data-anchor-id="project-corner-building-your-chatbots-memory"><span class="header-section-number">14.12</span> 10. Project Corner: Building Your Chatbot’s Memory</h2>
<p>Now that we understand lists, we can enhance our chatbot with memory capabilities. Let’s implement a conversation history system that will allow the chatbot to remember previous interactions.</p>
<section id="tracking-conversation-history" class="level3" data-number="14.12.1">
<h3 data-number="14.12.1" class="anchored" data-anchor-id="tracking-conversation-history"><span class="header-section-number">14.12.1</span> Tracking Conversation History</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add this to your chatbot code to track conversation history</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>conversation_history <span class="op">=</span> []</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> save_to_history(speaker, message, timestamp<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Save a message to conversation history with optional timestamp."""</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> datetime</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> timestamp <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>        timestamp <span class="op">=</span> datetime.datetime.now()</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    entry <span class="op">=</span> {</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"timestamp"</span>: timestamp,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"speaker"</span>: speaker,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"message"</span>: message</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    conversation_history.append(entry)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Keep history at a reasonable size (last 50 messages)</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(conversation_history) <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>        conversation_history.pop(<span class="dv">0</span>)  <span class="co"># Remove oldest message</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> format_timestamp(timestamp):</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Format a timestamp for display."""</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> timestamp.strftime(<span class="st">"%H:%M:%S"</span>)</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> show_history(limit<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Display the conversation history with optional limit."""</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">----- Conversation History -----"</span>)</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If limit is specified, show only the most recent messages</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>    entries <span class="op">=</span> conversation_history</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> limit <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> limit <span class="op">&lt;</span> <span class="bu">len</span>(entries):</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>        entries <span class="op">=</span> entries[<span class="op">-</span>limit:]</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> entry <span class="kw">in</span> entries:</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>        timestamp <span class="op">=</span> format_timestamp(entry[<span class="st">"timestamp"</span>])</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>        speaker <span class="op">=</span> entry[<span class="st">"speaker"</span>]</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> entry[<span class="st">"message"</span>]</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">] </span><span class="sc">{</span>speaker<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"-------------------------------</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="enhanced-main-loop-with-history-support" class="level3" data-number="14.12.2">
<h3 data-number="14.12.2" class="anchored" data-anchor-id="enhanced-main-loop-with-history-support"><span class="header-section-number">14.12.2</span> Enhanced Main Loop with History Support</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Main chat loop with history features</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Hello! I'm </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">. Type 'bye' to exit."</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Special commands: 'history' to see recent messages, 'history all' to see all messages."</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>user_name <span class="op">=</span> <span class="bu">input</span>(<span class="st">"What's your name? "</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>greeting <span class="op">=</span> <span class="ss">f"Nice to meet you, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>greeting<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>save_to_history(bot_name, greeting)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    save_to_history(user_name, user_input)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Special commands</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>        farewell <span class="op">=</span> <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">! It was nice chatting with you."</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>farewell<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>        save_to_history(bot_name, farewell)</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"history"</span>:</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Show last 5 messages by default</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>        show_history(<span class="dv">5</span>)</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"history all"</span>:</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Show all messages</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>        show_history()</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Response generation (simple for now)</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"hello"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f"Hello there, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"how are you"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="st">"I'm just a computer program, but thanks for asking!"</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"your name"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f"My name is </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">."</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"time"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> datetime</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>        current_time <span class="op">=</span> datetime.datetime.now().strftime(<span class="st">"%H:%M:%S"</span>)</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f"The current time is </span><span class="sc">{</span>current_time<span class="sc">}</span><span class="ss">."</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Default response that references history</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(conversation_history) <span class="op">&gt;</span> <span class="dv">2</span>:</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>            prev_msg <span class="op">=</span> conversation_history[<span class="op">-</span><span class="dv">2</span>][<span class="st">"message"</span>]</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> <span class="ss">f"You previously mentioned '</span><span class="sc">{</span>prev_msg<span class="sc">}</span><span class="ss">'. Can you tell me more about that?"</span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> <span class="st">"I'm not sure how to respond to that yet."</span></span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>    save_to_history(bot_name, response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="memory-based-features" class="level3" data-number="14.12.3">
<h3 data-number="14.12.3" class="anchored" data-anchor-id="memory-based-features"><span class="header-section-number">14.12.3</span> Memory-Based Features</h3>
<p>Let’s add some advanced features that leverage our conversation history:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> search_history(keyword):</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Search conversation history for a keyword."""</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> []</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> entry <span class="kw">in</span> conversation_history:</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> keyword.lower() <span class="kw">in</span> entry[<span class="st">"message"</span>].lower():</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>            results.append(entry)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> summarize_conversation():</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create a simple summary of the conversation."""</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(conversation_history) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"No conversation to summarize."</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    user_msgs <span class="op">=</span> [e <span class="cf">for</span> e <span class="kw">in</span> conversation_history <span class="cf">if</span> e[<span class="st">"speaker"</span>] <span class="op">!=</span> bot_name]</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    bot_msgs <span class="op">=</span> [e <span class="cf">for</span> e <span class="kw">in</span> conversation_history <span class="cf">if</span> e[<span class="st">"speaker"</span>] <span class="op">==</span> bot_name]</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>    duration <span class="op">=</span> conversation_history[<span class="op">-</span><span class="dv">1</span>][<span class="st">"timestamp"</span>] <span class="op">-</span> conversation_history[<span class="dv">0</span>][<span class="st">"timestamp"</span>]</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    minutes <span class="op">=</span> duration.total_seconds() <span class="op">/</span> <span class="dv">60</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> [</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Conversation Summary:"</span>,</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Duration: </span><span class="sc">{</span>minutes<span class="sc">:.1f}</span><span class="ss"> minutes"</span>,</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Total messages: </span><span class="sc">{</span><span class="bu">len</span>(conversation_history)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"User messages: </span><span class="sc">{</span><span class="bu">len</span>(user_msgs)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Bot messages: </span><span class="sc">{</span><span class="bu">len</span>(bot_msgs)<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add frequent words analysis</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>    all_text <span class="op">=</span> <span class="st">" "</span>.join([e[<span class="st">"message"</span>].lower() <span class="cf">for</span> e <span class="kw">in</span> conversation_history])</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> all_text.split()</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>    word_counts <span class="op">=</span> {}</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> word <span class="kw">in</span> words:</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(word) <span class="op">&gt;</span> <span class="dv">3</span>:  <span class="co"># Ignore short words</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>            word_counts[word] <span class="op">=</span> word_counts.get(word, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get top 5 most frequent words</span></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>    top_words <span class="op">=</span> <span class="bu">sorted</span>(word_counts.items(), key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)[:<span class="dv">5</span>]</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> top_words:</span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>        summary.append(<span class="st">"Most frequent words:"</span>)</span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> word, count <span class="kw">in</span> top_words:</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>            summary.append(<span class="ss">f"  - '</span><span class="sc">{</span>word<span class="sc">}</span><span class="ss">': </span><span class="sc">{</span>count<span class="sc">}</span><span class="ss"> times"</span>)</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>.join(summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-history-based-features-in-the-chat-loop" class="level3" data-number="14.12.4">
<h3 data-number="14.12.4" class="anchored" data-anchor-id="using-history-based-features-in-the-chat-loop"><span class="header-section-number">14.12.4</span> Using History-Based Features in the Chat Loop</h3>
<p>Add these commands to the main chat loop to leverage our history features:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to the main loop, inside the special commands section</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> user_input.lower().startswith(<span class="st">"search "</span>):</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    keyword <span class="op">=</span> user_input[<span class="dv">7</span>:].strip()</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> search_history(keyword)</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> results:</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Found </span><span class="sc">{</span><span class="bu">len</span>(results)<span class="sc">}</span><span class="ss"> messages containing '</span><span class="sc">{</span>keyword<span class="sc">}</span><span class="ss">':"</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> entry <span class="kw">in</span> results:</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>            timestamp <span class="op">=</span> format_timestamp(entry[<span class="st">"timestamp"</span>])</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">] </span><span class="sc">{</span>entry[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>entry[<span class="st">'message'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">No messages found containing '</span><span class="sc">{</span>keyword<span class="sc">}</span><span class="ss">'."</span>)</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">continue</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"summary"</span>:</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> summarize_conversation()</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>summary<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">continue</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="tracking-user-preferences-with-lists" class="level3" data-number="14.12.5">
<h3 data-number="14.12.5" class="anchored" data-anchor-id="tracking-user-preferences-with-lists"><span class="header-section-number">14.12.5</span> Tracking User Preferences with Lists</h3>
<p>We can also use lists to track user preferences or topics of interest:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add this to your chatbot's initialization</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>user_interests <span class="op">=</span> []</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>mentioned_topics <span class="op">=</span> {</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"python"</span>: <span class="dv">0</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ai"</span>: <span class="dv">0</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"programming"</span>: <span class="dv">0</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"learning"</span>: <span class="dv">0</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"chatbot"</span>: <span class="dv">0</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add this function to analyze user input for interests</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> track_interests(message):</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Track potential user interests based on their message."""</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update mentioned topics count</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> topic <span class="kw">in</span> mentioned_topics:</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> topic <span class="kw">in</span> message.lower():</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>            mentioned_topics[topic] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>            <span class="co"># If mentioned enough times, add to interests</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> mentioned_topics[topic] <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> topic <span class="kw">not</span> <span class="kw">in</span> user_interests:</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>                user_interests.append(topic)</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="ss">f"I notice you're interested in </span><span class="sc">{</span>topic<span class="sc">}</span><span class="ss">. I'll remember that!"</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Then in the main loop, after saving the user's message:</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>interest_response <span class="op">=</span> track_interests(user_input)</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> interest_response:</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>interest_response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>    save_to_history(bot_name, interest_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Our chatbot now demonstrates several important uses of lists: 1. Maintaining conversation history in a structured format 2. Implementing commands to view, search, and analyze that history 3. Tracking user interests based on conversation patterns 4. Creating a summary of the conversation using aggregated data</p>
<p>These features make our chatbot more useful and engaging, as it can now remember what was said and adapt to the user’s interests over time.</p>
</section>
</section>
<section id="ai-collaboration-corner-working-with-lists-effectively" class="level2" data-number="14.13">
<h2 data-number="14.13" class="anchored" data-anchor-id="ai-collaboration-corner-working-with-lists-effectively"><span class="header-section-number">14.13</span> 11. AI Collaboration Corner: Working with Lists Effectively</h2>
<p>When working with AI assistants on code involving lists, knowing how to articulate your needs and interpret suggestions is crucial. Let’s explore examples of effective collaboration.</p>
<section id="before-vague-prompting" class="level3" data-number="14.13.1">
<h3 data-number="14.13.1" class="anchored" data-anchor-id="before-vague-prompting"><span class="header-section-number">14.13.1</span> Before: Vague Prompting</h3>
<pre><code>Help me make lists for my chatbot.</code></pre>
<p><strong>AI Response:</strong> <em>I can help you implement lists in your chatbot. Lists are a fundamental data structure in Python that can store multiple items. For a chatbot, you might want to use lists to store user inputs, chatbot responses, or predefined answers. Here’s a simple example:</em></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store predefined responses</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>greetings <span class="op">=</span> [<span class="st">"Hello!"</span>, <span class="st">"Hi there!"</span>, <span class="st">"Greetings!"</span>]</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>farewells <span class="op">=</span> [<span class="st">"Goodbye!"</span>, <span class="st">"See you later!"</span>, <span class="st">"Bye!"</span>]</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Store conversation history</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>conversation <span class="op">=</span> []</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>Is there a specific aspect of using lists in your chatbot that you’d like me to elaborate on?</em></p>
<p>This response is correct but generic, requiring more back-and-forth to get specific implementation details.</p>
</section>
<section id="after-detailed-specific-prompting" class="level3" data-number="14.13.2">
<h3 data-number="14.13.2" class="anchored" data-anchor-id="after-detailed-specific-prompting"><span class="header-section-number">14.13.2</span> After: Detailed, Specific Prompting</h3>
<pre><code>I'm building a Python chatbot and need to implement a response history system with the following features:
1. Store each message with speaker name, content, and timestamp
2. Implement a search function to find previous messages by keyword
3. Allow retrieving the last N messages
4. Automatically remove the oldest messages when the history gets too long
5. Use the history to generate context-aware responses

Please provide code examples for these features, showing how to structure the data and implement each function efficiently.</code></pre>
<p><strong>AI Response:</strong> <em>Here’s a comprehensive implementation of a response history system for your chatbot:</em></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Dict, List, Any, Optional</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ChatHistory:</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, max_size: <span class="bu">int</span> <span class="op">=</span> <span class="dv">100</span>):</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Initialize chat history with a maximum size.</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co">            max_size: Maximum number of messages to store (oldest removed first)</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Using deque for efficient appending and popping from both ends</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.messages <span class="op">=</span> deque(maxlen<span class="op">=</span>max_size)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_message(<span class="va">self</span>, speaker: <span class="bu">str</span>, content: <span class="bu">str</span>,</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>                   timestamp: Optional[datetime.datetime] <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Add a message to the history.</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="co">            speaker: Name of the message sender</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="co">            content: The message text</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="co">            timestamp: Optional timestamp (defaults to current time)</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> timestamp <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>            timestamp <span class="op">=</span> datetime.datetime.now()</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> {</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>            <span class="st">"timestamp"</span>: timestamp,</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>            <span class="st">"speaker"</span>: speaker,</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>            <span class="st">"content"</span>: content</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.messages.append(message)</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_recent(<span class="va">self</span>, n: <span class="bu">int</span> <span class="op">=</span> <span class="dv">5</span>) <span class="op">-&gt;</span> List[Dict[<span class="bu">str</span>, Any]]:</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Get the n most recent messages.</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a><span class="co">            n: Number of messages to retrieve</span></span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a><span class="co">            List of message dictionaries</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Convert to list for easier slicing</span></span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>        history_list <span class="op">=</span> <span class="bu">list</span>(<span class="va">self</span>.messages)</span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Return at most n items, starting from the end</span></span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> history_list[<span class="op">-</span><span class="bu">min</span>(n, <span class="bu">len</span>(history_list)):]</span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, keyword: <span class="bu">str</span>) <span class="op">-&gt;</span> List[Dict[<span class="bu">str</span>, Any]]:</span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Search for messages containing the keyword.</span></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a><span class="co">            keyword: Term to search for (case-insensitive)</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a><span class="co">            List of matching message dictionaries</span></span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a>        keyword <span class="op">=</span> keyword.lower()</span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> [msg <span class="cf">for</span> msg <span class="kw">in</span> <span class="va">self</span>.messages</span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> keyword <span class="kw">in</span> msg[<span class="st">"content"</span>].lower()]</span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_context(<span class="va">self</span>, n: <span class="bu">int</span> <span class="op">=</span> <span class="dv">3</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Get recent messages formatted as context for AI responses.</span></span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb37-66"><a href="#cb37-66" aria-hidden="true" tabindex="-1"></a><span class="co">            n: Number of recent messages to include</span></span>
<span id="cb37-67"><a href="#cb37-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-68"><a href="#cb37-68" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb37-69"><a href="#cb37-69" aria-hidden="true" tabindex="-1"></a><span class="co">            Formatted string with recent conversation</span></span>
<span id="cb37-70"><a href="#cb37-70" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb37-71"><a href="#cb37-71" aria-hidden="true" tabindex="-1"></a>        recent <span class="op">=</span> <span class="va">self</span>.get_recent(n)</span>
<span id="cb37-72"><a href="#cb37-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-73"><a href="#cb37-73" aria-hidden="true" tabindex="-1"></a>        context <span class="op">=</span> []</span>
<span id="cb37-74"><a href="#cb37-74" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> recent:</span>
<span id="cb37-75"><a href="#cb37-75" aria-hidden="true" tabindex="-1"></a>            timestamp <span class="op">=</span> msg[<span class="st">"timestamp"</span>].strftime(<span class="st">"%H:%M:%S"</span>)</span>
<span id="cb37-76"><a href="#cb37-76" aria-hidden="true" tabindex="-1"></a>            context.append(<span class="ss">f"[</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">] </span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb37-77"><a href="#cb37-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-78"><a href="#cb37-78" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>.join(context)</span>
<span id="cb37-79"><a href="#cb37-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-80"><a href="#cb37-80" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> generate_summary(<span class="va">self</span>) <span class="op">-&gt;</span> Dict[<span class="bu">str</span>, Any]:</span>
<span id="cb37-81"><a href="#cb37-81" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Generate a statistical summary of the conversation.</span></span>
<span id="cb37-82"><a href="#cb37-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-83"><a href="#cb37-83" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb37-84"><a href="#cb37-84" aria-hidden="true" tabindex="-1"></a><span class="co">            Dictionary with conversation metrics</span></span>
<span id="cb37-85"><a href="#cb37-85" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb37-86"><a href="#cb37-86" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="va">self</span>.messages:</span>
<span id="cb37-87"><a href="#cb37-87" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> {<span class="st">"message_count"</span>: <span class="dv">0</span>}</span>
<span id="cb37-88"><a href="#cb37-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-89"><a href="#cb37-89" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Get all messages as a list for analysis</span></span>
<span id="cb37-90"><a href="#cb37-90" aria-hidden="true" tabindex="-1"></a>        all_msgs <span class="op">=</span> <span class="bu">list</span>(<span class="va">self</span>.messages)</span>
<span id="cb37-91"><a href="#cb37-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-92"><a href="#cb37-92" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Basic count statistics</span></span>
<span id="cb37-93"><a href="#cb37-93" aria-hidden="true" tabindex="-1"></a>        speakers <span class="op">=</span> {}</span>
<span id="cb37-94"><a href="#cb37-94" aria-hidden="true" tabindex="-1"></a>        word_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb37-95"><a href="#cb37-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-96"><a href="#cb37-96" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> all_msgs:</span>
<span id="cb37-97"><a href="#cb37-97" aria-hidden="true" tabindex="-1"></a>            speaker <span class="op">=</span> msg[<span class="st">"speaker"</span>]</span>
<span id="cb37-98"><a href="#cb37-98" aria-hidden="true" tabindex="-1"></a>            speakers[speaker] <span class="op">=</span> speakers.get(speaker, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb37-99"><a href="#cb37-99" aria-hidden="true" tabindex="-1"></a>            word_count <span class="op">+=</span> <span class="bu">len</span>(msg[<span class="st">"content"</span>].split())</span>
<span id="cb37-100"><a href="#cb37-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-101"><a href="#cb37-101" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Time statistics</span></span>
<span id="cb37-102"><a href="#cb37-102" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(all_msgs) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb37-103"><a href="#cb37-103" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> all_msgs[<span class="dv">0</span>][<span class="st">"timestamp"</span>]</span>
<span id="cb37-104"><a href="#cb37-104" aria-hidden="true" tabindex="-1"></a>            end_time <span class="op">=</span> all_msgs[<span class="op">-</span><span class="dv">1</span>][<span class="st">"timestamp"</span>]</span>
<span id="cb37-105"><a href="#cb37-105" aria-hidden="true" tabindex="-1"></a>            duration <span class="op">=</span> (end_time <span class="op">-</span> start_time).total_seconds()</span>
<span id="cb37-106"><a href="#cb37-106" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb37-107"><a href="#cb37-107" aria-hidden="true" tabindex="-1"></a>            duration <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb37-108"><a href="#cb37-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-109"><a href="#cb37-109" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb37-110"><a href="#cb37-110" aria-hidden="true" tabindex="-1"></a>            <span class="st">"message_count"</span>: <span class="bu">len</span>(all_msgs),</span>
<span id="cb37-111"><a href="#cb37-111" aria-hidden="true" tabindex="-1"></a>            <span class="st">"speaker_counts"</span>: speakers,</span>
<span id="cb37-112"><a href="#cb37-112" aria-hidden="true" tabindex="-1"></a>            <span class="st">"word_count"</span>: word_count,</span>
<span id="cb37-113"><a href="#cb37-113" aria-hidden="true" tabindex="-1"></a>            <span class="st">"duration_seconds"</span>: duration,</span>
<span id="cb37-114"><a href="#cb37-114" aria-hidden="true" tabindex="-1"></a>            <span class="st">"messages_per_minute"</span>: (<span class="bu">len</span>(all_msgs) <span class="op">*</span> <span class="dv">60</span> <span class="op">/</span> duration) <span class="cf">if</span> duration <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb37-115"><a href="#cb37-115" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb37-116"><a href="#cb37-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-117"><a href="#cb37-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-118"><a href="#cb37-118" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb37-119"><a href="#cb37-119" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> demo_chat_history():</span>
<span id="cb37-120"><a href="#cb37-120" aria-hidden="true" tabindex="-1"></a>    history <span class="op">=</span> ChatHistory(max_size<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb37-121"><a href="#cb37-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-122"><a href="#cb37-122" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add some sample messages</span></span>
<span id="cb37-123"><a href="#cb37-123" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"User"</span>, <span class="st">"Hello, chatbot!"</span>)</span>
<span id="cb37-124"><a href="#cb37-124" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"Bot"</span>, <span class="st">"Hello! How can I help you today?"</span>)</span>
<span id="cb37-125"><a href="#cb37-125" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"User"</span>, <span class="st">"I'm looking for information about Python lists."</span>)</span>
<span id="cb37-126"><a href="#cb37-126" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"Bot"</span>, <span class="st">"Lists are ordered, mutable collections in Python."</span>)</span>
<span id="cb37-127"><a href="#cb37-127" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"User"</span>, <span class="st">"Can you give me an example?"</span>)</span>
<span id="cb37-128"><a href="#cb37-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-129"><a href="#cb37-129" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get recent messages</span></span>
<span id="cb37-130"><a href="#cb37-130" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Recent messages:"</span>)</span>
<span id="cb37-131"><a href="#cb37-131" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> msg <span class="kw">in</span> history.get_recent(<span class="dv">3</span>):</span>
<span id="cb37-132"><a href="#cb37-132" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb37-133"><a href="#cb37-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-134"><a href="#cb37-134" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Search for messages</span></span>
<span id="cb37-135"><a href="#cb37-135" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Search results for 'python':"</span>)</span>
<span id="cb37-136"><a href="#cb37-136" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> msg <span class="kw">in</span> history.search(<span class="st">"python"</span>):</span>
<span id="cb37-137"><a href="#cb37-137" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb37-138"><a href="#cb37-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-139"><a href="#cb37-139" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get conversation context</span></span>
<span id="cb37-140"><a href="#cb37-140" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Conversation context:"</span>)</span>
<span id="cb37-141"><a href="#cb37-141" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(history.get_context())</span>
<span id="cb37-142"><a href="#cb37-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-143"><a href="#cb37-143" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate summary</span></span>
<span id="cb37-144"><a href="#cb37-144" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Conversation summary:"</span>)</span>
<span id="cb37-145"><a href="#cb37-145" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> history.generate_summary()</span>
<span id="cb37-146"><a href="#cb37-146" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> summary.items():</span>
<span id="cb37-147"><a href="#cb37-147" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb37-148"><a href="#cb37-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-149"><a href="#cb37-149" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the demo</span></span>
<span id="cb37-150"><a href="#cb37-150" aria-hidden="true" tabindex="-1"></a><span class="co"># demo_chat_history()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>This implementation provides several advantages:</em></p>
<ol type="1">
<li><em>Uses <code>deque</code> with <code>maxlen</code> for automatic removal of oldest messages when capacity is reached</em></li>
<li><em>Stores rich message information (timestamp, speaker, content) for detailed analysis</em></li>
<li><em>Provides targeted functions for common operations (getting recent messages, searching, etc.)</em></li>
<li><em>Includes a summary generator for conversation analytics</em></li>
<li><em>Uses type hints to improve code clarity and IDE support</em></li>
</ol>
<p><em>To use this in your chatbot, add the <code>ChatHistory</code> class to your code and integrate it with your main chat loop:</em></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In your main chatbot code</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>user_name <span class="op">=</span> <span class="st">"User"</span>  <span class="co"># You can prompt for this</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>history <span class="op">=</span> ChatHistory()</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Main chat loop</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    history.add_message(user_name, user_input)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="st">"Goodbye!"</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>        history.add_message(bot_name, response)</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Special commands using history</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"history"</span>:</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">--- Recent conversation ---"</span>)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> history.get_recent(<span class="dv">5</span>):</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower().startswith(<span class="st">"search "</span>):</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>        keyword <span class="op">=</span> user_input[<span class="dv">7</span>:].strip()</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>        results <span class="op">=</span> history.search(keyword)</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Found </span><span class="sc">{</span><span class="bu">len</span>(results)<span class="sc">}</span><span class="ss"> messages containing '</span><span class="sc">{</span>keyword<span class="sc">}</span><span class="ss">'"</span>)</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> results:</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Normal response generation - use history for context</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>    context <span class="op">=</span> history.get_context(<span class="dv">3</span>)  <span class="co"># Get last 3 messages</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># In a real implementation, you would use this context</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># to inform your response generation logic</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> <span class="st">"I'm processing your message..."</span>  <span class="co"># Placeholder</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>    history.add_message(bot_name, response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>This design can be extended by:</em> - <em>Adding persistence to save chat history between sessions</em> - <em>Implementing more sophisticated analysis of conversation patterns</em> - <em>Using context to generate better responses with an AI model</em></p>
</section>
<section id="how-to-craft-effective-prompts-about-lists" class="level3" data-number="14.13.3">
<h3 data-number="14.13.3" class="anchored" data-anchor-id="how-to-craft-effective-prompts-about-lists"><span class="header-section-number">14.13.3</span> How to Craft Effective Prompts About Lists</h3>
<p>When asking an AI assistant for help with lists, consider these guidelines:</p>
<ol type="1">
<li><strong>Be specific about your data structure needs</strong>:
<ul>
<li>Describe the elements you want to store (type, structure)</li>
<li>Explain how you’ll access the data (random access, sequential, etc.)</li>
<li>Mention any size constraints or performance considerations</li>
</ul></li>
<li><strong>Explain your operations</strong>:
<ul>
<li>Which operations will be most frequent? (appending, searching, sorting)</li>
<li>Do you need to modify elements in place or create new lists?</li>
<li>Will you need nested structures or just simple lists?</li>
</ul></li>
<li><strong>Provide context for your application</strong>:
<ul>
<li>Explain how lists fit into your larger program</li>
<li>Share any existing code that will interact with these lists</li>
<li>Describe the problem you’re trying to solve</li>
</ul></li>
<li><strong>Ask for specific alternatives</strong>:
<ul>
<li>“Would a dictionary be better than a list for this use case?”</li>
<li>“Should I use a list comprehension or a traditional loop here?”</li>
<li>“Is there a more efficient data structure for this operation?”</li>
</ul></li>
</ol>
<p>Here’s an effective prompt template:</p>
<pre><code>I'm building a [type of application] that needs to [specific functionality].
I plan to use Python lists to store [description of data] with the following operations:
1. [First operation/access pattern]
2. [Second operation/access pattern]
3. [Third operation/access pattern]

Performance considerations: [any specific requirements]
Existing code: [relevant code snippet if applicable]

What's the most efficient way to implement this with Python lists?
Are there alternative data structures I should consider?</code></pre>
</section>
</section>
<section id="common-list-mistakes-and-gotchas" class="level2" data-number="14.14">
<h2 data-number="14.14" class="anchored" data-anchor-id="common-list-mistakes-and-gotchas"><span class="header-section-number">14.14</span> 12. Common List Mistakes and Gotchas</h2>
<p>When working with lists, be aware of these common pitfalls:</p>
<section id="modifying-a-list-while-iterating" class="level3" data-number="14.14.1">
<h3 data-number="14.14.1" class="anchored" data-anchor-id="modifying-a-list-while-iterating"><span class="header-section-number">14.14.1</span> 1. Modifying a List While Iterating</h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Problematic: Modifying while iterating</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers:</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>        numbers.remove(num)  <span class="co"># Modifies the list during iteration</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># Unexpected result: [1, 3, 5]</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach: Create a new list</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>odd_numbers <span class="op">=</span> [num <span class="cf">for</span> num <span class="kw">in</span> numbers <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(odd_numbers)  <span class="co"># [1, 3, 5]</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative: Iterate over a copy</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers.copy():</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>        numbers.remove(num)</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [1, 3, 5]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="confusing-append-and-extend" class="level3" data-number="14.14.2">
<h3 data-number="14.14.2" class="anchored" data-anchor-id="confusing-append-and-extend"><span class="header-section-number">14.14.2</span> 2. Confusing <code>append()</code> and <code>extend()</code></h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Intended: Add individual elements from another list</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrong approach</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>list1.append(list2)  <span class="co"># Creates nested list</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list1)  <span class="co"># [1, 2, 3, [4, 5]]</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct approach</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>list1.extend(list2)  <span class="co"># Adds individual elements</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list1)  <span class="co"># [1, 2, 3, 4, 5]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="unexpected-references" class="level3" data-number="14.14.3">
<h3 data-number="14.14.3" class="anchored" data-anchor-id="unexpected-references"><span class="header-section-number">14.14.3</span> 3. Unexpected References</h3>
<div class="sourceCode" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unexpected behavior with references</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>duplicate <span class="op">=</span> original  <span class="co"># Not a copy, just another reference</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>duplicate.append(<span class="dv">4</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)  <span class="co"># [1, 2, 3, 4] (original is also modified)</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a copy instead</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>duplicate <span class="op">=</span> original.copy()  <span class="co"># Creates a new list</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>duplicate.append(<span class="dv">4</span>)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)  <span class="co"># [1, 2, 3] (original unchanged)</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(duplicate)  <span class="co"># [1, 2, 3, 4]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="subtle-issues-with-list-multiplication" class="level3" data-number="14.14.4">
<h3 data-number="14.14.4" class="anchored" data-anchor-id="subtle-issues-with-list-multiplication"><span class="header-section-number">14.14.4</span> 4. Subtle Issues with List Multiplication</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list of empty lists (problematic)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> <span class="dv">3</span>] <span class="op">*</span> <span class="dv">3</span>  <span class="co"># Creates references to the same inner list</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>matrix[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix)  <span class="co"># [[1, 0, 0], [1, 0, 0], [1, 0, 0]] (all rows modified)</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct approach with list comprehension</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">0</span> <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>)] <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>)]</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>matrix[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix)  <span class="co"># [[1, 0, 0], [0, 0, 0], [0, 0, 0]] (only first row modified)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="indexerror-from-incorrect-bounds-checking" class="level3" data-number="14.14.5">
<h3 data-number="14.14.5" class="anchored" data-anchor-id="indexerror-from-incorrect-bounds-checking"><span class="header-section-number">14.14.5</span> 5. IndexError from Incorrect Bounds Checking</h3>
<div class="sourceCode" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing an element that might not exist</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Risky approach</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># index = 5</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># value = numbers[index]  # Raises IndexError</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Safer approach with bounds checking</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>index <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> index <span class="op">&lt;</span> <span class="bu">len</span>(numbers):</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> numbers[index]</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> <span class="va">None</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(value)  <span class="co"># None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-the-wrong-method-for-removing-elements" class="level3" data-number="14.14.6">
<h3 data-number="14.14.6" class="anchored" data-anchor-id="using-the-wrong-method-for-removing-elements"><span class="header-section-number">14.14.6</span> 6. Using the Wrong Method for Removing Elements</h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>]</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrong: Using del when you want to get the removed value</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> my_list[<span class="dv">2</span>]  <span class="co"># Deletes but doesn't return the value</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: Using pop when you need the removed value</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>value <span class="op">=</span> my_list.pop(<span class="dv">0</span>)  <span class="co"># Removes and returns 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="string-vs.-list-confusion" class="level3" data-number="14.14.7">
<h3 data-number="14.14.7" class="anchored" data-anchor-id="string-vs.-list-confusion"><span class="header-section-number">14.14.7</span> 7. String vs.&nbsp;List Confusion</h3>
<div class="sourceCode" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lists and strings are both sequences but behave differently</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>word <span class="op">=</span> <span class="st">"Python"</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>letters <span class="op">=</span> <span class="bu">list</span>(word)  <span class="co"># Convert to list: ['P', 'y', 't', 'h', 'o', 'n']</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># String is immutable</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># word[0] = 'J'  # TypeError: 'str' object does not support item assignment</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="co"># List is mutable</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>letters[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'J'</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(letters)  <span class="co"># ['J', 'y', 't', 'h', 'o', 'n']</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">''</span>.join(letters))  <span class="co"># Convert back to string: 'Jython'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="performance-considerations-for-lists" class="level2" data-number="14.15">
<h2 data-number="14.15" class="anchored" data-anchor-id="performance-considerations-for-lists"><span class="header-section-number">14.15</span> 13. Performance Considerations for Lists</h2>
<p>Understanding list performance helps you write more efficient code:</p>
<section id="time-complexity-of-common-operations" class="level3" data-number="14.15.1">
<h3 data-number="14.15.1" class="anchored" data-anchor-id="time-complexity-of-common-operations"><span class="header-section-number">14.15.1</span> Time Complexity of Common Operations</h3>
<table class="table">
<thead>
<tr class="header">
<th>Operation</th>
<th>Time Complexity</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Access by index</td>
<td>O(1)</td>
<td><code>my_list[5]</code></td>
</tr>
<tr class="even">
<td>Append to end</td>
<td>O(1)*</td>
<td><code>my_list.append(x)</code></td>
</tr>
<tr class="odd">
<td>Insert at position</td>
<td>O(n)</td>
<td><code>my_list.insert(i, x)</code></td>
</tr>
<tr class="even">
<td>Delete by index</td>
<td>O(n)</td>
<td><code>del my_list[i]</code></td>
</tr>
<tr class="odd">
<td>Delete from end</td>
<td>O(1)</td>
<td><code>my_list.pop()</code></td>
</tr>
<tr class="even">
<td>Delete from position</td>
<td>O(n)</td>
<td><code>my_list.pop(i)</code></td>
</tr>
<tr class="odd">
<td>Search by value</td>
<td>O(n)</td>
<td><code>x in my_list</code></td>
</tr>
<tr class="even">
<td>Length</td>
<td>O(1)</td>
<td><code>len(my_list)</code></td>
</tr>
<tr class="odd">
<td>Slice</td>
<td>O(k)</td>
<td><code>my_list[i:j]</code> (k is slice size)</td>
</tr>
</tbody>
</table>
<p>*Amortized constant time - occasionally O(n) when resizing is needed</p>
</section>
<section id="practical-optimization-tips" class="level3" data-number="14.15.2">
<h3 data-number="14.15.2" class="anchored" data-anchor-id="practical-optimization-tips"><span class="header-section-number">14.15.2</span> Practical Optimization Tips</h3>
<p>For large lists and performance-critical code:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inefficient: Building a list with many concatenations</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> []</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> result <span class="op">+</span> [i]  <span class="co"># Creates a new list each time: O(n²) overall</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Using append</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> []</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    result.append(i)  <span class="co"># Amortized O(1) per operation: O(n) overall</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Using list comprehension</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>)]  <span class="co"># Most Pythonic and efficient</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Inefficient: Frequent insertions at the beginning</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> []</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    data.insert(<span class="dv">0</span>, i)  <span class="co"># Each insert shifts all elements: O(n²) overall</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Append and reverse later</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> []</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    data.append(i)</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>data.reverse()  <span class="co"># O(n) operation once at the end</span></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Inefficient: Repeatedly checking if an element exists in a large list</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>large_list <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">10000</span>))</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="kw">in</span> large_list:  <span class="co"># O(n) search each time: O(n²) overall</span></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Convert to set for O(1) lookups</span></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>large_set <span class="op">=</span> <span class="bu">set</span>(large_list)  <span class="co"># O(n) conversion once</span></span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="kw">in</span> large_set:  <span class="co"># O(1) lookup: O(n) overall</span></span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In summary: - Prefer in-place operations when possible - Use appropriate data structures (sets for frequent lookups) - Batch operations instead of performing them one by one - Consider alternatives like collections.deque for frequent insertions/deletions at both ends</p>
</section>
</section>
<section id="self-assessment-quiz" class="level2" data-number="14.16">
<h2 data-number="14.16" class="anchored" data-anchor-id="self-assessment-quiz"><span class="header-section-number">14.16</span> 14. Self-Assessment Quiz</h2>
<p>Test your understanding of Python lists with these questions:</p>
<ol type="1">
<li><p>Which method adds a single element to the end of a list?</p>
<ol type="a">
<li><code>add()</code></li>
<li><code>insert()</code></li>
<li><code>append()</code></li>
<li><code>extend()</code></li>
</ol></li>
<li><p>What will be the value of <code>numbers</code> after this code runs?</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>numbers[<span class="dv">1</span>:<span class="dv">3</span>] <span class="op">=</span> [<span class="dv">8</span>, <span class="dv">9</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="a">
<li><code>[1, 8, 9, 4]</code></li>
<li><code>[1, 8, 9, 3, 4]</code></li>
<li><code>[1, 2, 8, 9, 4]</code></li>
<li><code>[1, 2, 8, 9, 3, 4]</code></li>
</ol></li>
<li><p>Which is the correct way to create a deep copy of a nested list?</p>
<ol type="a">
<li><code>new_list = old_list[:]</code></li>
<li><code>new_list = old_list.copy()</code></li>
<li><code>new_list = list(old_list)</code></li>
<li><code>import copy; new_list = copy.deepcopy(old_list)</code></li>
</ol></li>
<li><p>What happens if you try to access <code>my_list[10]</code> when <code>my_list</code> has only 5 elements?</p>
<ol type="a">
<li>It returns <code>None</code></li>
<li>It raises an <code>IndexError</code></li>
<li>It returns the last element</li>
<li>It returns an empty list</li>
</ol></li>
<li><p>What’s the output of the following code?</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> data <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="a">
<li><code>[2, 4, 6]</code></li>
<li><code>[1, 2, 3, 1, 2, 3]</code></li>
<li><code>[1, 1, 2, 2, 3, 3]</code></li>
<li><code>[1, 2, 3, 2]</code></li>
</ol></li>
<li><p>Which method sorts a list in-place (modifying the original list)?</p>
<ol type="a">
<li><code>sorted(my_list)</code></li>
<li><code>my_list.sort()</code></li>
<li><code>my_list.sorted()</code></li>
<li><code>sort(my_list)</code></li>
</ol></li>
<li><p>What’s the difference between <code>remove()</code> and <code>pop()</code>?</p>
<ol type="a">
<li><code>remove()</code> deletes by position, <code>pop()</code> deletes by value</li>
<li><code>remove()</code> deletes by value, <code>pop()</code> deletes by position</li>
<li><code>remove()</code> returns the removed value, <code>pop()</code> doesn’t</li>
<li><code>remove()</code> can delete multiple occurrences, <code>pop()</code> only deletes one</li>
</ol></li>
<li><p>Which code correctly creates a 3x3 matrix (list of lists) with all zeros?</p>
<ol type="a">
<li><code>[[0] * 3] * 3</code></li>
<li><code>[[0 for _ in range(3)] for _ in range(3)]</code></li>
<li><code>[0, 0, 0, 0, 0, 0, 0, 0, 0]</code></li>
<li>Both a and b are correct</li>
</ol></li>
<li><p>What operation should you use to efficiently check if a value exists in a large list?</p>
<ol type="a">
<li><code>value in my_list</code></li>
<li><code>my_list.index(value)</code></li>
<li>Convert the list to a set first, then use <code>value in my_set</code></li>
<li>Use a for loop to compare each element</li>
</ol></li>
<li><p>In a chatbot that tracks conversation history with a list, what’s the most efficient way to keep only the most recent 50 messages?</p>
<ol type="a">
<li>Check the length after each addition and remove the oldest if needed</li>
<li>Use <code>collections.deque</code> with <code>maxlen=50</code></li>
<li>Clear the list and rebuild it whenever it reaches 100 messages</li>
<li>Slice the list to the most recent 50 elements after each addition</li>
</ol></li>
</ol>
<p><strong>Answers:</strong> 1. c) <code>append()</code> — This adds a single element to the end of the list 2. a) <code>[1, 8, 9, 4]</code> — Slice assignment replaces the entire slice with the new elements 3. d) <code>import copy; new_list = copy.deepcopy(old_list)</code> — Only deepcopy creates new copies of nested objects 4. b) It raises an <code>IndexError</code> — Python raises an error when accessing an index that doesn’t exist 5. b) <code>[1, 2, 3, 1, 2, 3]</code> — The <code>*</code> operator repeats the list 6. b) <code>my_list.sort()</code> — This modifies the original list, while <code>sorted()</code> returns a new list 7. b) <code>remove()</code> deletes by value, <code>pop()</code> deletes by position — And <code>pop()</code> returns the removed value 8. b) <code>[[0 for _ in range(3)] for _ in range(3)]</code> — This creates independent inner lists 9. c) Convert the list to a set first, then use <code>value in my_set</code> — Set lookups are O(1) 10. b) Use <code>collections.deque</code> with <code>maxlen=50</code> — This automatically removes the oldest items</p>
</section>
<section id="practical-exercises-mastering-lists" class="level2" data-number="14.17">
<h2 data-number="14.17" class="anchored" data-anchor-id="practical-exercises-mastering-lists"><span class="header-section-number">14.17</span> 15. Practical Exercises: Mastering Lists</h2>
<p>Practice your list skills with these exercises:</p>
<section id="exercise-1-chatbot-response-selector" class="level3" data-number="14.17.1">
<h3 data-number="14.17.1" class="anchored" data-anchor-id="exercise-1-chatbot-response-selector"><span class="header-section-number">14.17.1</span> Exercise 1: Chatbot Response Selector</h3>
<p>Create a function that selects an appropriate chatbot response from categorized response lists:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> select_response(user_input, response_categories):</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Select an appropriate response based on user input.</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input: The user's message</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co">        response_categories: Dictionary mapping categories to response lists</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co">        An appropriate response string</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Check user_input for keywords matching each category</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. Select a random response from the matching category</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. If no match, select from the "default" category</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example usage:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>responses <span class="op">=</span> {</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"greeting"</span>: [<span class="st">"Hello!"</span>, <span class="st">"Hi there!"</span>, <span class="st">"Greetings!"</span>],</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"farewell"</span>: [<span class="st">"Goodbye!"</span>, <span class="st">"See you later!"</span>, <span class="st">"Bye!"</span>],</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"thanks"</span>: [<span class="st">"You're welcome!"</span>, <span class="st">"No problem!"</span>, <span class="st">"Anytime!"</span>],</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"default"</span>: [<span class="st">"I'm not sure what you mean."</span>, <span class="st">"Could you rephrase that?"</span>]</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Test with different inputs</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>test_inputs <span class="op">=</span> [<span class="st">"hello"</span>, <span class="st">"thanks for that"</span>, <span class="st">"goodbye"</span>, <span class="st">"what's the weather?"</span>]</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> test <span class="kw">in</span> test_inputs:</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"User: </span><span class="sc">{</span>test<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Bot: </span><span class="sc">{</span>select_response(test, responses)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exercise-2-conversation-history-manager" class="level3" data-number="14.17.2">
<h3 data-number="14.17.2" class="anchored" data-anchor-id="exercise-2-conversation-history-manager"><span class="header-section-number">14.17.2</span> Exercise 2: Conversation History Manager</h3>
<p>Build a class that manages conversation history with various operations:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ConversationManager:</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Manages a chat conversation history."""</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, max_history<span class="op">=</span><span class="dv">50</span>):</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Initialize with empty history and maximum size."""</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_message(<span class="va">self</span>, speaker, message):</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Add a message to history, maintaining max size."""</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_recent(<span class="va">self</span>, count<span class="op">=</span><span class="dv">5</span>):</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Get the most recent messages."""</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, keyword):</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Search for messages containing the keyword."""</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> clear_history(<span class="va">self</span>):</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Clear all conversation history."""</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_speaker_stats(<span class="va">self</span>):</span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Return statistics about each speaker's participation."""</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here: count messages per speaker</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exercise-3-list-based-menu-system" class="level3" data-number="14.17.3">
<h3 data-number="14.17.3" class="anchored" data-anchor-id="exercise-3-list-based-menu-system"><span class="header-section-number">14.17.3</span> Exercise 3: List-based Menu System</h3>
<p>Create a menu system for your chatbot using nested lists:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_menu(menu_items, title<span class="op">=</span><span class="st">"Main Menu"</span>):</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Display a formatted menu from a list of items.</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="co">        menu_items: List of (option, description) tuples</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="co">        title: Menu title</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Display the title with decorative borders</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. List each option with its number</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. Add a prompt at the end</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_menu_choice(menu_items):</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="co">    Get the user's menu selection.</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a><span class="co">        menu_items: List of (option, description) tuples</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a><span class="co">        The selected option string or None if invalid</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Display the menu</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. Get and validate user input</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. Return the selected option or None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example usage:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define nested menu structure</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>main_menu <span class="op">=</span> [</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"chat"</span>, <span class="st">"Start a conversation"</span>),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"settings"</span>, <span class="st">"Configure chatbot settings"</span>),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"history"</span>, <span class="st">"View conversation history"</span>),</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"exit"</span>, <span class="st">"Exit the program"</span>)</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>settings_menu <span class="op">=</span> [</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"name"</span>, <span class="st">"Change chatbot name"</span>),</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"color"</span>, <span class="st">"Change display colors"</span>),</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"history_size"</span>, <span class="st">"Set history size"</span>),</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"back"</span>, <span class="st">"Return to main menu"</span>)</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the menu system</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>    choice <span class="op">=</span> get_menu_choice(main_menu)</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> choice <span class="op">==</span> <span class="st">"chat"</span>:</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Starting conversation..."</span>)</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> choice <span class="op">==</span> <span class="st">"settings"</span>:</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>        settings_choice <span class="op">=</span> get_menu_choice(settings_menu)</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Handle settings choices</span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> choice <span class="op">==</span> <span class="st">"history"</span>:</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Displaying history..."</span>)</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> choice <span class="op">==</span> <span class="st">"exit"</span>:</span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Goodbye!"</span>)</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exercise-4-smart-list-operations" class="level3" data-number="14.17.4">
<h3 data-number="14.17.4" class="anchored" data-anchor-id="exercise-4-smart-list-operations"><span class="header-section-number">14.17.4</span> Exercise 4: Smart List Operations</h3>
<p>Implement these utility functions for common list operations:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> find_duplicates(items):</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return a list of duplicate items."""</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> merge_sorted_lists(list1, list2):</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Merge two sorted lists into a new sorted list."""</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> rotate_list(items, positions):</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Rotate a list by the given number of positions."""</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Positive positions: rotate right</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Negative positions: rotate left</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> group_by_attribute(objects, attribute):</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Group objects by the value of a specific attribute."""</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return a dictionary mapping attribute values to lists of objects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="advanced-topic-alternative-collection-types" class="level2" data-number="14.18">
<h2 data-number="14.18" class="anchored" data-anchor-id="advanced-topic-alternative-collection-types"><span class="header-section-number">14.18</span> 16. Advanced Topic: Alternative Collection Types</h2>
<p>While lists are versatile, Python offers other collection types that may better suit specific needs:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># collections.deque: Efficient for operations at both ends</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>queue <span class="op">=</span> deque([<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>])</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>queue.append(<span class="st">"David"</span>)        <span class="co"># Add to right end</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>queue.appendleft(<span class="st">"Eve"</span>)      <span class="co"># Add to left end</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> queue.popleft()      <span class="co"># Remove from left</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>last <span class="op">=</span> queue.pop()           <span class="co"># Remove from right</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(queue)                 <span class="co"># deque(['Alice', 'Bob', 'Charlie'])</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="co"># tuple: Immutable sequence</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>coordinates <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">20</span>)       <span class="co"># Can't be modified after creation</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>single_item <span class="op">=</span> (<span class="dv">10</span>,)          <span class="co"># Note the comma for single-item tuples</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="co"># set: Unordered collection with no duplicates</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>unique_numbers <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>}</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(unique_numbers)        <span class="co"># {1, 2, 3}</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>unique_numbers.add(<span class="dv">4</span>)        <span class="co"># Add an element</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>unique_numbers.remove(<span class="dv">2</span>)     <span class="co"># Remove an element</span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a><span class="co"># collections.Counter: Count occurrences</span></span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"apple"</span>, <span class="st">"orange"</span>, <span class="st">"banana"</span>, <span class="st">"apple"</span>]</span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>word_counts <span class="op">=</span> Counter(words)</span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(word_counts)           <span class="co"># Counter({'apple': 3, 'banana': 2, 'orange': 1})</span></span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(word_counts.most_common(<span class="dv">2</span>))  <span class="co"># [('apple', 3), ('banana', 2)]</span></span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a><span class="co"># array.array: Memory-efficient arrays of numeric values</span></span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> array <span class="im">import</span> array</span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> array(<span class="st">'i'</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])  <span class="co"># Array of integers</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Consider these alternatives when: - You need efficient operations at both ends of the collection (deque) - Your collection won’t change after creation (tuple) - You need to ensure all elements are unique (set) - You need to count occurrences of elements (Counter) - You need memory-efficient storage of numeric data (array)</p>
</section>
<section id="cross-references" class="level2" data-number="14.19">
<h2 data-number="14.19" class="anchored" data-anchor-id="cross-references"><span class="header-section-number">14.19</span> 17. Cross-References</h2>
<ul>
<li><strong>Previous Chapter</strong>: <a href="../chapters/10_making_decisions.html">Making Decisions</a> — Learn how to direct your program’s flow</li>
<li><strong>Next Chapter</strong>: <a href="../chapters/12_going_loopy.html">Going Loopy</a> — Repeat operations with different kinds of loops</li>
<li><strong>Related Topic</strong>: <a href="../chapters/13_strings.html">Strings</a> — Text manipulation techniques (strings are similar to lists but immutable)</li>
<li><strong>Related Topic</strong>: <a href="../chapters/14_dictionaries.html">Dictionaries</a> — Key-value mapping for more complex data organization</li>
<li><strong>Project Application</strong>: <a href="../chapters/chatbot_project.html">Chatbot Project</a> — See how lists evolve through the chatbot development</li>
<li><strong>Advanced Topic</strong>: <a href="../chapters/16_errors_and_exceptions.html">Errors and Exceptions</a> — Handle errors when working with lists</li>
</ul>
</section>
<section id="summary-putting-lists-to-work" class="level2" data-number="14.20">
<h2 data-number="14.20" class="anchored" data-anchor-id="summary-putting-lists-to-work"><span class="header-section-number">14.20</span> 18. Summary: Putting Lists to Work</h2>
<p>In this chapter, we’ve explored Python lists—one of the most versatile and frequently used data structures in Python programming. Lists allow us to organize collections of related data, whether it’s a series of messages in a conversation, user preferences, or any group of values that belong together.</p>
<p>Key concepts covered include:</p>
<ul>
<li><strong>Creating and initializing lists</strong> using various techniques</li>
<li><strong>Accessing and modifying list elements</strong> with indexing and slicing</li>
<li><strong>Adding and removing elements</strong> using methods like <code>append()</code>, <code>extend()</code>, <code>insert()</code>, <code>remove()</code>, and <code>pop()</code></li>
<li><strong>Sorting and organizing list data</strong> with <code>sort()</code>, <code>reverse()</code>, and other operations</li>
<li><strong>Working with nested lists</strong> to create multi-dimensional data structures</li>
<li><strong>Using lists to track conversation history</strong> in our chatbot project</li>
<li><strong>Common mistakes and their solutions</strong> when working with lists</li>
<li><strong>Performance considerations</strong> for efficient list operations</li>
</ul>
<p>For our chatbot project, lists have enabled a significant advancement: the ability to remember. By tracking conversation history in a list, our chatbot can now recall previous messages, search for keywords, and even analyze patterns in the conversation. This memory capability is fundamental to creating a more engaging and contextually aware chatbot.</p>
<p>As we move forward in our Python journey, lists will continue to be a cornerstone data structure. In the next chapter, we’ll learn about loops, which pair naturally with lists to process collections of data efficiently.</p>
<p>The main takeaway: Lists are Python’s workhorses for handling collections of items. Mastering lists gives you the power to organize, manipulate, and process related data in clean, efficient ways—an essential skill whether you’re building a chatbot, analyzing data, or creating any application that needs to work with multiple values as a unified collection.</p>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/10_making_decisions.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Decision Director: Guiding Your Program’s Path with If Statements</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/12_going_loopy.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Going Loopy: Repeating Code Without Losing Your Mind</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb57" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> 'List Laboratory: Organizing Data in Python''s Most Versatile Container'</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># Chapter 11: Lists - Organizing Collections of Data</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="fu">## Chapter Outline</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Understanding lists and their importance in programming</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Creating, accessing, and modifying lists</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Essential list methods and operations</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sorting and manipulating list data</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Working with nested lists and multi-dimensional data</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using lists for tracking state and history</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Practical applications of lists in real-world scenarios</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## Learning Objectives</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>By the end of this chapter, you will be able to:</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create and modify Python lists with confidence</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Add, remove, and update elements in a list using appropriate methods</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Access specific elements using indexes and slicing</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sort and organize list data efficiently</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Work with lists of different data types</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create and manipulate nested lists for multi-dimensional data</span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use lists to implement history tracking and state management in your chatbot</span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Apply list operations to solve common programming challenges</span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. Introduction: Why We Need Lists</span></span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a>In programming, we frequently need to work with collections of related data. Without lists, managing multiple related values becomes cumbersome and inefficient.</span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>Imagine you're building a chatbot that needs to remember the last five questions a user asked. Without lists, you'd need five separate variables:</span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a>question1 <span class="op">=</span> <span class="st">"What's your name?"</span></span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a>question2 <span class="op">=</span> <span class="st">"How are you programmed?"</span></span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a>question3 <span class="op">=</span> <span class="st">"What can you do?"</span></span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a>question4 <span class="op">=</span> <span class="st">"Who created you?"</span></span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a>question5 <span class="op">=</span> <span class="st">"Can you help me learn Python?"</span></span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a>This approach has several problems:</span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>It's difficult to iterate through the questions</span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Adding a sixth question would require creating a new variable</span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>There's no easy way to track the order or perform operations on all questions at once</span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a>Lists solve these problems elegantly:</span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-50"><a href="#cb57-50" aria-hidden="true" tabindex="-1"></a>recent_questions <span class="op">=</span> [</span>
<span id="cb57-51"><a href="#cb57-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">"What's your name?"</span>,</span>
<span id="cb57-52"><a href="#cb57-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">"How are you programmed?"</span>,</span>
<span id="cb57-53"><a href="#cb57-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">"What can you do?"</span>,</span>
<span id="cb57-54"><a href="#cb57-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Who created you?"</span>,</span>
<span id="cb57-55"><a href="#cb57-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Can you help me learn Python?"</span></span>
<span id="cb57-56"><a href="#cb57-56" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-57"><a href="#cb57-57" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-58"><a href="#cb57-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-59"><a href="#cb57-59" aria-hidden="true" tabindex="-1"></a>With a list, you can:</span>
<span id="cb57-60"><a href="#cb57-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Add new questions with a single operation</span>
<span id="cb57-61"><a href="#cb57-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Remove old questions automatically</span>
<span id="cb57-62"><a href="#cb57-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Iterate through all questions easily</span>
<span id="cb57-63"><a href="#cb57-63" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Maintain the order of questions</span>
<span id="cb57-64"><a href="#cb57-64" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Apply the same operations to all items</span>
<span id="cb57-65"><a href="#cb57-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-66"><a href="#cb57-66" aria-hidden="true" tabindex="-1"></a>Lists are foundational data structures in Python and serve as building blocks for more complex applications. They allow you to organize collections of data in a way that's both powerful and flexible.</span>
<span id="cb57-67"><a href="#cb57-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-68"><a href="#cb57-68" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Key Concept**: A list in Python is an ordered collection of items that can be of any data type (including other lists). Lists are mutable (changeable), maintain the order of inserted items, and can contain duplicate values.</span></span>
<span id="cb57-69"><a href="#cb57-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-70"><a href="#cb57-70" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Creating and Initializing Lists</span></span>
<span id="cb57-71"><a href="#cb57-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-72"><a href="#cb57-72" aria-hidden="true" tabindex="-1"></a>Python offers several ways to create lists, each suited to different situations:</span>
<span id="cb57-73"><a href="#cb57-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-74"><a href="#cb57-74" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basic List Creation</span></span>
<span id="cb57-75"><a href="#cb57-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-76"><a href="#cb57-76" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-77"><a href="#cb57-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Empty list</span></span>
<span id="cb57-78"><a href="#cb57-78" aria-hidden="true" tabindex="-1"></a>empty_list <span class="op">=</span> []</span>
<span id="cb57-79"><a href="#cb57-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-80"><a href="#cb57-80" aria-hidden="true" tabindex="-1"></a><span class="co"># List with initial values</span></span>
<span id="cb57-81"><a href="#cb57-81" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-82"><a href="#cb57-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-83"><a href="#cb57-83" aria-hidden="true" tabindex="-1"></a><span class="co"># List with mixed data types</span></span>
<span id="cb57-84"><a href="#cb57-84" aria-hidden="true" tabindex="-1"></a>mixed_list <span class="op">=</span> [<span class="st">"Alice"</span>, <span class="dv">42</span>, <span class="va">True</span>, <span class="fl">3.14</span>, [<span class="dv">1</span>, <span class="dv">2</span>]]</span>
<span id="cb57-85"><a href="#cb57-85" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-86"><a href="#cb57-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-87"><a href="#cb57-87" aria-hidden="true" tabindex="-1"></a><span class="fu">### Creating Lists Programmatically</span></span>
<span id="cb57-88"><a href="#cb57-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-89"><a href="#cb57-89" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-90"><a href="#cb57-90" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list from another sequence</span></span>
<span id="cb57-91"><a href="#cb57-91" aria-hidden="true" tabindex="-1"></a>letters <span class="op">=</span> <span class="bu">list</span>(<span class="st">"abcde"</span>)  <span class="co"># Creates ['a', 'b', 'c', 'd', 'e']</span></span>
<span id="cb57-92"><a href="#cb57-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-93"><a href="#cb57-93" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list of numbers with range</span></span>
<span id="cb57-94"><a href="#cb57-94" aria-hidden="true" tabindex="-1"></a>one_to_ten <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>))  <span class="co"># [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span>
<span id="cb57-95"><a href="#cb57-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-96"><a href="#cb57-96" aria-hidden="true" tabindex="-1"></a><span class="co"># List comprehension (we'll cover this more in Chapter 12)</span></span>
<span id="cb57-97"><a href="#cb57-97" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)]  <span class="co"># [1, 4, 9, 16, 25]</span></span>
<span id="cb57-98"><a href="#cb57-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-99"><a href="#cb57-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-100"><a href="#cb57-100" aria-hidden="true" tabindex="-1"></a><span class="fu">### Pre-initializing Lists</span></span>
<span id="cb57-101"><a href="#cb57-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-102"><a href="#cb57-102" aria-hidden="true" tabindex="-1"></a>Sometimes you need to create a list with placeholder values:</span>
<span id="cb57-103"><a href="#cb57-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-104"><a href="#cb57-104" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-105"><a href="#cb57-105" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list with 5 zeros</span></span>
<span id="cb57-106"><a href="#cb57-106" aria-hidden="true" tabindex="-1"></a>zeros <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> <span class="dv">5</span>  <span class="co"># [0, 0, 0, 0, 0]</span></span>
<span id="cb57-107"><a href="#cb57-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-108"><a href="#cb57-108" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list with 3 empty strings</span></span>
<span id="cb57-109"><a href="#cb57-109" aria-hidden="true" tabindex="-1"></a>empty_strings <span class="op">=</span> [<span class="st">""</span>] <span class="op">*</span> <span class="dv">3</span>  <span class="co"># ["", "", ""]</span></span>
<span id="cb57-110"><a href="#cb57-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-111"><a href="#cb57-111" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize a list with None values</span></span>
<span id="cb57-112"><a href="#cb57-112" aria-hidden="true" tabindex="-1"></a>none_list <span class="op">=</span> [<span class="va">None</span>] <span class="op">*</span> <span class="dv">10</span>  <span class="co"># [None, None, ..., None]</span></span>
<span id="cb57-113"><a href="#cb57-113" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-114"><a href="#cb57-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-115"><a href="#cb57-115" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Important Note**: When duplicating lists containing mutable objects (like other lists), be careful with the multiplication operator. It creates references to the same object, not copies:</span></span>
<span id="cb57-116"><a href="#cb57-116" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;</span></span>
<span id="cb57-117"><a href="#cb57-117" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; ```python</span></span>
<span id="cb57-118"><a href="#cb57-118" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; # This creates a list with 3 references to the SAME inner list</span></span>
<span id="cb57-119"><a href="#cb57-119" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; problematic = [</span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">] * 3  # [</span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">]</span></span>
<span id="cb57-120"><a href="#cb57-120" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; problematic</span><span class="co">[</span><span class="ot">0</span><span class="co">][0]</span><span class="at"> = 1  # Changes ALL first elements: [</span><span class="co">[</span><span class="ot">1, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">1, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">1, 0</span><span class="co">]</span><span class="at">]</span></span>
<span id="cb57-121"><a href="#cb57-121" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;</span></span>
<span id="cb57-122"><a href="#cb57-122" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; # Better approach: use a list comprehension</span></span>
<span id="cb57-123"><a href="#cb57-123" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; correct = [</span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at"> for _ in range(3)]  # [</span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">]</span></span>
<span id="cb57-124"><a href="#cb57-124" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; correct</span><span class="co">[</span><span class="ot">0</span><span class="co">][0]</span><span class="at"> = 1  # Only changes first list: [</span><span class="co">[</span><span class="ot">1, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">, </span><span class="co">[</span><span class="ot">0, 0</span><span class="co">]</span><span class="at">]</span></span>
<span id="cb57-125"><a href="#cb57-125" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; ```</span></span>
<span id="cb57-126"><a href="#cb57-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-127"><a href="#cb57-127" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Accessing List Elements</span></span>
<span id="cb57-128"><a href="#cb57-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-129"><a href="#cb57-129" aria-hidden="true" tabindex="-1"></a>Python provides powerful mechanisms for accessing elements in a list.</span>
<span id="cb57-130"><a href="#cb57-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-131"><a href="#cb57-131" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basic Indexing</span></span>
<span id="cb57-132"><a href="#cb57-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-133"><a href="#cb57-133" aria-hidden="true" tabindex="-1"></a>Python uses zero-based indexing, meaning the first element is at index 0:</span>
<span id="cb57-134"><a href="#cb57-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-135"><a href="#cb57-135" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-136"><a href="#cb57-136" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>, <span class="st">"elderberry"</span>]</span>
<span id="cb57-137"><a href="#cb57-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-138"><a href="#cb57-138" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing by positive index (from the beginning)</span></span>
<span id="cb57-139"><a href="#cb57-139" aria-hidden="true" tabindex="-1"></a>first_fruit <span class="op">=</span> fruits[<span class="dv">0</span>]  <span class="co"># "apple"</span></span>
<span id="cb57-140"><a href="#cb57-140" aria-hidden="true" tabindex="-1"></a>third_fruit <span class="op">=</span> fruits[<span class="dv">2</span>]  <span class="co"># "cherry"</span></span>
<span id="cb57-141"><a href="#cb57-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-142"><a href="#cb57-142" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing by negative index (from the end)</span></span>
<span id="cb57-143"><a href="#cb57-143" aria-hidden="true" tabindex="-1"></a>last_fruit <span class="op">=</span> fruits[<span class="op">-</span><span class="dv">1</span>]  <span class="co"># "elderberry"</span></span>
<span id="cb57-144"><a href="#cb57-144" aria-hidden="true" tabindex="-1"></a>second_to_last <span class="op">=</span> fruits[<span class="op">-</span><span class="dv">2</span>]  <span class="co"># "date"</span></span>
<span id="cb57-145"><a href="#cb57-145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-146"><a href="#cb57-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-147"><a href="#cb57-147" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Visualization**: Think of indices as pointing to the spaces between elements:</span></span>
<span id="cb57-148"><a href="#cb57-148" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;</span></span>
<span id="cb57-149"><a href="#cb57-149" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; ```</span></span>
<span id="cb57-150"><a href="#cb57-150" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;     0       1        2         3          4           5</span></span>
<span id="cb57-151"><a href="#cb57-151" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;     |       |        |         |          |           |</span></span>
<span id="cb57-152"><a href="#cb57-152" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    </span><span class="co">[</span><span class="ot">"apple", "banana", "cherry", "date", "elderberry"</span><span class="co">]</span></span>
<span id="cb57-153"><a href="#cb57-153" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;     |       |        |         |          |</span></span>
<span id="cb57-154"><a href="#cb57-154" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;    -5      -4       -3        -2         -1</span></span>
<span id="cb57-155"><a href="#cb57-155" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; ```</span></span>
<span id="cb57-156"><a href="#cb57-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-157"><a href="#cb57-157" aria-hidden="true" tabindex="-1"></a><span class="fu">### List Slicing</span></span>
<span id="cb57-158"><a href="#cb57-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-159"><a href="#cb57-159" aria-hidden="true" tabindex="-1"></a>Slicing allows you to extract a portion of a list:</span>
<span id="cb57-160"><a href="#cb57-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-161"><a href="#cb57-161" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-162"><a href="#cb57-162" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>, <span class="st">"elderberry"</span>]</span>
<span id="cb57-163"><a href="#cb57-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-164"><a href="#cb57-164" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic slicing: list[start:end] (end is exclusive)</span></span>
<span id="cb57-165"><a href="#cb57-165" aria-hidden="true" tabindex="-1"></a>first_three <span class="op">=</span> fruits[<span class="dv">0</span>:<span class="dv">3</span>]  <span class="co"># ["apple", "banana", "cherry"]</span></span>
<span id="cb57-166"><a href="#cb57-166" aria-hidden="true" tabindex="-1"></a>middle_three <span class="op">=</span> fruits[<span class="dv">1</span>:<span class="dv">4</span>]  <span class="co"># ["banana", "cherry", "date"]</span></span>
<span id="cb57-167"><a href="#cb57-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-168"><a href="#cb57-168" aria-hidden="true" tabindex="-1"></a><span class="co"># Omitting start/end</span></span>
<span id="cb57-169"><a href="#cb57-169" aria-hidden="true" tabindex="-1"></a>from_beginning <span class="op">=</span> fruits[:<span class="dv">3</span>]  <span class="co"># ["apple", "banana", "cherry"]</span></span>
<span id="cb57-170"><a href="#cb57-170" aria-hidden="true" tabindex="-1"></a>to_the_end <span class="op">=</span> fruits[<span class="dv">2</span>:]  <span class="co"># ["cherry", "date", "elderberry"]</span></span>
<span id="cb57-171"><a href="#cb57-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-172"><a href="#cb57-172" aria-hidden="true" tabindex="-1"></a><span class="co"># Using negative indices in slices</span></span>
<span id="cb57-173"><a href="#cb57-173" aria-hidden="true" tabindex="-1"></a>last_three <span class="op">=</span> fruits[<span class="op">-</span><span class="dv">3</span>:]  <span class="co"># ["cherry", "date", "elderberry"]</span></span>
<span id="cb57-174"><a href="#cb57-174" aria-hidden="true" tabindex="-1"></a>exclude_ends <span class="op">=</span> fruits[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]  <span class="co"># ["banana", "cherry", "date"]</span></span>
<span id="cb57-175"><a href="#cb57-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-176"><a href="#cb57-176" aria-hidden="true" tabindex="-1"></a><span class="co"># Step parameter: list[start:end:step]</span></span>
<span id="cb57-177"><a href="#cb57-177" aria-hidden="true" tabindex="-1"></a>every_other <span class="op">=</span> fruits[::<span class="dv">2</span>]  <span class="co"># ["apple", "cherry", "elderberry"]</span></span>
<span id="cb57-178"><a href="#cb57-178" aria-hidden="true" tabindex="-1"></a>backwards <span class="op">=</span> fruits[::<span class="op">-</span><span class="dv">1</span>]  <span class="co"># ["elderberry", "date", "cherry", "banana", "apple"]</span></span>
<span id="cb57-179"><a href="#cb57-179" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-180"><a href="#cb57-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-181"><a href="#cb57-181" aria-hidden="true" tabindex="-1"></a>Slicing creates a new list with copies of the selected elements, leaving the original list unchanged.</span>
<span id="cb57-182"><a href="#cb57-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-183"><a href="#cb57-183" aria-hidden="true" tabindex="-1"></a><span class="fu">### Handling Index Errors</span></span>
<span id="cb57-184"><a href="#cb57-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-185"><a href="#cb57-185" aria-hidden="true" tabindex="-1"></a>Accessing an index that doesn't exist raises an <span class="in">`IndexError`</span>:</span>
<span id="cb57-186"><a href="#cb57-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-187"><a href="#cb57-187" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-188"><a href="#cb57-188" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>]</span>
<span id="cb57-189"><a href="#cb57-189" aria-hidden="true" tabindex="-1"></a><span class="co"># This will raise an IndexError</span></span>
<span id="cb57-190"><a href="#cb57-190" aria-hidden="true" tabindex="-1"></a><span class="co"># invalid_item = fruits[5]</span></span>
<span id="cb57-191"><a href="#cb57-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-192"><a href="#cb57-192" aria-hidden="true" tabindex="-1"></a><span class="co"># Safer approach with conditional</span></span>
<span id="cb57-193"><a href="#cb57-193" aria-hidden="true" tabindex="-1"></a>index <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb57-194"><a href="#cb57-194" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> index <span class="op">&lt;</span> <span class="bu">len</span>(fruits):</span>
<span id="cb57-195"><a href="#cb57-195" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> fruits[index]</span>
<span id="cb57-196"><a href="#cb57-196" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb57-197"><a href="#cb57-197" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> <span class="va">None</span></span>
<span id="cb57-198"><a href="#cb57-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-199"><a href="#cb57-199" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative using try/except (we'll cover in Chapter 16)</span></span>
<span id="cb57-200"><a href="#cb57-200" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb57-201"><a href="#cb57-201" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> fruits[<span class="dv">5</span>]</span>
<span id="cb57-202"><a href="#cb57-202" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">IndexError</span>:</span>
<span id="cb57-203"><a href="#cb57-203" aria-hidden="true" tabindex="-1"></a>    item <span class="op">=</span> <span class="va">None</span></span>
<span id="cb57-204"><a href="#cb57-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-205"><a href="#cb57-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-206"><a href="#cb57-206" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. Modifying Lists: Adding Elements</span></span>
<span id="cb57-207"><a href="#cb57-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-208"><a href="#cb57-208" aria-hidden="true" tabindex="-1"></a>Since lists are mutable, you can change their contents after creation. Let's explore the different ways to add elements:</span>
<span id="cb57-209"><a href="#cb57-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-210"><a href="#cb57-210" aria-hidden="true" tabindex="-1"></a><span class="fu">### Adding to the End with append()</span></span>
<span id="cb57-211"><a href="#cb57-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-212"><a href="#cb57-212" aria-hidden="true" tabindex="-1"></a>The <span class="in">`append()`</span> method adds a single element to the end of a list:</span>
<span id="cb57-213"><a href="#cb57-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-214"><a href="#cb57-214" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-215"><a href="#cb57-215" aria-hidden="true" tabindex="-1"></a>tasks <span class="op">=</span> [<span class="st">"Write code"</span>, <span class="st">"Test code"</span>]</span>
<span id="cb57-216"><a href="#cb57-216" aria-hidden="true" tabindex="-1"></a>tasks.append(<span class="st">"Debug code"</span>)</span>
<span id="cb57-217"><a href="#cb57-217" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tasks)  <span class="co"># ["Write code", "Test code", "Debug code"]</span></span>
<span id="cb57-218"><a href="#cb57-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-219"><a href="#cb57-219" aria-hidden="true" tabindex="-1"></a><span class="co"># Append any data type</span></span>
<span id="cb57-220"><a href="#cb57-220" aria-hidden="true" tabindex="-1"></a>tasks.append(<span class="dv">42</span>)</span>
<span id="cb57-221"><a href="#cb57-221" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tasks)  <span class="co"># ["Write code", "Test code", "Debug code", 42]</span></span>
<span id="cb57-222"><a href="#cb57-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-223"><a href="#cb57-223" aria-hidden="true" tabindex="-1"></a><span class="co"># Appending a list (creates a nested list)</span></span>
<span id="cb57-224"><a href="#cb57-224" aria-hidden="true" tabindex="-1"></a>tasks.append([<span class="st">"Deploy"</span>, <span class="st">"Maintain"</span>])</span>
<span id="cb57-225"><a href="#cb57-225" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tasks)  <span class="co"># ["Write code", "Test code", "Debug code", 42, ["Deploy", "Maintain"]]</span></span>
<span id="cb57-226"><a href="#cb57-226" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-227"><a href="#cb57-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-228"><a href="#cb57-228" aria-hidden="true" tabindex="-1"></a><span class="fu">### Adding Multiple Elements with extend()</span></span>
<span id="cb57-229"><a href="#cb57-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-230"><a href="#cb57-230" aria-hidden="true" tabindex="-1"></a>The <span class="in">`extend()`</span> method adds all elements from an iterable to the end of a list:</span>
<span id="cb57-231"><a href="#cb57-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-232"><a href="#cb57-232" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-233"><a href="#cb57-233" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>]</span>
<span id="cb57-234"><a href="#cb57-234" aria-hidden="true" tabindex="-1"></a>more_fruits <span class="op">=</span> [<span class="st">"cherry"</span>, <span class="st">"date"</span>]</span>
<span id="cb57-235"><a href="#cb57-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-236"><a href="#cb57-236" aria-hidden="true" tabindex="-1"></a><span class="co"># Extend with another list</span></span>
<span id="cb57-237"><a href="#cb57-237" aria-hidden="true" tabindex="-1"></a>fruits.extend(more_fruits)</span>
<span id="cb57-238"><a href="#cb57-238" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "banana", "cherry", "date"]</span></span>
<span id="cb57-239"><a href="#cb57-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-240"><a href="#cb57-240" aria-hidden="true" tabindex="-1"></a><span class="co"># Extend with any iterable</span></span>
<span id="cb57-241"><a href="#cb57-241" aria-hidden="true" tabindex="-1"></a>fruits.extend(<span class="st">"fig"</span>)  <span class="co"># Extends with each character</span></span>
<span id="cb57-242"><a href="#cb57-242" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "banana", "cherry", "date", "f", "i", "g"]</span></span>
<span id="cb57-243"><a href="#cb57-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-244"><a href="#cb57-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-245"><a href="#cb57-245" aria-hidden="true" tabindex="-1"></a><span class="fu">### Inserting at Specific Positions with insert()</span></span>
<span id="cb57-246"><a href="#cb57-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-247"><a href="#cb57-247" aria-hidden="true" tabindex="-1"></a>The <span class="in">`insert()`</span> method adds an element at a specific position:</span>
<span id="cb57-248"><a href="#cb57-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-249"><a href="#cb57-249" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-250"><a href="#cb57-250" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-251"><a href="#cb57-251" aria-hidden="true" tabindex="-1"></a>numbers.insert(<span class="dv">2</span>, <span class="dv">3</span>)  <span class="co"># Insert 3 at index 2</span></span>
<span id="cb57-252"><a href="#cb57-252" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [1, 2, 3, 4, 5]</span></span>
<span id="cb57-253"><a href="#cb57-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-254"><a href="#cb57-254" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert at the beginning</span></span>
<span id="cb57-255"><a href="#cb57-255" aria-hidden="true" tabindex="-1"></a>numbers.insert(<span class="dv">0</span>, <span class="dv">0</span>)</span>
<span id="cb57-256"><a href="#cb57-256" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [0, 1, 2, 3, 4, 5]</span></span>
<span id="cb57-257"><a href="#cb57-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-258"><a href="#cb57-258" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert beyond the end (same as append)</span></span>
<span id="cb57-259"><a href="#cb57-259" aria-hidden="true" tabindex="-1"></a>numbers.insert(<span class="dv">100</span>, <span class="dv">6</span>)  <span class="co"># No error, just adds to the end</span></span>
<span id="cb57-260"><a href="#cb57-260" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [0, 1, 2, 3, 4, 5, 6]</span></span>
<span id="cb57-261"><a href="#cb57-261" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-262"><a href="#cb57-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-263"><a href="#cb57-263" aria-hidden="true" tabindex="-1"></a><span class="fu">### Concatenation with + Operator</span></span>
<span id="cb57-264"><a href="#cb57-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-265"><a href="#cb57-265" aria-hidden="true" tabindex="-1"></a>You can also create a new list by concatenating existing lists:</span>
<span id="cb57-266"><a href="#cb57-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-267"><a href="#cb57-267" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-268"><a href="#cb57-268" aria-hidden="true" tabindex="-1"></a>list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-269"><a href="#cb57-269" aria-hidden="true" tabindex="-1"></a>list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb57-270"><a href="#cb57-270" aria-hidden="true" tabindex="-1"></a>combined <span class="op">=</span> list1 <span class="op">+</span> list2</span>
<span id="cb57-271"><a href="#cb57-271" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(combined)  <span class="co"># [1, 2, 3, 4, 5, 6]</span></span>
<span id="cb57-272"><a href="#cb57-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-273"><a href="#cb57-273" aria-hidden="true" tabindex="-1"></a><span class="co"># Original lists remain unchanged</span></span>
<span id="cb57-274"><a href="#cb57-274" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list1)  <span class="co"># [1, 2, 3]</span></span>
<span id="cb57-275"><a href="#cb57-275" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-276"><a href="#cb57-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-277"><a href="#cb57-277" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Performance Tip**: When building large lists incrementally, </span><span class="in">`append()`</span><span class="at"> is more efficient than concatenation with </span><span class="in">`+`</span><span class="at">. The </span><span class="in">`+`</span><span class="at"> operator creates a new list each time, while </span><span class="in">`append()`</span><span class="at"> modifies the existing list in-place.</span></span>
<span id="cb57-278"><a href="#cb57-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-279"><a href="#cb57-279" aria-hidden="true" tabindex="-1"></a><span class="fu">### Comparison of Adding Methods</span></span>
<span id="cb57-280"><a href="#cb57-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-281"><a href="#cb57-281" aria-hidden="true" tabindex="-1"></a>| Method | Purpose | Example | Notes |</span>
<span id="cb57-282"><a href="#cb57-282" aria-hidden="true" tabindex="-1"></a>|--------|---------|---------|-------|</span>
<span id="cb57-283"><a href="#cb57-283" aria-hidden="true" tabindex="-1"></a>| <span class="in">`append()`</span> | Add single item to end | <span class="in">`list.append(x)`</span> | Fast, modifies in-place |</span>
<span id="cb57-284"><a href="#cb57-284" aria-hidden="true" tabindex="-1"></a>| <span class="in">`extend()`</span> | Add all items from iterable | <span class="in">`list.extend(iterable)`</span> | Adds each item individually |</span>
<span id="cb57-285"><a href="#cb57-285" aria-hidden="true" tabindex="-1"></a>| <span class="in">`insert()`</span> | Add item at specific position | <span class="in">`list.insert(i, x)`</span> | Slower for large lists |</span>
<span id="cb57-286"><a href="#cb57-286" aria-hidden="true" tabindex="-1"></a>| <span class="in">`+`</span> | Concatenate lists | <span class="in">`new_list = list1 + list2`</span> | Creates new list |</span>
<span id="cb57-287"><a href="#cb57-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-288"><a href="#cb57-288" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Modifying Lists: Removing Elements</span></span>
<span id="cb57-289"><a href="#cb57-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-290"><a href="#cb57-290" aria-hidden="true" tabindex="-1"></a>Just as there are multiple ways to add elements, Python provides several methods for removing elements from lists:</span>
<span id="cb57-291"><a href="#cb57-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-292"><a href="#cb57-292" aria-hidden="true" tabindex="-1"></a><span class="fu">### Remove by Value with remove()</span></span>
<span id="cb57-293"><a href="#cb57-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-294"><a href="#cb57-294" aria-hidden="true" tabindex="-1"></a>The <span class="in">`remove()`</span> method eliminates the first occurrence of a specific value:</span>
<span id="cb57-295"><a href="#cb57-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-296"><a href="#cb57-296" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-297"><a href="#cb57-297" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [<span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"yellow"</span>]</span>
<span id="cb57-298"><a href="#cb57-298" aria-hidden="true" tabindex="-1"></a>colors.remove(<span class="st">"green"</span>)  <span class="co"># Removes only the first "green"</span></span>
<span id="cb57-299"><a href="#cb57-299" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(colors)  <span class="co"># ["red", "blue", "green", "yellow"]</span></span>
<span id="cb57-300"><a href="#cb57-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-301"><a href="#cb57-301" aria-hidden="true" tabindex="-1"></a><span class="co"># Removing a value that doesn't exist raises ValueError</span></span>
<span id="cb57-302"><a href="#cb57-302" aria-hidden="true" tabindex="-1"></a><span class="co"># colors.remove("purple")  # ValueError: list.remove(x): x not in list</span></span>
<span id="cb57-303"><a href="#cb57-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-304"><a href="#cb57-304" aria-hidden="true" tabindex="-1"></a><span class="co"># Safer approach with conditional</span></span>
<span id="cb57-305"><a href="#cb57-305" aria-hidden="true" tabindex="-1"></a>value_to_remove <span class="op">=</span> <span class="st">"purple"</span></span>
<span id="cb57-306"><a href="#cb57-306" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> value_to_remove <span class="kw">in</span> colors:</span>
<span id="cb57-307"><a href="#cb57-307" aria-hidden="true" tabindex="-1"></a>    colors.remove(value_to_remove)</span>
<span id="cb57-308"><a href="#cb57-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-309"><a href="#cb57-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-310"><a href="#cb57-310" aria-hidden="true" tabindex="-1"></a><span class="fu">### Remove by Index with pop()</span></span>
<span id="cb57-311"><a href="#cb57-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-312"><a href="#cb57-312" aria-hidden="true" tabindex="-1"></a>The <span class="in">`pop()`</span> method removes an element at a specific index and returns it:</span>
<span id="cb57-313"><a href="#cb57-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-314"><a href="#cb57-314" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-315"><a href="#cb57-315" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"date"</span>]</span>
<span id="cb57-316"><a href="#cb57-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-317"><a href="#cb57-317" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove and return element at index 1</span></span>
<span id="cb57-318"><a href="#cb57-318" aria-hidden="true" tabindex="-1"></a>removed <span class="op">=</span> fruits.pop(<span class="dv">1</span>)</span>
<span id="cb57-319"><a href="#cb57-319" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(removed)  <span class="co"># "banana"</span></span>
<span id="cb57-320"><a href="#cb57-320" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "cherry", "date"]</span></span>
<span id="cb57-321"><a href="#cb57-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-322"><a href="#cb57-322" aria-hidden="true" tabindex="-1"></a><span class="co"># With no argument, pop() removes the last element</span></span>
<span id="cb57-323"><a href="#cb57-323" aria-hidden="true" tabindex="-1"></a>last <span class="op">=</span> fruits.pop()</span>
<span id="cb57-324"><a href="#cb57-324" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(last)  <span class="co"># "date"</span></span>
<span id="cb57-325"><a href="#cb57-325" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(fruits)  <span class="co"># ["apple", "cherry"]</span></span>
<span id="cb57-326"><a href="#cb57-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-327"><a href="#cb57-327" aria-hidden="true" tabindex="-1"></a><span class="co"># Trying to pop from an empty list raises IndexError</span></span>
<span id="cb57-328"><a href="#cb57-328" aria-hidden="true" tabindex="-1"></a>empty <span class="op">=</span> []</span>
<span id="cb57-329"><a href="#cb57-329" aria-hidden="true" tabindex="-1"></a><span class="co"># empty.pop()  # IndexError: pop from empty list</span></span>
<span id="cb57-330"><a href="#cb57-330" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-331"><a href="#cb57-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-332"><a href="#cb57-332" aria-hidden="true" tabindex="-1"></a><span class="fu">### Other Removal Methods</span></span>
<span id="cb57-333"><a href="#cb57-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-334"><a href="#cb57-334" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-335"><a href="#cb57-335" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-336"><a href="#cb57-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-337"><a href="#cb57-337" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove all elements</span></span>
<span id="cb57-338"><a href="#cb57-338" aria-hidden="true" tabindex="-1"></a>numbers.clear()</span>
<span id="cb57-339"><a href="#cb57-339" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># []</span></span>
<span id="cb57-340"><a href="#cb57-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-341"><a href="#cb57-341" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete by index using del statement</span></span>
<span id="cb57-342"><a href="#cb57-342" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>]</span>
<span id="cb57-343"><a href="#cb57-343" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> numbers[<span class="dv">2</span>]</span>
<span id="cb57-344"><a href="#cb57-344" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [10, 20, 40, 50]</span></span>
<span id="cb57-345"><a href="#cb57-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-346"><a href="#cb57-346" aria-hidden="true" tabindex="-1"></a><span class="co"># Delete a slice</span></span>
<span id="cb57-347"><a href="#cb57-347" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> numbers[<span class="dv">1</span>:<span class="dv">3</span>]</span>
<span id="cb57-348"><a href="#cb57-348" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [10, 50]</span></span>
<span id="cb57-349"><a href="#cb57-349" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-350"><a href="#cb57-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-351"><a href="#cb57-351" aria-hidden="true" tabindex="-1"></a><span class="fu">### Comparison of Removal Methods</span></span>
<span id="cb57-352"><a href="#cb57-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-353"><a href="#cb57-353" aria-hidden="true" tabindex="-1"></a>| Method | Purpose | Example | Returns | Notes |</span>
<span id="cb57-354"><a href="#cb57-354" aria-hidden="true" tabindex="-1"></a>|--------|---------|---------|---------|-------|</span>
<span id="cb57-355"><a href="#cb57-355" aria-hidden="true" tabindex="-1"></a>| <span class="in">`remove()`</span> | Remove by value | <span class="in">`list.remove(x)`</span> | None | Removes only first occurrence |</span>
<span id="cb57-356"><a href="#cb57-356" aria-hidden="true" tabindex="-1"></a>| <span class="in">`pop()`</span> | Remove by index | <span class="in">`list.pop(i)`</span> | Removed item | Default is last item |</span>
<span id="cb57-357"><a href="#cb57-357" aria-hidden="true" tabindex="-1"></a>| <span class="in">`clear()`</span> | Remove all items | <span class="in">`list.clear()`</span> | None | Empties the list |</span>
<span id="cb57-358"><a href="#cb57-358" aria-hidden="true" tabindex="-1"></a>| <span class="in">`del`</span> | Remove by index/slice | <span class="in">`del list[i]`</span> | None | Can delete slices |</span>
<span id="cb57-359"><a href="#cb57-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-360"><a href="#cb57-360" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6. Sorting and Organizing Lists</span></span>
<span id="cb57-361"><a href="#cb57-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-362"><a href="#cb57-362" aria-hidden="true" tabindex="-1"></a>Python provides powerful tools for sorting and organizing list content:</span>
<span id="cb57-363"><a href="#cb57-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-364"><a href="#cb57-364" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basic Sorting</span></span>
<span id="cb57-365"><a href="#cb57-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-366"><a href="#cb57-366" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-367"><a href="#cb57-367" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>, <span class="dv">2</span>, <span class="dv">6</span>]</span>
<span id="cb57-368"><a href="#cb57-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-369"><a href="#cb57-369" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort in place (modifies original list)</span></span>
<span id="cb57-370"><a href="#cb57-370" aria-hidden="true" tabindex="-1"></a>numbers.sort()</span>
<span id="cb57-371"><a href="#cb57-371" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [1, 1, 2, 3, 4, 5, 6, 9]</span></span>
<span id="cb57-372"><a href="#cb57-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-373"><a href="#cb57-373" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort in descending order</span></span>
<span id="cb57-374"><a href="#cb57-374" aria-hidden="true" tabindex="-1"></a>numbers.sort(reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb57-375"><a href="#cb57-375" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [9, 6, 5, 4, 3, 2, 1, 1]</span></span>
<span id="cb57-376"><a href="#cb57-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-377"><a href="#cb57-377" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new sorted list without modifying original</span></span>
<span id="cb57-378"><a href="#cb57-378" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>]</span>
<span id="cb57-379"><a href="#cb57-379" aria-hidden="true" tabindex="-1"></a>sorted_list <span class="op">=</span> <span class="bu">sorted</span>(original)</span>
<span id="cb57-380"><a href="#cb57-380" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)     <span class="co"># [3, 1, 4, 1, 5] (unchanged)</span></span>
<span id="cb57-381"><a href="#cb57-381" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_list)  <span class="co"># [1, 1, 3, 4, 5]</span></span>
<span id="cb57-382"><a href="#cb57-382" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-383"><a href="#cb57-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-384"><a href="#cb57-384" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sorting Complex Objects</span></span>
<span id="cb57-385"><a href="#cb57-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-386"><a href="#cb57-386" aria-hidden="true" tabindex="-1"></a>You can sort lists of objects based on specific attributes:</span>
<span id="cb57-387"><a href="#cb57-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-388"><a href="#cb57-388" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-389"><a href="#cb57-389" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorting strings by length</span></span>
<span id="cb57-390"><a href="#cb57-390" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="st">"python"</span>, <span class="st">"is"</span>, <span class="st">"awesome"</span>, <span class="st">"and"</span>, <span class="st">"powerful"</span>]</span>
<span id="cb57-391"><a href="#cb57-391" aria-hidden="true" tabindex="-1"></a>words.sort(key<span class="op">=</span><span class="bu">len</span>)</span>
<span id="cb57-392"><a href="#cb57-392" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(words)  <span class="co"># ["is", "and", "python", "awesome", "powerful"]</span></span>
<span id="cb57-393"><a href="#cb57-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-394"><a href="#cb57-394" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorting custom objects</span></span>
<span id="cb57-395"><a href="#cb57-395" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person:</span>
<span id="cb57-396"><a href="#cb57-396" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, age):</span>
<span id="cb57-397"><a href="#cb57-397" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb57-398"><a href="#cb57-398" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.age <span class="op">=</span> age</span>
<span id="cb57-399"><a href="#cb57-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-400"><a href="#cb57-400" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):</span>
<span id="cb57-401"><a href="#cb57-401" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Person(</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>name<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>age<span class="sc">}</span><span class="ss">)"</span></span>
<span id="cb57-402"><a href="#cb57-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-403"><a href="#cb57-403" aria-hidden="true" tabindex="-1"></a>people <span class="op">=</span> [</span>
<span id="cb57-404"><a href="#cb57-404" aria-hidden="true" tabindex="-1"></a>    Person(<span class="st">"Alice"</span>, <span class="dv">30</span>),</span>
<span id="cb57-405"><a href="#cb57-405" aria-hidden="true" tabindex="-1"></a>    Person(<span class="st">"Bob"</span>, <span class="dv">25</span>),</span>
<span id="cb57-406"><a href="#cb57-406" aria-hidden="true" tabindex="-1"></a>    Person(<span class="st">"Charlie"</span>, <span class="dv">35</span>)</span>
<span id="cb57-407"><a href="#cb57-407" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-408"><a href="#cb57-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-409"><a href="#cb57-409" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by age</span></span>
<span id="cb57-410"><a href="#cb57-410" aria-hidden="true" tabindex="-1"></a>people.sort(key<span class="op">=</span><span class="kw">lambda</span> person: person.age)</span>
<span id="cb57-411"><a href="#cb57-411" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(people)  <span class="co"># [Person(Bob, 25), Person(Alice, 30), Person(Charlie, 35)]</span></span>
<span id="cb57-412"><a href="#cb57-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-413"><a href="#cb57-413" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by name</span></span>
<span id="cb57-414"><a href="#cb57-414" aria-hidden="true" tabindex="-1"></a>people.sort(key<span class="op">=</span><span class="kw">lambda</span> person: person.name)</span>
<span id="cb57-415"><a href="#cb57-415" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(people)  <span class="co"># [Person(Alice, 30), Person(Bob, 25), Person(Charlie, 35)]</span></span>
<span id="cb57-416"><a href="#cb57-416" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-417"><a href="#cb57-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-418"><a href="#cb57-418" aria-hidden="true" tabindex="-1"></a><span class="fu">### Reversing Lists</span></span>
<span id="cb57-419"><a href="#cb57-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-420"><a href="#cb57-420" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-421"><a href="#cb57-421" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-422"><a href="#cb57-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-423"><a href="#cb57-423" aria-hidden="true" tabindex="-1"></a><span class="co"># Reverse in place</span></span>
<span id="cb57-424"><a href="#cb57-424" aria-hidden="true" tabindex="-1"></a>numbers.reverse()</span>
<span id="cb57-425"><a href="#cb57-425" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [5, 4, 3, 2, 1]</span></span>
<span id="cb57-426"><a href="#cb57-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-427"><a href="#cb57-427" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a reversed view (not a list)</span></span>
<span id="cb57-428"><a href="#cb57-428" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-429"><a href="#cb57-429" aria-hidden="true" tabindex="-1"></a>reversed_view <span class="op">=</span> <span class="bu">reversed</span>(original)</span>
<span id="cb57-430"><a href="#cb57-430" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(reversed_view))  <span class="co"># [5, 4, 3, 2, 1]</span></span>
<span id="cb57-431"><a href="#cb57-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-432"><a href="#cb57-432" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick way to reverse: slice with step -1</span></span>
<span id="cb57-433"><a href="#cb57-433" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original[::<span class="op">-</span><span class="dv">1</span>])  <span class="co"># [5, 4, 3, 2, 1]</span></span>
<span id="cb57-434"><a href="#cb57-434" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-435"><a href="#cb57-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-436"><a href="#cb57-436" aria-hidden="true" tabindex="-1"></a><span class="fu">### Custom Sorting with key and reverse</span></span>
<span id="cb57-437"><a href="#cb57-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-438"><a href="#cb57-438" aria-hidden="true" tabindex="-1"></a>The <span class="in">`key`</span> parameter accepts a function that extracts a comparison key:</span>
<span id="cb57-439"><a href="#cb57-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-440"><a href="#cb57-440" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-441"><a href="#cb57-441" aria-hidden="true" tabindex="-1"></a><span class="co"># Case-insensitive sorting</span></span>
<span id="cb57-442"><a href="#cb57-442" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">"alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>, <span class="st">"david"</span>]</span>
<span id="cb57-443"><a href="#cb57-443" aria-hidden="true" tabindex="-1"></a>names.sort()  <span class="co"># Default sorting (case-sensitive)</span></span>
<span id="cb57-444"><a href="#cb57-444" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['Bob', 'Charlie', 'alice', 'david']</span></span>
<span id="cb57-445"><a href="#cb57-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-446"><a href="#cb57-446" aria-hidden="true" tabindex="-1"></a>names.sort(key<span class="op">=</span><span class="bu">str</span>.lower)  <span class="co"># Case-insensitive</span></span>
<span id="cb57-447"><a href="#cb57-447" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['alice', 'Bob', 'Charlie', 'david']</span></span>
<span id="cb57-448"><a href="#cb57-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-449"><a href="#cb57-449" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by last character</span></span>
<span id="cb57-450"><a href="#cb57-450" aria-hidden="true" tabindex="-1"></a>names.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb57-451"><a href="#cb57-451" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['Charlie', 'alice', 'Bob', 'david']</span></span>
<span id="cb57-452"><a href="#cb57-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-453"><a href="#cb57-453" aria-hidden="true" tabindex="-1"></a><span class="co"># Combination of key and reverse</span></span>
<span id="cb57-454"><a href="#cb57-454" aria-hidden="true" tabindex="-1"></a>names.sort(key<span class="op">=</span><span class="bu">len</span>, reverse<span class="op">=</span><span class="va">True</span>)  <span class="co"># Sort by length, longest first</span></span>
<span id="cb57-455"><a href="#cb57-455" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(names)  <span class="co"># ['Charlie', 'alice', 'david', 'Bob']</span></span>
<span id="cb57-456"><a href="#cb57-456" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-457"><a href="#cb57-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-458"><a href="#cb57-458" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Performance Tip**: When you need both </span><span class="in">`sorted()`</span><span class="at"> and </span><span class="in">`reversed()`</span><span class="at">, use </span><span class="in">`sorted(list, reverse=True)`</span><span class="at"> rather than </span><span class="in">`reversed(sorted(list))`</span><span class="at">. It's more efficient and readable.</span></span>
<span id="cb57-459"><a href="#cb57-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-460"><a href="#cb57-460" aria-hidden="true" tabindex="-1"></a><span class="fu">## 7. Working with Nested Lists</span></span>
<span id="cb57-461"><a href="#cb57-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-462"><a href="#cb57-462" aria-hidden="true" tabindex="-1"></a>Lists can contain other lists, creating multi-dimensional data structures:</span>
<span id="cb57-463"><a href="#cb57-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-464"><a href="#cb57-464" aria-hidden="true" tabindex="-1"></a><span class="fu">### Creating and Accessing Nested Lists</span></span>
<span id="cb57-465"><a href="#cb57-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-466"><a href="#cb57-466" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-467"><a href="#cb57-467" aria-hidden="true" tabindex="-1"></a><span class="co"># 2D list (matrix)</span></span>
<span id="cb57-468"><a href="#cb57-468" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [</span>
<span id="cb57-469"><a href="#cb57-469" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb57-470"><a href="#cb57-470" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb57-471"><a href="#cb57-471" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb57-472"><a href="#cb57-472" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-473"><a href="#cb57-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-474"><a href="#cb57-474" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing elements</span></span>
<span id="cb57-475"><a href="#cb57-475" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix[<span class="dv">0</span>])      <span class="co"># [1, 2, 3] (first row)</span></span>
<span id="cb57-476"><a href="#cb57-476" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix[<span class="dv">1</span>][<span class="dv">2</span>])   <span class="co"># 6 (second row, third column)</span></span>
<span id="cb57-477"><a href="#cb57-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-478"><a href="#cb57-478" aria-hidden="true" tabindex="-1"></a><span class="co"># Modifying elements</span></span>
<span id="cb57-479"><a href="#cb57-479" aria-hidden="true" tabindex="-1"></a>matrix[<span class="dv">0</span>][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb57-480"><a href="#cb57-480" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix)         <span class="co"># [[1, 20, 3], [4, 5, 6], [7, 8, 9]]</span></span>
<span id="cb57-481"><a href="#cb57-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-482"><a href="#cb57-482" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterating through a 2D list</span></span>
<span id="cb57-483"><a href="#cb57-483" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> matrix:</span>
<span id="cb57-484"><a href="#cb57-484" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> element <span class="kw">in</span> row:</span>
<span id="cb57-485"><a href="#cb57-485" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(element, end<span class="op">=</span><span class="st">" "</span>)</span>
<span id="cb57-486"><a href="#cb57-486" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>()  <span class="co"># New line after each row</span></span>
<span id="cb57-487"><a href="#cb57-487" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-488"><a href="#cb57-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-489"><a href="#cb57-489" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lists of Different Shapes</span></span>
<span id="cb57-490"><a href="#cb57-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-491"><a href="#cb57-491" aria-hidden="true" tabindex="-1"></a>Nested lists don't have to be uniform:</span>
<span id="cb57-492"><a href="#cb57-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-493"><a href="#cb57-493" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-494"><a href="#cb57-494" aria-hidden="true" tabindex="-1"></a><span class="co"># Jagged list (rows of different lengths)</span></span>
<span id="cb57-495"><a href="#cb57-495" aria-hidden="true" tabindex="-1"></a>jagged <span class="op">=</span> [</span>
<span id="cb57-496"><a href="#cb57-496" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb57-497"><a href="#cb57-497" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb57-498"><a href="#cb57-498" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb57-499"><a href="#cb57-499" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-500"><a href="#cb57-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-501"><a href="#cb57-501" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing elements safely</span></span>
<span id="cb57-502"><a href="#cb57-502" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_element(nested_list, row, col):</span>
<span id="cb57-503"><a href="#cb57-503" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Safely get an element from a nested list."""</span></span>
<span id="cb57-504"><a href="#cb57-504" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> row <span class="op">&lt;</span> <span class="bu">len</span>(nested_list):</span>
<span id="cb57-505"><a href="#cb57-505" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> col <span class="op">&lt;</span> <span class="bu">len</span>(nested_list[row]):</span>
<span id="cb57-506"><a href="#cb57-506" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> nested_list[row][col]</span>
<span id="cb57-507"><a href="#cb57-507" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb57-508"><a href="#cb57-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-509"><a href="#cb57-509" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(get_element(jagged, <span class="dv">1</span>, <span class="dv">1</span>))  <span class="co"># 5</span></span>
<span id="cb57-510"><a href="#cb57-510" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(get_element(jagged, <span class="dv">1</span>, <span class="dv">3</span>))  <span class="co"># None (out of range)</span></span>
<span id="cb57-511"><a href="#cb57-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-512"><a href="#cb57-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-513"><a href="#cb57-513" aria-hidden="true" tabindex="-1"></a><span class="fu">### Practical Uses for Nested Lists</span></span>
<span id="cb57-514"><a href="#cb57-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-515"><a href="#cb57-515" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-516"><a href="#cb57-516" aria-hidden="true" tabindex="-1"></a><span class="co"># Game board (tic-tac-toe)</span></span>
<span id="cb57-517"><a href="#cb57-517" aria-hidden="true" tabindex="-1"></a>board <span class="op">=</span> [</span>
<span id="cb57-518"><a href="#cb57-518" aria-hidden="true" tabindex="-1"></a>    [<span class="st">" "</span>, <span class="st">" "</span>, <span class="st">" "</span>],</span>
<span id="cb57-519"><a href="#cb57-519" aria-hidden="true" tabindex="-1"></a>    [<span class="st">" "</span>, <span class="st">"X"</span>, <span class="st">" "</span>],</span>
<span id="cb57-520"><a href="#cb57-520" aria-hidden="true" tabindex="-1"></a>    [<span class="st">" "</span>, <span class="st">" "</span>, <span class="st">"O"</span>]</span>
<span id="cb57-521"><a href="#cb57-521" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-522"><a href="#cb57-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-523"><a href="#cb57-523" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the board</span></span>
<span id="cb57-524"><a href="#cb57-524" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> board:</span>
<span id="cb57-525"><a href="#cb57-525" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"|"</span>.join(row))</span>
<span id="cb57-526"><a href="#cb57-526" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row <span class="op">!=</span> board[<span class="op">-</span><span class="dv">1</span>]:</span>
<span id="cb57-527"><a href="#cb57-527" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"-"</span> <span class="op">*</span> <span class="dv">5</span>)</span>
<span id="cb57-528"><a href="#cb57-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-529"><a href="#cb57-529" aria-hidden="true" tabindex="-1"></a><span class="co"># Spreadsheet-like data</span></span>
<span id="cb57-530"><a href="#cb57-530" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [</span>
<span id="cb57-531"><a href="#cb57-531" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Name"</span>, <span class="st">"Age"</span>, <span class="st">"City"</span>],</span>
<span id="cb57-532"><a href="#cb57-532" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Alice"</span>, <span class="dv">30</span>, <span class="st">"New York"</span>],</span>
<span id="cb57-533"><a href="#cb57-533" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Bob"</span>, <span class="dv">25</span>, <span class="st">"San Francisco"</span>],</span>
<span id="cb57-534"><a href="#cb57-534" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Charlie"</span>, <span class="dv">35</span>, <span class="st">"Chicago"</span>]</span>
<span id="cb57-535"><a href="#cb57-535" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-536"><a href="#cb57-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-537"><a href="#cb57-537" aria-hidden="true" tabindex="-1"></a><span class="co"># Print as a formatted table</span></span>
<span id="cb57-538"><a href="#cb57-538" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> data:</span>
<span id="cb57-539"><a href="#cb57-539" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>row[<span class="dv">0</span>]<span class="sc">:&lt;10}</span><span class="ss"> </span><span class="sc">{</span>row[<span class="dv">1</span>]<span class="sc">:&lt;5}</span><span class="ss"> </span><span class="sc">{</span>row[<span class="dv">2</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-540"><a href="#cb57-540" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-541"><a href="#cb57-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-542"><a href="#cb57-542" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Pro Tip**: For serious multi-dimensional data processing, consider using specialized libraries like NumPy, which provide efficient operations on arrays and matrices.</span></span>
<span id="cb57-543"><a href="#cb57-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-544"><a href="#cb57-544" aria-hidden="true" tabindex="-1"></a><span class="fu">## 8. List Comprehensions (Preview)</span></span>
<span id="cb57-545"><a href="#cb57-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-546"><a href="#cb57-546" aria-hidden="true" tabindex="-1"></a>While we'll cover this in more detail in Chapter 12, let's preview list comprehensions—a powerful Python feature for creating lists:</span>
<span id="cb57-547"><a href="#cb57-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-548"><a href="#cb57-548" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-549"><a href="#cb57-549" aria-hidden="true" tabindex="-1"></a><span class="co"># Traditional approach</span></span>
<span id="cb57-550"><a href="#cb57-550" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> []</span>
<span id="cb57-551"><a href="#cb57-551" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>):</span>
<span id="cb57-552"><a href="#cb57-552" aria-hidden="true" tabindex="-1"></a>    squares.append(x<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb57-553"><a href="#cb57-553" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)  <span class="co"># [1, 4, 9, 16, 25]</span></span>
<span id="cb57-554"><a href="#cb57-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-555"><a href="#cb57-555" aria-hidden="true" tabindex="-1"></a><span class="co"># With list comprehension</span></span>
<span id="cb57-556"><a href="#cb57-556" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">6</span>)]</span>
<span id="cb57-557"><a href="#cb57-557" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)  <span class="co"># [1, 4, 9, 16, 25]</span></span>
<span id="cb57-558"><a href="#cb57-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-559"><a href="#cb57-559" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering with a condition</span></span>
<span id="cb57-560"><a href="#cb57-560" aria-hidden="true" tabindex="-1"></a>even_squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb57-561"><a href="#cb57-561" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(even_squares)  <span class="co"># [4, 16, 36, 64, 100]</span></span>
<span id="cb57-562"><a href="#cb57-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-563"><a href="#cb57-563" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a flattened list</span></span>
<span id="cb57-564"><a href="#cb57-564" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">5</span>, <span class="dv">6</span>]]</span>
<span id="cb57-565"><a href="#cb57-565" aria-hidden="true" tabindex="-1"></a>flattened <span class="op">=</span> [x <span class="cf">for</span> row <span class="kw">in</span> matrix <span class="cf">for</span> x <span class="kw">in</span> row]</span>
<span id="cb57-566"><a href="#cb57-566" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(flattened)  <span class="co"># [1, 2, 3, 4, 5, 6]</span></span>
<span id="cb57-567"><a href="#cb57-567" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-568"><a href="#cb57-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-569"><a href="#cb57-569" aria-hidden="true" tabindex="-1"></a>List comprehensions provide a concise way to create lists based on existing lists or other iterables. They're a hallmark of Pythonic code and can make your programs more readable and efficient.</span>
<span id="cb57-570"><a href="#cb57-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-571"><a href="#cb57-571" aria-hidden="true" tabindex="-1"></a><span class="fu">## 9. Common List Operations and Functions</span></span>
<span id="cb57-572"><a href="#cb57-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-573"><a href="#cb57-573" aria-hidden="true" tabindex="-1"></a>Python provides many built-in functions for working with lists:</span>
<span id="cb57-574"><a href="#cb57-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-575"><a href="#cb57-575" aria-hidden="true" tabindex="-1"></a><span class="fu">### Finding Information</span></span>
<span id="cb57-576"><a href="#cb57-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-577"><a href="#cb57-577" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-578"><a href="#cb57-578" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">2</span>]</span>
<span id="cb57-579"><a href="#cb57-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-580"><a href="#cb57-580" aria-hidden="true" tabindex="-1"></a><span class="co"># Length</span></span>
<span id="cb57-581"><a href="#cb57-581" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(numbers))  <span class="co"># 7</span></span>
<span id="cb57-582"><a href="#cb57-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-583"><a href="#cb57-583" aria-hidden="true" tabindex="-1"></a><span class="co"># Count occurrences</span></span>
<span id="cb57-584"><a href="#cb57-584" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers.count(<span class="dv">2</span>))  <span class="co"># 3</span></span>
<span id="cb57-585"><a href="#cb57-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-586"><a href="#cb57-586" aria-hidden="true" tabindex="-1"></a><span class="co"># Find index of first occurrence</span></span>
<span id="cb57-587"><a href="#cb57-587" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers.index(<span class="dv">4</span>))  <span class="co"># 4</span></span>
<span id="cb57-588"><a href="#cb57-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-589"><a href="#cb57-589" aria-hidden="true" tabindex="-1"></a><span class="co"># Find with starting position</span></span>
<span id="cb57-590"><a href="#cb57-590" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers.index(<span class="dv">2</span>, <span class="dv">2</span>))  <span class="co"># 3 (first occurrence after index 2)</span></span>
<span id="cb57-591"><a href="#cb57-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-592"><a href="#cb57-592" aria-hidden="true" tabindex="-1"></a><span class="co"># Membership check</span></span>
<span id="cb57-593"><a href="#cb57-593" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">3</span> <span class="kw">in</span> numbers)  <span class="co"># True</span></span>
<span id="cb57-594"><a href="#cb57-594" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">6</span> <span class="kw">in</span> numbers)  <span class="co"># False</span></span>
<span id="cb57-595"><a href="#cb57-595" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">6</span> <span class="kw">not</span> <span class="kw">in</span> numbers)  <span class="co"># True</span></span>
<span id="cb57-596"><a href="#cb57-596" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-597"><a href="#cb57-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-598"><a href="#cb57-598" aria-hidden="true" tabindex="-1"></a><span class="fu">### Aggregate Functions</span></span>
<span id="cb57-599"><a href="#cb57-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-600"><a href="#cb57-600" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-601"><a href="#cb57-601" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="dv">42</span>, <span class="dv">18</span>, <span class="dv">9</span>, <span class="dv">73</span>, <span class="dv">11</span>, <span class="dv">56</span>]</span>
<span id="cb57-602"><a href="#cb57-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-603"><a href="#cb57-603" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum</span></span>
<span id="cb57-604"><a href="#cb57-604" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">sum</span>(values))  <span class="co"># 209</span></span>
<span id="cb57-605"><a href="#cb57-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-606"><a href="#cb57-606" aria-hidden="true" tabindex="-1"></a><span class="co"># Minimum and maximum</span></span>
<span id="cb57-607"><a href="#cb57-607" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">min</span>(values))  <span class="co"># 9</span></span>
<span id="cb57-608"><a href="#cb57-608" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">max</span>(values))  <span class="co"># 73</span></span>
<span id="cb57-609"><a href="#cb57-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-610"><a href="#cb57-610" aria-hidden="true" tabindex="-1"></a><span class="co"># All and any</span></span>
<span id="cb57-611"><a href="#cb57-611" aria-hidden="true" tabindex="-1"></a>booleans1 <span class="op">=</span> [<span class="va">True</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>]</span>
<span id="cb57-612"><a href="#cb57-612" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">all</span>(booleans1))  <span class="co"># False (not all are True)</span></span>
<span id="cb57-613"><a href="#cb57-613" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">any</span>(booleans1))  <span class="co"># True (at least one is True)</span></span>
<span id="cb57-614"><a href="#cb57-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-615"><a href="#cb57-615" aria-hidden="true" tabindex="-1"></a>booleans2 <span class="op">=</span> [<span class="va">False</span>, <span class="va">False</span>, <span class="va">False</span>]</span>
<span id="cb57-616"><a href="#cb57-616" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">any</span>(booleans2))  <span class="co"># False (none are True)</span></span>
<span id="cb57-617"><a href="#cb57-617" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-618"><a href="#cb57-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-619"><a href="#cb57-619" aria-hidden="true" tabindex="-1"></a><span class="fu">### Creating Copies</span></span>
<span id="cb57-620"><a href="#cb57-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-621"><a href="#cb57-621" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-622"><a href="#cb57-622" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, [<span class="dv">3</span>, <span class="dv">4</span>]]</span>
<span id="cb57-623"><a href="#cb57-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-624"><a href="#cb57-624" aria-hidden="true" tabindex="-1"></a><span class="co"># Shallow copy (references nested objects)</span></span>
<span id="cb57-625"><a href="#cb57-625" aria-hidden="true" tabindex="-1"></a>shallow_copy1 <span class="op">=</span> original.copy()</span>
<span id="cb57-626"><a href="#cb57-626" aria-hidden="true" tabindex="-1"></a>shallow_copy2 <span class="op">=</span> original[:]  <span class="co"># Slice from start to end</span></span>
<span id="cb57-627"><a href="#cb57-627" aria-hidden="true" tabindex="-1"></a>shallow_copy3 <span class="op">=</span> <span class="bu">list</span>(original)  <span class="co"># List constructor</span></span>
<span id="cb57-628"><a href="#cb57-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-629"><a href="#cb57-629" aria-hidden="true" tabindex="-1"></a><span class="co"># Modifying the nested list affects all shallow copies</span></span>
<span id="cb57-630"><a href="#cb57-630" aria-hidden="true" tabindex="-1"></a>original[<span class="dv">2</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb57-631"><a href="#cb57-631" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(shallow_copy1)  <span class="co"># [1, 2, [30, 4]]</span></span>
<span id="cb57-632"><a href="#cb57-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-633"><a href="#cb57-633" aria-hidden="true" tabindex="-1"></a><span class="co"># Deep copy (creates new copies of nested objects)</span></span>
<span id="cb57-634"><a href="#cb57-634" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> copy</span>
<span id="cb57-635"><a href="#cb57-635" aria-hidden="true" tabindex="-1"></a>deep_copy <span class="op">=</span> copy.deepcopy(original)</span>
<span id="cb57-636"><a href="#cb57-636" aria-hidden="true" tabindex="-1"></a>original[<span class="dv">2</span>][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb57-637"><a href="#cb57-637" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)     <span class="co"># [1, 2, [30, 40]]</span></span>
<span id="cb57-638"><a href="#cb57-638" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(deep_copy)    <span class="co"># [1, 2, [30, 4]]</span></span>
<span id="cb57-639"><a href="#cb57-639" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-640"><a href="#cb57-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-641"><a href="#cb57-641" aria-hidden="true" tabindex="-1"></a>It's important to understand the difference between shallow and deep copies, especially when working with nested lists.</span>
<span id="cb57-642"><a href="#cb57-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-643"><a href="#cb57-643" aria-hidden="true" tabindex="-1"></a><span class="fu">## 10. Project Corner: Building Your Chatbot's Memory</span></span>
<span id="cb57-644"><a href="#cb57-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-645"><a href="#cb57-645" aria-hidden="true" tabindex="-1"></a>Now that we understand lists, we can enhance our chatbot with memory capabilities. Let's implement a conversation history system that will allow the chatbot to remember previous interactions.</span>
<span id="cb57-646"><a href="#cb57-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-647"><a href="#cb57-647" aria-hidden="true" tabindex="-1"></a><span class="fu">### Tracking Conversation History</span></span>
<span id="cb57-648"><a href="#cb57-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-649"><a href="#cb57-649" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-650"><a href="#cb57-650" aria-hidden="true" tabindex="-1"></a><span class="co"># Add this to your chatbot code to track conversation history</span></span>
<span id="cb57-651"><a href="#cb57-651" aria-hidden="true" tabindex="-1"></a>conversation_history <span class="op">=</span> []</span>
<span id="cb57-652"><a href="#cb57-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-653"><a href="#cb57-653" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> save_to_history(speaker, message, timestamp<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb57-654"><a href="#cb57-654" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Save a message to conversation history with optional timestamp."""</span></span>
<span id="cb57-655"><a href="#cb57-655" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> datetime</span>
<span id="cb57-656"><a href="#cb57-656" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> timestamp <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb57-657"><a href="#cb57-657" aria-hidden="true" tabindex="-1"></a>        timestamp <span class="op">=</span> datetime.datetime.now()</span>
<span id="cb57-658"><a href="#cb57-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-659"><a href="#cb57-659" aria-hidden="true" tabindex="-1"></a>    entry <span class="op">=</span> {</span>
<span id="cb57-660"><a href="#cb57-660" aria-hidden="true" tabindex="-1"></a>        <span class="st">"timestamp"</span>: timestamp,</span>
<span id="cb57-661"><a href="#cb57-661" aria-hidden="true" tabindex="-1"></a>        <span class="st">"speaker"</span>: speaker,</span>
<span id="cb57-662"><a href="#cb57-662" aria-hidden="true" tabindex="-1"></a>        <span class="st">"message"</span>: message</span>
<span id="cb57-663"><a href="#cb57-663" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb57-664"><a href="#cb57-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-665"><a href="#cb57-665" aria-hidden="true" tabindex="-1"></a>    conversation_history.append(entry)</span>
<span id="cb57-666"><a href="#cb57-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-667"><a href="#cb57-667" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Keep history at a reasonable size (last 50 messages)</span></span>
<span id="cb57-668"><a href="#cb57-668" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(conversation_history) <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb57-669"><a href="#cb57-669" aria-hidden="true" tabindex="-1"></a>        conversation_history.pop(<span class="dv">0</span>)  <span class="co"># Remove oldest message</span></span>
<span id="cb57-670"><a href="#cb57-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-671"><a href="#cb57-671" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> format_timestamp(timestamp):</span>
<span id="cb57-672"><a href="#cb57-672" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Format a timestamp for display."""</span></span>
<span id="cb57-673"><a href="#cb57-673" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> timestamp.strftime(<span class="st">"%H:%M:%S"</span>)</span>
<span id="cb57-674"><a href="#cb57-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-675"><a href="#cb57-675" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> show_history(limit<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb57-676"><a href="#cb57-676" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Display the conversation history with optional limit."""</span></span>
<span id="cb57-677"><a href="#cb57-677" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">----- Conversation History -----"</span>)</span>
<span id="cb57-678"><a href="#cb57-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-679"><a href="#cb57-679" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If limit is specified, show only the most recent messages</span></span>
<span id="cb57-680"><a href="#cb57-680" aria-hidden="true" tabindex="-1"></a>    entries <span class="op">=</span> conversation_history</span>
<span id="cb57-681"><a href="#cb57-681" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> limit <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> limit <span class="op">&lt;</span> <span class="bu">len</span>(entries):</span>
<span id="cb57-682"><a href="#cb57-682" aria-hidden="true" tabindex="-1"></a>        entries <span class="op">=</span> entries[<span class="op">-</span>limit:]</span>
<span id="cb57-683"><a href="#cb57-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-684"><a href="#cb57-684" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> entry <span class="kw">in</span> entries:</span>
<span id="cb57-685"><a href="#cb57-685" aria-hidden="true" tabindex="-1"></a>        timestamp <span class="op">=</span> format_timestamp(entry[<span class="st">"timestamp"</span>])</span>
<span id="cb57-686"><a href="#cb57-686" aria-hidden="true" tabindex="-1"></a>        speaker <span class="op">=</span> entry[<span class="st">"speaker"</span>]</span>
<span id="cb57-687"><a href="#cb57-687" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> entry[<span class="st">"message"</span>]</span>
<span id="cb57-688"><a href="#cb57-688" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">] </span><span class="sc">{</span>speaker<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-689"><a href="#cb57-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-690"><a href="#cb57-690" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"-------------------------------</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb57-691"><a href="#cb57-691" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-692"><a href="#cb57-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-693"><a href="#cb57-693" aria-hidden="true" tabindex="-1"></a><span class="fu">### Enhanced Main Loop with History Support</span></span>
<span id="cb57-694"><a href="#cb57-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-695"><a href="#cb57-695" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-696"><a href="#cb57-696" aria-hidden="true" tabindex="-1"></a><span class="co"># Main chat loop with history features</span></span>
<span id="cb57-697"><a href="#cb57-697" aria-hidden="true" tabindex="-1"></a>bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb57-698"><a href="#cb57-698" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Hello! I'm </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">. Type 'bye' to exit."</span>)</span>
<span id="cb57-699"><a href="#cb57-699" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Special commands: 'history' to see recent messages, 'history all' to see all messages."</span>)</span>
<span id="cb57-700"><a href="#cb57-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-701"><a href="#cb57-701" aria-hidden="true" tabindex="-1"></a>user_name <span class="op">=</span> <span class="bu">input</span>(<span class="st">"What's your name? "</span>)</span>
<span id="cb57-702"><a href="#cb57-702" aria-hidden="true" tabindex="-1"></a>greeting <span class="op">=</span> <span class="ss">f"Nice to meet you, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb57-703"><a href="#cb57-703" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>greeting<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-704"><a href="#cb57-704" aria-hidden="true" tabindex="-1"></a>save_to_history(bot_name, greeting)</span>
<span id="cb57-705"><a href="#cb57-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-706"><a href="#cb57-706" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb57-707"><a href="#cb57-707" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>)</span>
<span id="cb57-708"><a href="#cb57-708" aria-hidden="true" tabindex="-1"></a>    save_to_history(user_name, user_input)</span>
<span id="cb57-709"><a href="#cb57-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-710"><a href="#cb57-710" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Special commands</span></span>
<span id="cb57-711"><a href="#cb57-711" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb57-712"><a href="#cb57-712" aria-hidden="true" tabindex="-1"></a>        farewell <span class="op">=</span> <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">! It was nice chatting with you."</span></span>
<span id="cb57-713"><a href="#cb57-713" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>farewell<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-714"><a href="#cb57-714" aria-hidden="true" tabindex="-1"></a>        save_to_history(bot_name, farewell)</span>
<span id="cb57-715"><a href="#cb57-715" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb57-716"><a href="#cb57-716" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"history"</span>:</span>
<span id="cb57-717"><a href="#cb57-717" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Show last 5 messages by default</span></span>
<span id="cb57-718"><a href="#cb57-718" aria-hidden="true" tabindex="-1"></a>        show_history(<span class="dv">5</span>)</span>
<span id="cb57-719"><a href="#cb57-719" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb57-720"><a href="#cb57-720" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"history all"</span>:</span>
<span id="cb57-721"><a href="#cb57-721" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Show all messages</span></span>
<span id="cb57-722"><a href="#cb57-722" aria-hidden="true" tabindex="-1"></a>        show_history()</span>
<span id="cb57-723"><a href="#cb57-723" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb57-724"><a href="#cb57-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-725"><a href="#cb57-725" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Response generation (simple for now)</span></span>
<span id="cb57-726"><a href="#cb57-726" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"hello"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb57-727"><a href="#cb57-727" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f"Hello there, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb57-728"><a href="#cb57-728" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"how are you"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb57-729"><a href="#cb57-729" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="st">"I'm just a computer program, but thanks for asking!"</span></span>
<span id="cb57-730"><a href="#cb57-730" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"your name"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb57-731"><a href="#cb57-731" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f"My name is </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">."</span></span>
<span id="cb57-732"><a href="#cb57-732" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"time"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb57-733"><a href="#cb57-733" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> datetime</span>
<span id="cb57-734"><a href="#cb57-734" aria-hidden="true" tabindex="-1"></a>        current_time <span class="op">=</span> datetime.datetime.now().strftime(<span class="st">"%H:%M:%S"</span>)</span>
<span id="cb57-735"><a href="#cb57-735" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f"The current time is </span><span class="sc">{</span>current_time<span class="sc">}</span><span class="ss">."</span></span>
<span id="cb57-736"><a href="#cb57-736" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb57-737"><a href="#cb57-737" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Default response that references history</span></span>
<span id="cb57-738"><a href="#cb57-738" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(conversation_history) <span class="op">&gt;</span> <span class="dv">2</span>:</span>
<span id="cb57-739"><a href="#cb57-739" aria-hidden="true" tabindex="-1"></a>            prev_msg <span class="op">=</span> conversation_history[<span class="op">-</span><span class="dv">2</span>][<span class="st">"message"</span>]</span>
<span id="cb57-740"><a href="#cb57-740" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> <span class="ss">f"You previously mentioned '</span><span class="sc">{</span>prev_msg<span class="sc">}</span><span class="ss">'. Can you tell me more about that?"</span></span>
<span id="cb57-741"><a href="#cb57-741" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb57-742"><a href="#cb57-742" aria-hidden="true" tabindex="-1"></a>            response <span class="op">=</span> <span class="st">"I'm not sure how to respond to that yet."</span></span>
<span id="cb57-743"><a href="#cb57-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-744"><a href="#cb57-744" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-745"><a href="#cb57-745" aria-hidden="true" tabindex="-1"></a>    save_to_history(bot_name, response)</span>
<span id="cb57-746"><a href="#cb57-746" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-747"><a href="#cb57-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-748"><a href="#cb57-748" aria-hidden="true" tabindex="-1"></a><span class="fu">### Memory-Based Features</span></span>
<span id="cb57-749"><a href="#cb57-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-750"><a href="#cb57-750" aria-hidden="true" tabindex="-1"></a>Let's add some advanced features that leverage our conversation history:</span>
<span id="cb57-751"><a href="#cb57-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-752"><a href="#cb57-752" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-753"><a href="#cb57-753" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> search_history(keyword):</span>
<span id="cb57-754"><a href="#cb57-754" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Search conversation history for a keyword."""</span></span>
<span id="cb57-755"><a href="#cb57-755" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> []</span>
<span id="cb57-756"><a href="#cb57-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-757"><a href="#cb57-757" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> entry <span class="kw">in</span> conversation_history:</span>
<span id="cb57-758"><a href="#cb57-758" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> keyword.lower() <span class="kw">in</span> entry[<span class="st">"message"</span>].lower():</span>
<span id="cb57-759"><a href="#cb57-759" aria-hidden="true" tabindex="-1"></a>            results.append(entry)</span>
<span id="cb57-760"><a href="#cb57-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-761"><a href="#cb57-761" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results</span>
<span id="cb57-762"><a href="#cb57-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-763"><a href="#cb57-763" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> summarize_conversation():</span>
<span id="cb57-764"><a href="#cb57-764" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create a simple summary of the conversation."""</span></span>
<span id="cb57-765"><a href="#cb57-765" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(conversation_history) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb57-766"><a href="#cb57-766" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"No conversation to summarize."</span></span>
<span id="cb57-767"><a href="#cb57-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-768"><a href="#cb57-768" aria-hidden="true" tabindex="-1"></a>    user_msgs <span class="op">=</span> [e <span class="cf">for</span> e <span class="kw">in</span> conversation_history <span class="cf">if</span> e[<span class="st">"speaker"</span>] <span class="op">!=</span> bot_name]</span>
<span id="cb57-769"><a href="#cb57-769" aria-hidden="true" tabindex="-1"></a>    bot_msgs <span class="op">=</span> [e <span class="cf">for</span> e <span class="kw">in</span> conversation_history <span class="cf">if</span> e[<span class="st">"speaker"</span>] <span class="op">==</span> bot_name]</span>
<span id="cb57-770"><a href="#cb57-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-771"><a href="#cb57-771" aria-hidden="true" tabindex="-1"></a>    duration <span class="op">=</span> conversation_history[<span class="op">-</span><span class="dv">1</span>][<span class="st">"timestamp"</span>] <span class="op">-</span> conversation_history[<span class="dv">0</span>][<span class="st">"timestamp"</span>]</span>
<span id="cb57-772"><a href="#cb57-772" aria-hidden="true" tabindex="-1"></a>    minutes <span class="op">=</span> duration.total_seconds() <span class="op">/</span> <span class="dv">60</span></span>
<span id="cb57-773"><a href="#cb57-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-774"><a href="#cb57-774" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> [</span>
<span id="cb57-775"><a href="#cb57-775" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Conversation Summary:"</span>,</span>
<span id="cb57-776"><a href="#cb57-776" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Duration: </span><span class="sc">{</span>minutes<span class="sc">:.1f}</span><span class="ss"> minutes"</span>,</span>
<span id="cb57-777"><a href="#cb57-777" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Total messages: </span><span class="sc">{</span><span class="bu">len</span>(conversation_history)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb57-778"><a href="#cb57-778" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"User messages: </span><span class="sc">{</span><span class="bu">len</span>(user_msgs)<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb57-779"><a href="#cb57-779" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f"Bot messages: </span><span class="sc">{</span><span class="bu">len</span>(bot_msgs)<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb57-780"><a href="#cb57-780" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb57-781"><a href="#cb57-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-782"><a href="#cb57-782" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add frequent words analysis</span></span>
<span id="cb57-783"><a href="#cb57-783" aria-hidden="true" tabindex="-1"></a>    all_text <span class="op">=</span> <span class="st">" "</span>.join([e[<span class="st">"message"</span>].lower() <span class="cf">for</span> e <span class="kw">in</span> conversation_history])</span>
<span id="cb57-784"><a href="#cb57-784" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> all_text.split()</span>
<span id="cb57-785"><a href="#cb57-785" aria-hidden="true" tabindex="-1"></a>    word_counts <span class="op">=</span> {}</span>
<span id="cb57-786"><a href="#cb57-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-787"><a href="#cb57-787" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> word <span class="kw">in</span> words:</span>
<span id="cb57-788"><a href="#cb57-788" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(word) <span class="op">&gt;</span> <span class="dv">3</span>:  <span class="co"># Ignore short words</span></span>
<span id="cb57-789"><a href="#cb57-789" aria-hidden="true" tabindex="-1"></a>            word_counts[word] <span class="op">=</span> word_counts.get(word, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb57-790"><a href="#cb57-790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-791"><a href="#cb57-791" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get top 5 most frequent words</span></span>
<span id="cb57-792"><a href="#cb57-792" aria-hidden="true" tabindex="-1"></a>    top_words <span class="op">=</span> <span class="bu">sorted</span>(word_counts.items(), key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], reverse<span class="op">=</span><span class="va">True</span>)[:<span class="dv">5</span>]</span>
<span id="cb57-793"><a href="#cb57-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-794"><a href="#cb57-794" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> top_words:</span>
<span id="cb57-795"><a href="#cb57-795" aria-hidden="true" tabindex="-1"></a>        summary.append(<span class="st">"Most frequent words:"</span>)</span>
<span id="cb57-796"><a href="#cb57-796" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> word, count <span class="kw">in</span> top_words:</span>
<span id="cb57-797"><a href="#cb57-797" aria-hidden="true" tabindex="-1"></a>            summary.append(<span class="ss">f"  - '</span><span class="sc">{</span>word<span class="sc">}</span><span class="ss">': </span><span class="sc">{</span>count<span class="sc">}</span><span class="ss"> times"</span>)</span>
<span id="cb57-798"><a href="#cb57-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-799"><a href="#cb57-799" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>.join(summary)</span>
<span id="cb57-800"><a href="#cb57-800" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-801"><a href="#cb57-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-802"><a href="#cb57-802" aria-hidden="true" tabindex="-1"></a><span class="fu">### Using History-Based Features in the Chat Loop</span></span>
<span id="cb57-803"><a href="#cb57-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-804"><a href="#cb57-804" aria-hidden="true" tabindex="-1"></a>Add these commands to the main chat loop to leverage our history features:</span>
<span id="cb57-805"><a href="#cb57-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-806"><a href="#cb57-806" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-807"><a href="#cb57-807" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to the main loop, inside the special commands section</span></span>
<span id="cb57-808"><a href="#cb57-808" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> user_input.lower().startswith(<span class="st">"search "</span>):</span>
<span id="cb57-809"><a href="#cb57-809" aria-hidden="true" tabindex="-1"></a>    keyword <span class="op">=</span> user_input[<span class="dv">7</span>:].strip()</span>
<span id="cb57-810"><a href="#cb57-810" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> search_history(keyword)</span>
<span id="cb57-811"><a href="#cb57-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-812"><a href="#cb57-812" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> results:</span>
<span id="cb57-813"><a href="#cb57-813" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Found </span><span class="sc">{</span><span class="bu">len</span>(results)<span class="sc">}</span><span class="ss"> messages containing '</span><span class="sc">{</span>keyword<span class="sc">}</span><span class="ss">':"</span>)</span>
<span id="cb57-814"><a href="#cb57-814" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> entry <span class="kw">in</span> results:</span>
<span id="cb57-815"><a href="#cb57-815" aria-hidden="true" tabindex="-1"></a>            timestamp <span class="op">=</span> format_timestamp(entry[<span class="st">"timestamp"</span>])</span>
<span id="cb57-816"><a href="#cb57-816" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"[</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">] </span><span class="sc">{</span>entry[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>entry[<span class="st">'message'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-817"><a href="#cb57-817" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb57-818"><a href="#cb57-818" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">No messages found containing '</span><span class="sc">{</span>keyword<span class="sc">}</span><span class="ss">'."</span>)</span>
<span id="cb57-819"><a href="#cb57-819" aria-hidden="true" tabindex="-1"></a>    <span class="cf">continue</span></span>
<span id="cb57-820"><a href="#cb57-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-821"><a href="#cb57-821" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"summary"</span>:</span>
<span id="cb57-822"><a href="#cb57-822" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> summarize_conversation()</span>
<span id="cb57-823"><a href="#cb57-823" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>summary<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb57-824"><a href="#cb57-824" aria-hidden="true" tabindex="-1"></a>    <span class="cf">continue</span></span>
<span id="cb57-825"><a href="#cb57-825" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-826"><a href="#cb57-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-827"><a href="#cb57-827" aria-hidden="true" tabindex="-1"></a><span class="fu">### Tracking User Preferences with Lists</span></span>
<span id="cb57-828"><a href="#cb57-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-829"><a href="#cb57-829" aria-hidden="true" tabindex="-1"></a>We can also use lists to track user preferences or topics of interest:</span>
<span id="cb57-830"><a href="#cb57-830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-831"><a href="#cb57-831" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-832"><a href="#cb57-832" aria-hidden="true" tabindex="-1"></a><span class="co"># Add this to your chatbot's initialization</span></span>
<span id="cb57-833"><a href="#cb57-833" aria-hidden="true" tabindex="-1"></a>user_interests <span class="op">=</span> []</span>
<span id="cb57-834"><a href="#cb57-834" aria-hidden="true" tabindex="-1"></a>mentioned_topics <span class="op">=</span> {</span>
<span id="cb57-835"><a href="#cb57-835" aria-hidden="true" tabindex="-1"></a>    <span class="st">"python"</span>: <span class="dv">0</span>,</span>
<span id="cb57-836"><a href="#cb57-836" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ai"</span>: <span class="dv">0</span>,</span>
<span id="cb57-837"><a href="#cb57-837" aria-hidden="true" tabindex="-1"></a>    <span class="st">"programming"</span>: <span class="dv">0</span>,</span>
<span id="cb57-838"><a href="#cb57-838" aria-hidden="true" tabindex="-1"></a>    <span class="st">"learning"</span>: <span class="dv">0</span>,</span>
<span id="cb57-839"><a href="#cb57-839" aria-hidden="true" tabindex="-1"></a>    <span class="st">"chatbot"</span>: <span class="dv">0</span></span>
<span id="cb57-840"><a href="#cb57-840" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-841"><a href="#cb57-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-842"><a href="#cb57-842" aria-hidden="true" tabindex="-1"></a><span class="co"># Add this function to analyze user input for interests</span></span>
<span id="cb57-843"><a href="#cb57-843" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> track_interests(message):</span>
<span id="cb57-844"><a href="#cb57-844" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Track potential user interests based on their message."""</span></span>
<span id="cb57-845"><a href="#cb57-845" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update mentioned topics count</span></span>
<span id="cb57-846"><a href="#cb57-846" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> topic <span class="kw">in</span> mentioned_topics:</span>
<span id="cb57-847"><a href="#cb57-847" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> topic <span class="kw">in</span> message.lower():</span>
<span id="cb57-848"><a href="#cb57-848" aria-hidden="true" tabindex="-1"></a>            mentioned_topics[topic] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb57-849"><a href="#cb57-849" aria-hidden="true" tabindex="-1"></a>            <span class="co"># If mentioned enough times, add to interests</span></span>
<span id="cb57-850"><a href="#cb57-850" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> mentioned_topics[topic] <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> topic <span class="kw">not</span> <span class="kw">in</span> user_interests:</span>
<span id="cb57-851"><a href="#cb57-851" aria-hidden="true" tabindex="-1"></a>                user_interests.append(topic)</span>
<span id="cb57-852"><a href="#cb57-852" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="ss">f"I notice you're interested in </span><span class="sc">{</span>topic<span class="sc">}</span><span class="ss">. I'll remember that!"</span></span>
<span id="cb57-853"><a href="#cb57-853" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb57-854"><a href="#cb57-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-855"><a href="#cb57-855" aria-hidden="true" tabindex="-1"></a><span class="co"># Then in the main loop, after saving the user's message:</span></span>
<span id="cb57-856"><a href="#cb57-856" aria-hidden="true" tabindex="-1"></a>interest_response <span class="op">=</span> track_interests(user_input)</span>
<span id="cb57-857"><a href="#cb57-857" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> interest_response:</span>
<span id="cb57-858"><a href="#cb57-858" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>interest_response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-859"><a href="#cb57-859" aria-hidden="true" tabindex="-1"></a>    save_to_history(bot_name, interest_response)</span>
<span id="cb57-860"><a href="#cb57-860" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-861"><a href="#cb57-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-862"><a href="#cb57-862" aria-hidden="true" tabindex="-1"></a>Our chatbot now demonstrates several important uses of lists:</span>
<span id="cb57-863"><a href="#cb57-863" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Maintaining conversation history in a structured format</span>
<span id="cb57-864"><a href="#cb57-864" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Implementing commands to view, search, and analyze that history</span>
<span id="cb57-865"><a href="#cb57-865" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Tracking user interests based on conversation patterns</span>
<span id="cb57-866"><a href="#cb57-866" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Creating a summary of the conversation using aggregated data</span>
<span id="cb57-867"><a href="#cb57-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-868"><a href="#cb57-868" aria-hidden="true" tabindex="-1"></a>These features make our chatbot more useful and engaging, as it can now remember what was said and adapt to the user's interests over time.</span>
<span id="cb57-869"><a href="#cb57-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-870"><a href="#cb57-870" aria-hidden="true" tabindex="-1"></a><span class="fu">## 11. AI Collaboration Corner: Working with Lists Effectively</span></span>
<span id="cb57-871"><a href="#cb57-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-872"><a href="#cb57-872" aria-hidden="true" tabindex="-1"></a>When working with AI assistants on code involving lists, knowing how to articulate your needs and interpret suggestions is crucial. Let's explore examples of effective collaboration.</span>
<span id="cb57-873"><a href="#cb57-873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-874"><a href="#cb57-874" aria-hidden="true" tabindex="-1"></a><span class="fu">### Before: Vague Prompting</span></span>
<span id="cb57-875"><a href="#cb57-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-876"><a href="#cb57-876" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-877"><a href="#cb57-877" aria-hidden="true" tabindex="-1"></a><span class="in">Help me make lists for my chatbot.</span></span>
<span id="cb57-878"><a href="#cb57-878" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-879"><a href="#cb57-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-880"><a href="#cb57-880" aria-hidden="true" tabindex="-1"></a>**AI Response:**</span>
<span id="cb57-881"><a href="#cb57-881" aria-hidden="true" tabindex="-1"></a>*I can help you implement lists in your chatbot. Lists are a fundamental data structure in Python that can store multiple items. For a chatbot, you might want to use lists to store user inputs, chatbot responses, or predefined answers. Here's a simple example:*</span>
<span id="cb57-882"><a href="#cb57-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-883"><a href="#cb57-883" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-884"><a href="#cb57-884" aria-hidden="true" tabindex="-1"></a><span class="co"># Store predefined responses</span></span>
<span id="cb57-885"><a href="#cb57-885" aria-hidden="true" tabindex="-1"></a>greetings <span class="op">=</span> [<span class="st">"Hello!"</span>, <span class="st">"Hi there!"</span>, <span class="st">"Greetings!"</span>]</span>
<span id="cb57-886"><a href="#cb57-886" aria-hidden="true" tabindex="-1"></a>farewells <span class="op">=</span> [<span class="st">"Goodbye!"</span>, <span class="st">"See you later!"</span>, <span class="st">"Bye!"</span>]</span>
<span id="cb57-887"><a href="#cb57-887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-888"><a href="#cb57-888" aria-hidden="true" tabindex="-1"></a><span class="co"># Store conversation history</span></span>
<span id="cb57-889"><a href="#cb57-889" aria-hidden="true" tabindex="-1"></a>conversation <span class="op">=</span> []</span>
<span id="cb57-890"><a href="#cb57-890" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-891"><a href="#cb57-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-892"><a href="#cb57-892" aria-hidden="true" tabindex="-1"></a>*Is there a specific aspect of using lists in your chatbot that you'd like me to elaborate on?*</span>
<span id="cb57-893"><a href="#cb57-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-894"><a href="#cb57-894" aria-hidden="true" tabindex="-1"></a>This response is correct but generic, requiring more back-and-forth to get specific implementation details.</span>
<span id="cb57-895"><a href="#cb57-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-896"><a href="#cb57-896" aria-hidden="true" tabindex="-1"></a><span class="fu">### After: Detailed, Specific Prompting</span></span>
<span id="cb57-897"><a href="#cb57-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-898"><a href="#cb57-898" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-899"><a href="#cb57-899" aria-hidden="true" tabindex="-1"></a><span class="in">I'm building a Python chatbot and need to implement a response history system with the following features:</span></span>
<span id="cb57-900"><a href="#cb57-900" aria-hidden="true" tabindex="-1"></a><span class="in">1. Store each message with speaker name, content, and timestamp</span></span>
<span id="cb57-901"><a href="#cb57-901" aria-hidden="true" tabindex="-1"></a><span class="in">2. Implement a search function to find previous messages by keyword</span></span>
<span id="cb57-902"><a href="#cb57-902" aria-hidden="true" tabindex="-1"></a><span class="in">3. Allow retrieving the last N messages</span></span>
<span id="cb57-903"><a href="#cb57-903" aria-hidden="true" tabindex="-1"></a><span class="in">4. Automatically remove the oldest messages when the history gets too long</span></span>
<span id="cb57-904"><a href="#cb57-904" aria-hidden="true" tabindex="-1"></a><span class="in">5. Use the history to generate context-aware responses</span></span>
<span id="cb57-905"><a href="#cb57-905" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-906"><a href="#cb57-906" aria-hidden="true" tabindex="-1"></a><span class="in">Please provide code examples for these features, showing how to structure the data and implement each function efficiently.</span></span>
<span id="cb57-907"><a href="#cb57-907" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-908"><a href="#cb57-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-909"><a href="#cb57-909" aria-hidden="true" tabindex="-1"></a>**AI Response:**</span>
<span id="cb57-910"><a href="#cb57-910" aria-hidden="true" tabindex="-1"></a>*Here's a comprehensive implementation of a response history system for your chatbot:*</span>
<span id="cb57-911"><a href="#cb57-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-912"><a href="#cb57-912" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-913"><a href="#cb57-913" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime</span>
<span id="cb57-914"><a href="#cb57-914" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb57-915"><a href="#cb57-915" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Dict, List, Any, Optional</span>
<span id="cb57-916"><a href="#cb57-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-917"><a href="#cb57-917" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ChatHistory:</span>
<span id="cb57-918"><a href="#cb57-918" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, max_size: <span class="bu">int</span> <span class="op">=</span> <span class="dv">100</span>):</span>
<span id="cb57-919"><a href="#cb57-919" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Initialize chat history with a maximum size.</span></span>
<span id="cb57-920"><a href="#cb57-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-921"><a href="#cb57-921" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb57-922"><a href="#cb57-922" aria-hidden="true" tabindex="-1"></a><span class="co">            max_size: Maximum number of messages to store (oldest removed first)</span></span>
<span id="cb57-923"><a href="#cb57-923" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb57-924"><a href="#cb57-924" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Using deque for efficient appending and popping from both ends</span></span>
<span id="cb57-925"><a href="#cb57-925" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.messages <span class="op">=</span> deque(maxlen<span class="op">=</span>max_size)</span>
<span id="cb57-926"><a href="#cb57-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-927"><a href="#cb57-927" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_message(<span class="va">self</span>, speaker: <span class="bu">str</span>, content: <span class="bu">str</span>,</span>
<span id="cb57-928"><a href="#cb57-928" aria-hidden="true" tabindex="-1"></a>                   timestamp: Optional[datetime.datetime] <span class="op">=</span> <span class="va">None</span>) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb57-929"><a href="#cb57-929" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Add a message to the history.</span></span>
<span id="cb57-930"><a href="#cb57-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-931"><a href="#cb57-931" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb57-932"><a href="#cb57-932" aria-hidden="true" tabindex="-1"></a><span class="co">            speaker: Name of the message sender</span></span>
<span id="cb57-933"><a href="#cb57-933" aria-hidden="true" tabindex="-1"></a><span class="co">            content: The message text</span></span>
<span id="cb57-934"><a href="#cb57-934" aria-hidden="true" tabindex="-1"></a><span class="co">            timestamp: Optional timestamp (defaults to current time)</span></span>
<span id="cb57-935"><a href="#cb57-935" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb57-936"><a href="#cb57-936" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> timestamp <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb57-937"><a href="#cb57-937" aria-hidden="true" tabindex="-1"></a>            timestamp <span class="op">=</span> datetime.datetime.now()</span>
<span id="cb57-938"><a href="#cb57-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-939"><a href="#cb57-939" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> {</span>
<span id="cb57-940"><a href="#cb57-940" aria-hidden="true" tabindex="-1"></a>            <span class="st">"timestamp"</span>: timestamp,</span>
<span id="cb57-941"><a href="#cb57-941" aria-hidden="true" tabindex="-1"></a>            <span class="st">"speaker"</span>: speaker,</span>
<span id="cb57-942"><a href="#cb57-942" aria-hidden="true" tabindex="-1"></a>            <span class="st">"content"</span>: content</span>
<span id="cb57-943"><a href="#cb57-943" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb57-944"><a href="#cb57-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-945"><a href="#cb57-945" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.messages.append(message)</span>
<span id="cb57-946"><a href="#cb57-946" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-947"><a href="#cb57-947" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_recent(<span class="va">self</span>, n: <span class="bu">int</span> <span class="op">=</span> <span class="dv">5</span>) <span class="op">-&gt;</span> List[Dict[<span class="bu">str</span>, Any]]:</span>
<span id="cb57-948"><a href="#cb57-948" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Get the n most recent messages.</span></span>
<span id="cb57-949"><a href="#cb57-949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-950"><a href="#cb57-950" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb57-951"><a href="#cb57-951" aria-hidden="true" tabindex="-1"></a><span class="co">            n: Number of messages to retrieve</span></span>
<span id="cb57-952"><a href="#cb57-952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-953"><a href="#cb57-953" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb57-954"><a href="#cb57-954" aria-hidden="true" tabindex="-1"></a><span class="co">            List of message dictionaries</span></span>
<span id="cb57-955"><a href="#cb57-955" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb57-956"><a href="#cb57-956" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Convert to list for easier slicing</span></span>
<span id="cb57-957"><a href="#cb57-957" aria-hidden="true" tabindex="-1"></a>        history_list <span class="op">=</span> <span class="bu">list</span>(<span class="va">self</span>.messages)</span>
<span id="cb57-958"><a href="#cb57-958" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Return at most n items, starting from the end</span></span>
<span id="cb57-959"><a href="#cb57-959" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> history_list[<span class="op">-</span><span class="bu">min</span>(n, <span class="bu">len</span>(history_list)):]</span>
<span id="cb57-960"><a href="#cb57-960" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-961"><a href="#cb57-961" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, keyword: <span class="bu">str</span>) <span class="op">-&gt;</span> List[Dict[<span class="bu">str</span>, Any]]:</span>
<span id="cb57-962"><a href="#cb57-962" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Search for messages containing the keyword.</span></span>
<span id="cb57-963"><a href="#cb57-963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-964"><a href="#cb57-964" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb57-965"><a href="#cb57-965" aria-hidden="true" tabindex="-1"></a><span class="co">            keyword: Term to search for (case-insensitive)</span></span>
<span id="cb57-966"><a href="#cb57-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-967"><a href="#cb57-967" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb57-968"><a href="#cb57-968" aria-hidden="true" tabindex="-1"></a><span class="co">            List of matching message dictionaries</span></span>
<span id="cb57-969"><a href="#cb57-969" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb57-970"><a href="#cb57-970" aria-hidden="true" tabindex="-1"></a>        keyword <span class="op">=</span> keyword.lower()</span>
<span id="cb57-971"><a href="#cb57-971" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> [msg <span class="cf">for</span> msg <span class="kw">in</span> <span class="va">self</span>.messages</span>
<span id="cb57-972"><a href="#cb57-972" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> keyword <span class="kw">in</span> msg[<span class="st">"content"</span>].lower()]</span>
<span id="cb57-973"><a href="#cb57-973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-974"><a href="#cb57-974" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_context(<span class="va">self</span>, n: <span class="bu">int</span> <span class="op">=</span> <span class="dv">3</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb57-975"><a href="#cb57-975" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Get recent messages formatted as context for AI responses.</span></span>
<span id="cb57-976"><a href="#cb57-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-977"><a href="#cb57-977" aria-hidden="true" tabindex="-1"></a><span class="co">        Args:</span></span>
<span id="cb57-978"><a href="#cb57-978" aria-hidden="true" tabindex="-1"></a><span class="co">            n: Number of recent messages to include</span></span>
<span id="cb57-979"><a href="#cb57-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-980"><a href="#cb57-980" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb57-981"><a href="#cb57-981" aria-hidden="true" tabindex="-1"></a><span class="co">            Formatted string with recent conversation</span></span>
<span id="cb57-982"><a href="#cb57-982" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb57-983"><a href="#cb57-983" aria-hidden="true" tabindex="-1"></a>        recent <span class="op">=</span> <span class="va">self</span>.get_recent(n)</span>
<span id="cb57-984"><a href="#cb57-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-985"><a href="#cb57-985" aria-hidden="true" tabindex="-1"></a>        context <span class="op">=</span> []</span>
<span id="cb57-986"><a href="#cb57-986" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> recent:</span>
<span id="cb57-987"><a href="#cb57-987" aria-hidden="true" tabindex="-1"></a>            timestamp <span class="op">=</span> msg[<span class="st">"timestamp"</span>].strftime(<span class="st">"%H:%M:%S"</span>)</span>
<span id="cb57-988"><a href="#cb57-988" aria-hidden="true" tabindex="-1"></a>            context.append(<span class="ss">f"[</span><span class="sc">{</span>timestamp<span class="sc">}</span><span class="ss">] </span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-989"><a href="#cb57-989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-990"><a href="#cb57-990" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>.join(context)</span>
<span id="cb57-991"><a href="#cb57-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-992"><a href="#cb57-992" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> generate_summary(<span class="va">self</span>) <span class="op">-&gt;</span> Dict[<span class="bu">str</span>, Any]:</span>
<span id="cb57-993"><a href="#cb57-993" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Generate a statistical summary of the conversation.</span></span>
<span id="cb57-994"><a href="#cb57-994" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-995"><a href="#cb57-995" aria-hidden="true" tabindex="-1"></a><span class="co">        Returns:</span></span>
<span id="cb57-996"><a href="#cb57-996" aria-hidden="true" tabindex="-1"></a><span class="co">            Dictionary with conversation metrics</span></span>
<span id="cb57-997"><a href="#cb57-997" aria-hidden="true" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb57-998"><a href="#cb57-998" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="va">self</span>.messages:</span>
<span id="cb57-999"><a href="#cb57-999" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> {<span class="st">"message_count"</span>: <span class="dv">0</span>}</span>
<span id="cb57-1000"><a href="#cb57-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1001"><a href="#cb57-1001" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Get all messages as a list for analysis</span></span>
<span id="cb57-1002"><a href="#cb57-1002" aria-hidden="true" tabindex="-1"></a>        all_msgs <span class="op">=</span> <span class="bu">list</span>(<span class="va">self</span>.messages)</span>
<span id="cb57-1003"><a href="#cb57-1003" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1004"><a href="#cb57-1004" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Basic count statistics</span></span>
<span id="cb57-1005"><a href="#cb57-1005" aria-hidden="true" tabindex="-1"></a>        speakers <span class="op">=</span> {}</span>
<span id="cb57-1006"><a href="#cb57-1006" aria-hidden="true" tabindex="-1"></a>        word_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb57-1007"><a href="#cb57-1007" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1008"><a href="#cb57-1008" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> all_msgs:</span>
<span id="cb57-1009"><a href="#cb57-1009" aria-hidden="true" tabindex="-1"></a>            speaker <span class="op">=</span> msg[<span class="st">"speaker"</span>]</span>
<span id="cb57-1010"><a href="#cb57-1010" aria-hidden="true" tabindex="-1"></a>            speakers[speaker] <span class="op">=</span> speakers.get(speaker, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb57-1011"><a href="#cb57-1011" aria-hidden="true" tabindex="-1"></a>            word_count <span class="op">+=</span> <span class="bu">len</span>(msg[<span class="st">"content"</span>].split())</span>
<span id="cb57-1012"><a href="#cb57-1012" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1013"><a href="#cb57-1013" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Time statistics</span></span>
<span id="cb57-1014"><a href="#cb57-1014" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(all_msgs) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb57-1015"><a href="#cb57-1015" aria-hidden="true" tabindex="-1"></a>            start_time <span class="op">=</span> all_msgs[<span class="dv">0</span>][<span class="st">"timestamp"</span>]</span>
<span id="cb57-1016"><a href="#cb57-1016" aria-hidden="true" tabindex="-1"></a>            end_time <span class="op">=</span> all_msgs[<span class="op">-</span><span class="dv">1</span>][<span class="st">"timestamp"</span>]</span>
<span id="cb57-1017"><a href="#cb57-1017" aria-hidden="true" tabindex="-1"></a>            duration <span class="op">=</span> (end_time <span class="op">-</span> start_time).total_seconds()</span>
<span id="cb57-1018"><a href="#cb57-1018" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb57-1019"><a href="#cb57-1019" aria-hidden="true" tabindex="-1"></a>            duration <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb57-1020"><a href="#cb57-1020" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1021"><a href="#cb57-1021" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb57-1022"><a href="#cb57-1022" aria-hidden="true" tabindex="-1"></a>            <span class="st">"message_count"</span>: <span class="bu">len</span>(all_msgs),</span>
<span id="cb57-1023"><a href="#cb57-1023" aria-hidden="true" tabindex="-1"></a>            <span class="st">"speaker_counts"</span>: speakers,</span>
<span id="cb57-1024"><a href="#cb57-1024" aria-hidden="true" tabindex="-1"></a>            <span class="st">"word_count"</span>: word_count,</span>
<span id="cb57-1025"><a href="#cb57-1025" aria-hidden="true" tabindex="-1"></a>            <span class="st">"duration_seconds"</span>: duration,</span>
<span id="cb57-1026"><a href="#cb57-1026" aria-hidden="true" tabindex="-1"></a>            <span class="st">"messages_per_minute"</span>: (<span class="bu">len</span>(all_msgs) <span class="op">*</span> <span class="dv">60</span> <span class="op">/</span> duration) <span class="cf">if</span> duration <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb57-1027"><a href="#cb57-1027" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb57-1028"><a href="#cb57-1028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1029"><a href="#cb57-1029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1030"><a href="#cb57-1030" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb57-1031"><a href="#cb57-1031" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> demo_chat_history():</span>
<span id="cb57-1032"><a href="#cb57-1032" aria-hidden="true" tabindex="-1"></a>    history <span class="op">=</span> ChatHistory(max_size<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb57-1033"><a href="#cb57-1033" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1034"><a href="#cb57-1034" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add some sample messages</span></span>
<span id="cb57-1035"><a href="#cb57-1035" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"User"</span>, <span class="st">"Hello, chatbot!"</span>)</span>
<span id="cb57-1036"><a href="#cb57-1036" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"Bot"</span>, <span class="st">"Hello! How can I help you today?"</span>)</span>
<span id="cb57-1037"><a href="#cb57-1037" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"User"</span>, <span class="st">"I'm looking for information about Python lists."</span>)</span>
<span id="cb57-1038"><a href="#cb57-1038" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"Bot"</span>, <span class="st">"Lists are ordered, mutable collections in Python."</span>)</span>
<span id="cb57-1039"><a href="#cb57-1039" aria-hidden="true" tabindex="-1"></a>    history.add_message(<span class="st">"User"</span>, <span class="st">"Can you give me an example?"</span>)</span>
<span id="cb57-1040"><a href="#cb57-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1041"><a href="#cb57-1041" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get recent messages</span></span>
<span id="cb57-1042"><a href="#cb57-1042" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Recent messages:"</span>)</span>
<span id="cb57-1043"><a href="#cb57-1043" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> msg <span class="kw">in</span> history.get_recent(<span class="dv">3</span>):</span>
<span id="cb57-1044"><a href="#cb57-1044" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1045"><a href="#cb57-1045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1046"><a href="#cb57-1046" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Search for messages</span></span>
<span id="cb57-1047"><a href="#cb57-1047" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Search results for 'python':"</span>)</span>
<span id="cb57-1048"><a href="#cb57-1048" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> msg <span class="kw">in</span> history.search(<span class="st">"python"</span>):</span>
<span id="cb57-1049"><a href="#cb57-1049" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1050"><a href="#cb57-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1051"><a href="#cb57-1051" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get conversation context</span></span>
<span id="cb57-1052"><a href="#cb57-1052" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Conversation context:"</span>)</span>
<span id="cb57-1053"><a href="#cb57-1053" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(history.get_context())</span>
<span id="cb57-1054"><a href="#cb57-1054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1055"><a href="#cb57-1055" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate summary</span></span>
<span id="cb57-1056"><a href="#cb57-1056" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Conversation summary:"</span>)</span>
<span id="cb57-1057"><a href="#cb57-1057" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> history.generate_summary()</span>
<span id="cb57-1058"><a href="#cb57-1058" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> summary.items():</span>
<span id="cb57-1059"><a href="#cb57-1059" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>key<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1060"><a href="#cb57-1060" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1061"><a href="#cb57-1061" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the demo</span></span>
<span id="cb57-1062"><a href="#cb57-1062" aria-hidden="true" tabindex="-1"></a><span class="co"># demo_chat_history()</span></span>
<span id="cb57-1063"><a href="#cb57-1063" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1064"><a href="#cb57-1064" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1065"><a href="#cb57-1065" aria-hidden="true" tabindex="-1"></a>*This implementation provides several advantages:*</span>
<span id="cb57-1066"><a href="#cb57-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1067"><a href="#cb57-1067" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>*Uses `deque` with `maxlen` for automatic removal of oldest messages when capacity is reached*</span>
<span id="cb57-1068"><a href="#cb57-1068" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>*Stores rich message information (timestamp, speaker, content) for detailed analysis*</span>
<span id="cb57-1069"><a href="#cb57-1069" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>*Provides targeted functions for common operations (getting recent messages, searching, etc.)*</span>
<span id="cb57-1070"><a href="#cb57-1070" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>*Includes a summary generator for conversation analytics*</span>
<span id="cb57-1071"><a href="#cb57-1071" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>*Uses type hints to improve code clarity and IDE support*</span>
<span id="cb57-1072"><a href="#cb57-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1073"><a href="#cb57-1073" aria-hidden="true" tabindex="-1"></a>*To use this in your chatbot, add the `ChatHistory` class to your code and integrate it with your main chat loop:*</span>
<span id="cb57-1074"><a href="#cb57-1074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1075"><a href="#cb57-1075" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1076"><a href="#cb57-1076" aria-hidden="true" tabindex="-1"></a><span class="co"># In your main chatbot code</span></span>
<span id="cb57-1077"><a href="#cb57-1077" aria-hidden="true" tabindex="-1"></a>bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb57-1078"><a href="#cb57-1078" aria-hidden="true" tabindex="-1"></a>user_name <span class="op">=</span> <span class="st">"User"</span>  <span class="co"># You can prompt for this</span></span>
<span id="cb57-1079"><a href="#cb57-1079" aria-hidden="true" tabindex="-1"></a>history <span class="op">=</span> ChatHistory()</span>
<span id="cb57-1080"><a href="#cb57-1080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1081"><a href="#cb57-1081" aria-hidden="true" tabindex="-1"></a><span class="co"># Main chat loop</span></span>
<span id="cb57-1082"><a href="#cb57-1082" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb57-1083"><a href="#cb57-1083" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>)</span>
<span id="cb57-1084"><a href="#cb57-1084" aria-hidden="true" tabindex="-1"></a>    history.add_message(user_name, user_input)</span>
<span id="cb57-1085"><a href="#cb57-1085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1086"><a href="#cb57-1086" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb57-1087"><a href="#cb57-1087" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="st">"Goodbye!"</span></span>
<span id="cb57-1088"><a href="#cb57-1088" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1089"><a href="#cb57-1089" aria-hidden="true" tabindex="-1"></a>        history.add_message(bot_name, response)</span>
<span id="cb57-1090"><a href="#cb57-1090" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb57-1091"><a href="#cb57-1091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1092"><a href="#cb57-1092" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Special commands using history</span></span>
<span id="cb57-1093"><a href="#cb57-1093" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower() <span class="op">==</span> <span class="st">"history"</span>:</span>
<span id="cb57-1094"><a href="#cb57-1094" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">--- Recent conversation ---"</span>)</span>
<span id="cb57-1095"><a href="#cb57-1095" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> history.get_recent(<span class="dv">5</span>):</span>
<span id="cb57-1096"><a href="#cb57-1096" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1097"><a href="#cb57-1097" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb57-1098"><a href="#cb57-1098" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> user_input.lower().startswith(<span class="st">"search "</span>):</span>
<span id="cb57-1099"><a href="#cb57-1099" aria-hidden="true" tabindex="-1"></a>        keyword <span class="op">=</span> user_input[<span class="dv">7</span>:].strip()</span>
<span id="cb57-1100"><a href="#cb57-1100" aria-hidden="true" tabindex="-1"></a>        results <span class="op">=</span> history.search(keyword)</span>
<span id="cb57-1101"><a href="#cb57-1101" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Found </span><span class="sc">{</span><span class="bu">len</span>(results)<span class="sc">}</span><span class="ss"> messages containing '</span><span class="sc">{</span>keyword<span class="sc">}</span><span class="ss">'"</span>)</span>
<span id="cb57-1102"><a href="#cb57-1102" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> msg <span class="kw">in</span> results:</span>
<span id="cb57-1103"><a href="#cb57-1103" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>msg[<span class="st">'speaker'</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>msg[<span class="st">'content'</span>]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1104"><a href="#cb57-1104" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb57-1105"><a href="#cb57-1105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1106"><a href="#cb57-1106" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Normal response generation - use history for context</span></span>
<span id="cb57-1107"><a href="#cb57-1107" aria-hidden="true" tabindex="-1"></a>    context <span class="op">=</span> history.get_context(<span class="dv">3</span>)  <span class="co"># Get last 3 messages</span></span>
<span id="cb57-1108"><a href="#cb57-1108" aria-hidden="true" tabindex="-1"></a>    <span class="co"># In a real implementation, you would use this context</span></span>
<span id="cb57-1109"><a href="#cb57-1109" aria-hidden="true" tabindex="-1"></a>    <span class="co"># to inform your response generation logic</span></span>
<span id="cb57-1110"><a href="#cb57-1110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1111"><a href="#cb57-1111" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> <span class="st">"I'm processing your message..."</span>  <span class="co"># Placeholder</span></span>
<span id="cb57-1112"><a href="#cb57-1112" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1113"><a href="#cb57-1113" aria-hidden="true" tabindex="-1"></a>    history.add_message(bot_name, response)</span>
<span id="cb57-1114"><a href="#cb57-1114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1115"><a href="#cb57-1115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1116"><a href="#cb57-1116" aria-hidden="true" tabindex="-1"></a>*This design can be extended by:*</span>
<span id="cb57-1117"><a href="#cb57-1117" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>*Adding persistence to save chat history between sessions*</span>
<span id="cb57-1118"><a href="#cb57-1118" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>*Implementing more sophisticated analysis of conversation patterns*</span>
<span id="cb57-1119"><a href="#cb57-1119" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>*Using context to generate better responses with an AI model*</span>
<span id="cb57-1120"><a href="#cb57-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1121"><a href="#cb57-1121" aria-hidden="true" tabindex="-1"></a><span class="fu">### How to Craft Effective Prompts About Lists</span></span>
<span id="cb57-1122"><a href="#cb57-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1123"><a href="#cb57-1123" aria-hidden="true" tabindex="-1"></a>When asking an AI assistant for help with lists, consider these guidelines:</span>
<span id="cb57-1124"><a href="#cb57-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1125"><a href="#cb57-1125" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Be specific about your data structure needs**:</span>
<span id="cb57-1126"><a href="#cb57-1126" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Describe the elements you want to store (type, structure)</span>
<span id="cb57-1127"><a href="#cb57-1127" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Explain how you'll access the data (random access, sequential, etc.)</span>
<span id="cb57-1128"><a href="#cb57-1128" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Mention any size constraints or performance considerations</span>
<span id="cb57-1129"><a href="#cb57-1129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1130"><a href="#cb57-1130" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Explain your operations**:</span>
<span id="cb57-1131"><a href="#cb57-1131" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Which operations will be most frequent? (appending, searching, sorting)</span>
<span id="cb57-1132"><a href="#cb57-1132" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Do you need to modify elements in place or create new lists?</span>
<span id="cb57-1133"><a href="#cb57-1133" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Will you need nested structures or just simple lists?</span>
<span id="cb57-1134"><a href="#cb57-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1135"><a href="#cb57-1135" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Provide context for your application**:</span>
<span id="cb57-1136"><a href="#cb57-1136" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Explain how lists fit into your larger program</span>
<span id="cb57-1137"><a href="#cb57-1137" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Share any existing code that will interact with these lists</span>
<span id="cb57-1138"><a href="#cb57-1138" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>Describe the problem you're trying to solve</span>
<span id="cb57-1139"><a href="#cb57-1139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1140"><a href="#cb57-1140" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Ask for specific alternatives**:</span>
<span id="cb57-1141"><a href="#cb57-1141" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>"Would a dictionary be better than a list for this use case?"</span>
<span id="cb57-1142"><a href="#cb57-1142" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>"Should I use a list comprehension or a traditional loop here?"</span>
<span id="cb57-1143"><a href="#cb57-1143" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>"Is there a more efficient data structure for this operation?"</span>
<span id="cb57-1144"><a href="#cb57-1144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1145"><a href="#cb57-1145" aria-hidden="true" tabindex="-1"></a>Here's an effective prompt template:</span>
<span id="cb57-1146"><a href="#cb57-1146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1147"><a href="#cb57-1147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1148"><a href="#cb57-1148" aria-hidden="true" tabindex="-1"></a><span class="in">I'm building a [type of application] that needs to [specific functionality].</span></span>
<span id="cb57-1149"><a href="#cb57-1149" aria-hidden="true" tabindex="-1"></a><span class="in">I plan to use Python lists to store [description of data] with the following operations:</span></span>
<span id="cb57-1150"><a href="#cb57-1150" aria-hidden="true" tabindex="-1"></a><span class="in">1. [First operation/access pattern]</span></span>
<span id="cb57-1151"><a href="#cb57-1151" aria-hidden="true" tabindex="-1"></a><span class="in">2. [Second operation/access pattern]</span></span>
<span id="cb57-1152"><a href="#cb57-1152" aria-hidden="true" tabindex="-1"></a><span class="in">3. [Third operation/access pattern]</span></span>
<span id="cb57-1153"><a href="#cb57-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1154"><a href="#cb57-1154" aria-hidden="true" tabindex="-1"></a><span class="in">Performance considerations: [any specific requirements]</span></span>
<span id="cb57-1155"><a href="#cb57-1155" aria-hidden="true" tabindex="-1"></a><span class="in">Existing code: [relevant code snippet if applicable]</span></span>
<span id="cb57-1156"><a href="#cb57-1156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1157"><a href="#cb57-1157" aria-hidden="true" tabindex="-1"></a><span class="in">What's the most efficient way to implement this with Python lists?</span></span>
<span id="cb57-1158"><a href="#cb57-1158" aria-hidden="true" tabindex="-1"></a><span class="in">Are there alternative data structures I should consider?</span></span>
<span id="cb57-1159"><a href="#cb57-1159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1160"><a href="#cb57-1160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1161"><a href="#cb57-1161" aria-hidden="true" tabindex="-1"></a><span class="fu">## 12. Common List Mistakes and Gotchas</span></span>
<span id="cb57-1162"><a href="#cb57-1162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1163"><a href="#cb57-1163" aria-hidden="true" tabindex="-1"></a>When working with lists, be aware of these common pitfalls:</span>
<span id="cb57-1164"><a href="#cb57-1164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1165"><a href="#cb57-1165" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1. Modifying a List While Iterating</span></span>
<span id="cb57-1166"><a href="#cb57-1166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1167"><a href="#cb57-1167" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1168"><a href="#cb57-1168" aria-hidden="true" tabindex="-1"></a><span class="co"># Problematic: Modifying while iterating</span></span>
<span id="cb57-1169"><a href="#cb57-1169" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-1170"><a href="#cb57-1170" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers:</span>
<span id="cb57-1171"><a href="#cb57-1171" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb57-1172"><a href="#cb57-1172" aria-hidden="true" tabindex="-1"></a>        numbers.remove(num)  <span class="co"># Modifies the list during iteration</span></span>
<span id="cb57-1173"><a href="#cb57-1173" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># Unexpected result: [1, 3, 5]</span></span>
<span id="cb57-1174"><a href="#cb57-1174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1175"><a href="#cb57-1175" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach: Create a new list</span></span>
<span id="cb57-1176"><a href="#cb57-1176" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-1177"><a href="#cb57-1177" aria-hidden="true" tabindex="-1"></a>odd_numbers <span class="op">=</span> [num <span class="cf">for</span> num <span class="kw">in</span> numbers <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>]</span>
<span id="cb57-1178"><a href="#cb57-1178" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(odd_numbers)  <span class="co"># [1, 3, 5]</span></span>
<span id="cb57-1179"><a href="#cb57-1179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1180"><a href="#cb57-1180" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternative: Iterate over a copy</span></span>
<span id="cb57-1181"><a href="#cb57-1181" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-1182"><a href="#cb57-1182" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> num <span class="kw">in</span> numbers.copy():</span>
<span id="cb57-1183"><a href="#cb57-1183" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb57-1184"><a href="#cb57-1184" aria-hidden="true" tabindex="-1"></a>        numbers.remove(num)</span>
<span id="cb57-1185"><a href="#cb57-1185" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numbers)  <span class="co"># [1, 3, 5]</span></span>
<span id="cb57-1186"><a href="#cb57-1186" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1187"><a href="#cb57-1187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1188"><a href="#cb57-1188" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2. Confusing `append()` and `extend()`</span></span>
<span id="cb57-1189"><a href="#cb57-1189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1190"><a href="#cb57-1190" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1191"><a href="#cb57-1191" aria-hidden="true" tabindex="-1"></a><span class="co"># Intended: Add individual elements from another list</span></span>
<span id="cb57-1192"><a href="#cb57-1192" aria-hidden="true" tabindex="-1"></a>list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-1193"><a href="#cb57-1193" aria-hidden="true" tabindex="-1"></a>list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-1194"><a href="#cb57-1194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1195"><a href="#cb57-1195" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrong approach</span></span>
<span id="cb57-1196"><a href="#cb57-1196" aria-hidden="true" tabindex="-1"></a>list1.append(list2)  <span class="co"># Creates nested list</span></span>
<span id="cb57-1197"><a href="#cb57-1197" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list1)  <span class="co"># [1, 2, 3, [4, 5]]</span></span>
<span id="cb57-1198"><a href="#cb57-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1199"><a href="#cb57-1199" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct approach</span></span>
<span id="cb57-1200"><a href="#cb57-1200" aria-hidden="true" tabindex="-1"></a>list1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-1201"><a href="#cb57-1201" aria-hidden="true" tabindex="-1"></a>list2 <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb57-1202"><a href="#cb57-1202" aria-hidden="true" tabindex="-1"></a>list1.extend(list2)  <span class="co"># Adds individual elements</span></span>
<span id="cb57-1203"><a href="#cb57-1203" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(list1)  <span class="co"># [1, 2, 3, 4, 5]</span></span>
<span id="cb57-1204"><a href="#cb57-1204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1205"><a href="#cb57-1205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1206"><a href="#cb57-1206" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3. Unexpected References</span></span>
<span id="cb57-1207"><a href="#cb57-1207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1208"><a href="#cb57-1208" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1209"><a href="#cb57-1209" aria-hidden="true" tabindex="-1"></a><span class="co"># Unexpected behavior with references</span></span>
<span id="cb57-1210"><a href="#cb57-1210" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-1211"><a href="#cb57-1211" aria-hidden="true" tabindex="-1"></a>duplicate <span class="op">=</span> original  <span class="co"># Not a copy, just another reference</span></span>
<span id="cb57-1212"><a href="#cb57-1212" aria-hidden="true" tabindex="-1"></a>duplicate.append(<span class="dv">4</span>)</span>
<span id="cb57-1213"><a href="#cb57-1213" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)  <span class="co"># [1, 2, 3, 4] (original is also modified)</span></span>
<span id="cb57-1214"><a href="#cb57-1214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1215"><a href="#cb57-1215" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a copy instead</span></span>
<span id="cb57-1216"><a href="#cb57-1216" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-1217"><a href="#cb57-1217" aria-hidden="true" tabindex="-1"></a>duplicate <span class="op">=</span> original.copy()  <span class="co"># Creates a new list</span></span>
<span id="cb57-1218"><a href="#cb57-1218" aria-hidden="true" tabindex="-1"></a>duplicate.append(<span class="dv">4</span>)</span>
<span id="cb57-1219"><a href="#cb57-1219" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(original)  <span class="co"># [1, 2, 3] (original unchanged)</span></span>
<span id="cb57-1220"><a href="#cb57-1220" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(duplicate)  <span class="co"># [1, 2, 3, 4]</span></span>
<span id="cb57-1221"><a href="#cb57-1221" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1222"><a href="#cb57-1222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1223"><a href="#cb57-1223" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4. Subtle Issues with List Multiplication</span></span>
<span id="cb57-1224"><a href="#cb57-1224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1225"><a href="#cb57-1225" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1226"><a href="#cb57-1226" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a list of empty lists (problematic)</span></span>
<span id="cb57-1227"><a href="#cb57-1227" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> <span class="dv">3</span>] <span class="op">*</span> <span class="dv">3</span>  <span class="co"># Creates references to the same inner list</span></span>
<span id="cb57-1228"><a href="#cb57-1228" aria-hidden="true" tabindex="-1"></a>matrix[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb57-1229"><a href="#cb57-1229" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix)  <span class="co"># [[1, 0, 0], [1, 0, 0], [1, 0, 0]] (all rows modified)</span></span>
<span id="cb57-1230"><a href="#cb57-1230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1231"><a href="#cb57-1231" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct approach with list comprehension</span></span>
<span id="cb57-1232"><a href="#cb57-1232" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">0</span> <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>)] <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>)]</span>
<span id="cb57-1233"><a href="#cb57-1233" aria-hidden="true" tabindex="-1"></a>matrix[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb57-1234"><a href="#cb57-1234" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(matrix)  <span class="co"># [[1, 0, 0], [0, 0, 0], [0, 0, 0]] (only first row modified)</span></span>
<span id="cb57-1235"><a href="#cb57-1235" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1236"><a href="#cb57-1236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1237"><a href="#cb57-1237" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5. IndexError from Incorrect Bounds Checking</span></span>
<span id="cb57-1238"><a href="#cb57-1238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1239"><a href="#cb57-1239" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1240"><a href="#cb57-1240" aria-hidden="true" tabindex="-1"></a><span class="co"># Accessing an element that might not exist</span></span>
<span id="cb57-1241"><a href="#cb57-1241" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-1242"><a href="#cb57-1242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1243"><a href="#cb57-1243" aria-hidden="true" tabindex="-1"></a><span class="co"># Risky approach</span></span>
<span id="cb57-1244"><a href="#cb57-1244" aria-hidden="true" tabindex="-1"></a><span class="co"># index = 5</span></span>
<span id="cb57-1245"><a href="#cb57-1245" aria-hidden="true" tabindex="-1"></a><span class="co"># value = numbers[index]  # Raises IndexError</span></span>
<span id="cb57-1246"><a href="#cb57-1246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1247"><a href="#cb57-1247" aria-hidden="true" tabindex="-1"></a><span class="co"># Safer approach with bounds checking</span></span>
<span id="cb57-1248"><a href="#cb57-1248" aria-hidden="true" tabindex="-1"></a>index <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb57-1249"><a href="#cb57-1249" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;=</span> index <span class="op">&lt;</span> <span class="bu">len</span>(numbers):</span>
<span id="cb57-1250"><a href="#cb57-1250" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> numbers[index]</span>
<span id="cb57-1251"><a href="#cb57-1251" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb57-1252"><a href="#cb57-1252" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> <span class="va">None</span></span>
<span id="cb57-1253"><a href="#cb57-1253" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(value)  <span class="co"># None</span></span>
<span id="cb57-1254"><a href="#cb57-1254" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1255"><a href="#cb57-1255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1256"><a href="#cb57-1256" aria-hidden="true" tabindex="-1"></a><span class="fu">### 6. Using the Wrong Method for Removing Elements</span></span>
<span id="cb57-1257"><a href="#cb57-1257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1258"><a href="#cb57-1258" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1259"><a href="#cb57-1259" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>]</span>
<span id="cb57-1260"><a href="#cb57-1260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1261"><a href="#cb57-1261" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrong: Using del when you want to get the removed value</span></span>
<span id="cb57-1262"><a href="#cb57-1262" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> my_list[<span class="dv">2</span>]  <span class="co"># Deletes but doesn't return the value</span></span>
<span id="cb57-1263"><a href="#cb57-1263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1264"><a href="#cb57-1264" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: Using pop when you need the removed value</span></span>
<span id="cb57-1265"><a href="#cb57-1265" aria-hidden="true" tabindex="-1"></a>value <span class="op">=</span> my_list.pop(<span class="dv">0</span>)  <span class="co"># Removes and returns 10</span></span>
<span id="cb57-1266"><a href="#cb57-1266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1267"><a href="#cb57-1267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1268"><a href="#cb57-1268" aria-hidden="true" tabindex="-1"></a><span class="fu">### 7. String vs. List Confusion</span></span>
<span id="cb57-1269"><a href="#cb57-1269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1270"><a href="#cb57-1270" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1271"><a href="#cb57-1271" aria-hidden="true" tabindex="-1"></a><span class="co"># Lists and strings are both sequences but behave differently</span></span>
<span id="cb57-1272"><a href="#cb57-1272" aria-hidden="true" tabindex="-1"></a>word <span class="op">=</span> <span class="st">"Python"</span></span>
<span id="cb57-1273"><a href="#cb57-1273" aria-hidden="true" tabindex="-1"></a>letters <span class="op">=</span> <span class="bu">list</span>(word)  <span class="co"># Convert to list: ['P', 'y', 't', 'h', 'o', 'n']</span></span>
<span id="cb57-1274"><a href="#cb57-1274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1275"><a href="#cb57-1275" aria-hidden="true" tabindex="-1"></a><span class="co"># String is immutable</span></span>
<span id="cb57-1276"><a href="#cb57-1276" aria-hidden="true" tabindex="-1"></a><span class="co"># word[0] = 'J'  # TypeError: 'str' object does not support item assignment</span></span>
<span id="cb57-1277"><a href="#cb57-1277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1278"><a href="#cb57-1278" aria-hidden="true" tabindex="-1"></a><span class="co"># List is mutable</span></span>
<span id="cb57-1279"><a href="#cb57-1279" aria-hidden="true" tabindex="-1"></a>letters[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'J'</span></span>
<span id="cb57-1280"><a href="#cb57-1280" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(letters)  <span class="co"># ['J', 'y', 't', 'h', 'o', 'n']</span></span>
<span id="cb57-1281"><a href="#cb57-1281" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">''</span>.join(letters))  <span class="co"># Convert back to string: 'Jython'</span></span>
<span id="cb57-1282"><a href="#cb57-1282" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1283"><a href="#cb57-1283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1284"><a href="#cb57-1284" aria-hidden="true" tabindex="-1"></a><span class="fu">## 13. Performance Considerations for Lists</span></span>
<span id="cb57-1285"><a href="#cb57-1285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1286"><a href="#cb57-1286" aria-hidden="true" tabindex="-1"></a>Understanding list performance helps you write more efficient code:</span>
<span id="cb57-1287"><a href="#cb57-1287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1288"><a href="#cb57-1288" aria-hidden="true" tabindex="-1"></a><span class="fu">### Time Complexity of Common Operations</span></span>
<span id="cb57-1289"><a href="#cb57-1289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1290"><a href="#cb57-1290" aria-hidden="true" tabindex="-1"></a>| Operation | Time Complexity | Example |</span>
<span id="cb57-1291"><a href="#cb57-1291" aria-hidden="true" tabindex="-1"></a>|-----------|-----------------|---------|</span>
<span id="cb57-1292"><a href="#cb57-1292" aria-hidden="true" tabindex="-1"></a>| Access by index | O(1) | <span class="in">`my_list[5]`</span> |</span>
<span id="cb57-1293"><a href="#cb57-1293" aria-hidden="true" tabindex="-1"></a>| Append to end | O(1)* | <span class="in">`my_list.append(x)`</span> |</span>
<span id="cb57-1294"><a href="#cb57-1294" aria-hidden="true" tabindex="-1"></a>| Insert at position | O(n) | <span class="in">`my_list.insert(i, x)`</span> |</span>
<span id="cb57-1295"><a href="#cb57-1295" aria-hidden="true" tabindex="-1"></a>| Delete by index | O(n) | <span class="in">`del my_list[i]`</span> |</span>
<span id="cb57-1296"><a href="#cb57-1296" aria-hidden="true" tabindex="-1"></a>| Delete from end | O(1) | <span class="in">`my_list.pop()`</span> |</span>
<span id="cb57-1297"><a href="#cb57-1297" aria-hidden="true" tabindex="-1"></a>| Delete from position | O(n) | <span class="in">`my_list.pop(i)`</span> |</span>
<span id="cb57-1298"><a href="#cb57-1298" aria-hidden="true" tabindex="-1"></a>| Search by value | O(n) | <span class="in">`x in my_list`</span> |</span>
<span id="cb57-1299"><a href="#cb57-1299" aria-hidden="true" tabindex="-1"></a>| Length | O(1) | <span class="in">`len(my_list)`</span> |</span>
<span id="cb57-1300"><a href="#cb57-1300" aria-hidden="true" tabindex="-1"></a>| Slice | O(k) | <span class="in">`my_list[i:j]`</span> (k is slice size) |</span>
<span id="cb57-1301"><a href="#cb57-1301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1302"><a href="#cb57-1302" aria-hidden="true" tabindex="-1"></a>*Amortized constant time - occasionally O(n) when resizing is needed</span>
<span id="cb57-1303"><a href="#cb57-1303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1304"><a href="#cb57-1304" aria-hidden="true" tabindex="-1"></a><span class="fu">### Practical Optimization Tips</span></span>
<span id="cb57-1305"><a href="#cb57-1305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1306"><a href="#cb57-1306" aria-hidden="true" tabindex="-1"></a>For large lists and performance-critical code:</span>
<span id="cb57-1307"><a href="#cb57-1307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1308"><a href="#cb57-1308" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1309"><a href="#cb57-1309" aria-hidden="true" tabindex="-1"></a><span class="co"># Inefficient: Building a list with many concatenations</span></span>
<span id="cb57-1310"><a href="#cb57-1310" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> []</span>
<span id="cb57-1311"><a href="#cb57-1311" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb57-1312"><a href="#cb57-1312" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> result <span class="op">+</span> [i]  <span class="co"># Creates a new list each time: O(n²) overall</span></span>
<span id="cb57-1313"><a href="#cb57-1313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1314"><a href="#cb57-1314" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Using append</span></span>
<span id="cb57-1315"><a href="#cb57-1315" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> []</span>
<span id="cb57-1316"><a href="#cb57-1316" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb57-1317"><a href="#cb57-1317" aria-hidden="true" tabindex="-1"></a>    result.append(i)  <span class="co"># Amortized O(1) per operation: O(n) overall</span></span>
<span id="cb57-1318"><a href="#cb57-1318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1319"><a href="#cb57-1319" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Using list comprehension</span></span>
<span id="cb57-1320"><a href="#cb57-1320" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>)]  <span class="co"># Most Pythonic and efficient</span></span>
<span id="cb57-1321"><a href="#cb57-1321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1322"><a href="#cb57-1322" aria-hidden="true" tabindex="-1"></a><span class="co"># Inefficient: Frequent insertions at the beginning</span></span>
<span id="cb57-1323"><a href="#cb57-1323" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> []</span>
<span id="cb57-1324"><a href="#cb57-1324" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb57-1325"><a href="#cb57-1325" aria-hidden="true" tabindex="-1"></a>    data.insert(<span class="dv">0</span>, i)  <span class="co"># Each insert shifts all elements: O(n²) overall</span></span>
<span id="cb57-1326"><a href="#cb57-1326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1327"><a href="#cb57-1327" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Append and reverse later</span></span>
<span id="cb57-1328"><a href="#cb57-1328" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> []</span>
<span id="cb57-1329"><a href="#cb57-1329" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb57-1330"><a href="#cb57-1330" aria-hidden="true" tabindex="-1"></a>    data.append(i)</span>
<span id="cb57-1331"><a href="#cb57-1331" aria-hidden="true" tabindex="-1"></a>data.reverse()  <span class="co"># O(n) operation once at the end</span></span>
<span id="cb57-1332"><a href="#cb57-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1333"><a href="#cb57-1333" aria-hidden="true" tabindex="-1"></a><span class="co"># Inefficient: Repeatedly checking if an element exists in a large list</span></span>
<span id="cb57-1334"><a href="#cb57-1334" aria-hidden="true" tabindex="-1"></a>large_list <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">10000</span>))</span>
<span id="cb57-1335"><a href="#cb57-1335" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb57-1336"><a href="#cb57-1336" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="kw">in</span> large_list:  <span class="co"># O(n) search each time: O(n²) overall</span></span>
<span id="cb57-1337"><a href="#cb57-1337" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1338"><a href="#cb57-1338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1339"><a href="#cb57-1339" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient: Convert to set for O(1) lookups</span></span>
<span id="cb57-1340"><a href="#cb57-1340" aria-hidden="true" tabindex="-1"></a>large_set <span class="op">=</span> <span class="bu">set</span>(large_list)  <span class="co"># O(n) conversion once</span></span>
<span id="cb57-1341"><a href="#cb57-1341" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1000</span>):</span>
<span id="cb57-1342"><a href="#cb57-1342" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="kw">in</span> large_set:  <span class="co"># O(1) lookup: O(n) overall</span></span>
<span id="cb57-1343"><a href="#cb57-1343" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Found </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1344"><a href="#cb57-1344" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1345"><a href="#cb57-1345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1346"><a href="#cb57-1346" aria-hidden="true" tabindex="-1"></a>In summary:</span>
<span id="cb57-1347"><a href="#cb57-1347" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Prefer in-place operations when possible</span>
<span id="cb57-1348"><a href="#cb57-1348" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use appropriate data structures (sets for frequent lookups)</span>
<span id="cb57-1349"><a href="#cb57-1349" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Batch operations instead of performing them one by one</span>
<span id="cb57-1350"><a href="#cb57-1350" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Consider alternatives like collections.deque for frequent insertions/deletions at both ends</span>
<span id="cb57-1351"><a href="#cb57-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1352"><a href="#cb57-1352" aria-hidden="true" tabindex="-1"></a><span class="fu">## 14. Self-Assessment Quiz</span></span>
<span id="cb57-1353"><a href="#cb57-1353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1354"><a href="#cb57-1354" aria-hidden="true" tabindex="-1"></a>Test your understanding of Python lists with these questions:</span>
<span id="cb57-1355"><a href="#cb57-1355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1356"><a href="#cb57-1356" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Which method adds a single element to the end of a list?</span>
<span id="cb57-1357"><a href="#cb57-1357" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`add()`</span></span>
<span id="cb57-1358"><a href="#cb57-1358" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`insert()`</span></span>
<span id="cb57-1359"><a href="#cb57-1359" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`append()`</span></span>
<span id="cb57-1360"><a href="#cb57-1360" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`extend()`</span></span>
<span id="cb57-1361"><a href="#cb57-1361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1362"><a href="#cb57-1362" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>What will be the value of <span class="in">`numbers`</span> after this code runs?</span>
<span id="cb57-1363"><a href="#cb57-1363" aria-hidden="true" tabindex="-1"></a>   <span class="in">```python</span></span>
<span id="cb57-1364"><a href="#cb57-1364" aria-hidden="true" tabindex="-1"></a>   numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb57-1365"><a href="#cb57-1365" aria-hidden="true" tabindex="-1"></a>   numbers[<span class="dv">1</span>:<span class="dv">3</span>] <span class="op">=</span> [<span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb57-1366"><a href="#cb57-1366" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb57-1367"><a href="#cb57-1367" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`[1, 8, 9, 4]`</span></span>
<span id="cb57-1368"><a href="#cb57-1368" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`[1, 8, 9, 3, 4]`</span></span>
<span id="cb57-1369"><a href="#cb57-1369" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`[1, 2, 8, 9, 4]`</span></span>
<span id="cb57-1370"><a href="#cb57-1370" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`[1, 2, 8, 9, 3, 4]`</span></span>
<span id="cb57-1371"><a href="#cb57-1371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1372"><a href="#cb57-1372" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Which is the correct way to create a deep copy of a nested list?</span>
<span id="cb57-1373"><a href="#cb57-1373" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`new_list = old_list[:]`</span></span>
<span id="cb57-1374"><a href="#cb57-1374" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`new_list = old_list.copy()`</span></span>
<span id="cb57-1375"><a href="#cb57-1375" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`new_list = list(old_list)`</span></span>
<span id="cb57-1376"><a href="#cb57-1376" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`import copy; new_list = copy.deepcopy(old_list)`</span></span>
<span id="cb57-1377"><a href="#cb57-1377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1378"><a href="#cb57-1378" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>What happens if you try to access <span class="in">`my_list[10]`</span> when <span class="in">`my_list`</span> has only 5 elements?</span>
<span id="cb57-1379"><a href="#cb57-1379" aria-hidden="true" tabindex="-1"></a>   a) It returns <span class="in">`None`</span></span>
<span id="cb57-1380"><a href="#cb57-1380" aria-hidden="true" tabindex="-1"></a>   b) It raises an <span class="in">`IndexError`</span></span>
<span id="cb57-1381"><a href="#cb57-1381" aria-hidden="true" tabindex="-1"></a>   c) It returns the last element</span>
<span id="cb57-1382"><a href="#cb57-1382" aria-hidden="true" tabindex="-1"></a>   d) It returns an empty list</span>
<span id="cb57-1383"><a href="#cb57-1383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1384"><a href="#cb57-1384" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>What's the output of the following code?</span>
<span id="cb57-1385"><a href="#cb57-1385" aria-hidden="true" tabindex="-1"></a>   <span class="in">```python</span></span>
<span id="cb57-1386"><a href="#cb57-1386" aria-hidden="true" tabindex="-1"></a>   data <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb57-1387"><a href="#cb57-1387" aria-hidden="true" tabindex="-1"></a>   result <span class="op">=</span> data <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb57-1388"><a href="#cb57-1388" aria-hidden="true" tabindex="-1"></a>   <span class="bu">print</span>(result)</span>
<span id="cb57-1389"><a href="#cb57-1389" aria-hidden="true" tabindex="-1"></a>   <span class="in">```</span></span>
<span id="cb57-1390"><a href="#cb57-1390" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`[2, 4, 6]`</span></span>
<span id="cb57-1391"><a href="#cb57-1391" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`[1, 2, 3, 1, 2, 3]`</span></span>
<span id="cb57-1392"><a href="#cb57-1392" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`[1, 1, 2, 2, 3, 3]`</span></span>
<span id="cb57-1393"><a href="#cb57-1393" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`[1, 2, 3, 2]`</span></span>
<span id="cb57-1394"><a href="#cb57-1394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1395"><a href="#cb57-1395" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>Which method sorts a list in-place (modifying the original list)?</span>
<span id="cb57-1396"><a href="#cb57-1396" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`sorted(my_list)`</span></span>
<span id="cb57-1397"><a href="#cb57-1397" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`my_list.sort()`</span></span>
<span id="cb57-1398"><a href="#cb57-1398" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`my_list.sorted()`</span></span>
<span id="cb57-1399"><a href="#cb57-1399" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`sort(my_list)`</span></span>
<span id="cb57-1400"><a href="#cb57-1400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1401"><a href="#cb57-1401" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>What's the difference between <span class="in">`remove()`</span> and <span class="in">`pop()`</span>?</span>
<span id="cb57-1402"><a href="#cb57-1402" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`remove()`</span> deletes by position, <span class="in">`pop()`</span> deletes by value</span>
<span id="cb57-1403"><a href="#cb57-1403" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`remove()`</span> deletes by value, <span class="in">`pop()`</span> deletes by position</span>
<span id="cb57-1404"><a href="#cb57-1404" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`remove()`</span> returns the removed value, <span class="in">`pop()`</span> doesn't</span>
<span id="cb57-1405"><a href="#cb57-1405" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`remove()`</span> can delete multiple occurrences, <span class="in">`pop()`</span> only deletes one</span>
<span id="cb57-1406"><a href="#cb57-1406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1407"><a href="#cb57-1407" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>Which code correctly creates a 3x3 matrix (list of lists) with all zeros?</span>
<span id="cb57-1408"><a href="#cb57-1408" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`[[0] * 3] * 3`</span></span>
<span id="cb57-1409"><a href="#cb57-1409" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`[[0 for _ in range(3)] for _ in range(3)]`</span></span>
<span id="cb57-1410"><a href="#cb57-1410" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`[0, 0, 0, 0, 0, 0, 0, 0, 0]`</span></span>
<span id="cb57-1411"><a href="#cb57-1411" aria-hidden="true" tabindex="-1"></a>   d) Both a and b are correct</span>
<span id="cb57-1412"><a href="#cb57-1412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1413"><a href="#cb57-1413" aria-hidden="true" tabindex="-1"></a><span class="ss">9. </span>What operation should you use to efficiently check if a value exists in a large list?</span>
<span id="cb57-1414"><a href="#cb57-1414" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`value in my_list`</span></span>
<span id="cb57-1415"><a href="#cb57-1415" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`my_list.index(value)`</span></span>
<span id="cb57-1416"><a href="#cb57-1416" aria-hidden="true" tabindex="-1"></a>   c) Convert the list to a set first, then use <span class="in">`value in my_set`</span></span>
<span id="cb57-1417"><a href="#cb57-1417" aria-hidden="true" tabindex="-1"></a>   d) Use a for loop to compare each element</span>
<span id="cb57-1418"><a href="#cb57-1418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1419"><a href="#cb57-1419" aria-hidden="true" tabindex="-1"></a><span class="ss">10. </span>In a chatbot that tracks conversation history with a list, what's the most efficient way to keep only the most recent 50 messages?</span>
<span id="cb57-1420"><a href="#cb57-1420" aria-hidden="true" tabindex="-1"></a>    a) Check the length after each addition and remove the oldest if needed</span>
<span id="cb57-1421"><a href="#cb57-1421" aria-hidden="true" tabindex="-1"></a>    b) Use <span class="in">`collections.deque`</span> with <span class="in">`maxlen=50`</span></span>
<span id="cb57-1422"><a href="#cb57-1422" aria-hidden="true" tabindex="-1"></a>    c) Clear the list and rebuild it whenever it reaches 100 messages</span>
<span id="cb57-1423"><a href="#cb57-1423" aria-hidden="true" tabindex="-1"></a>    d) Slice the list to the most recent 50 elements after each addition</span>
<span id="cb57-1424"><a href="#cb57-1424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1425"><a href="#cb57-1425" aria-hidden="true" tabindex="-1"></a>**Answers:**</span>
<span id="cb57-1426"><a href="#cb57-1426" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>c) <span class="in">`append()`</span> — This adds a single element to the end of the list</span>
<span id="cb57-1427"><a href="#cb57-1427" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>a) <span class="in">`[1, 8, 9, 4]`</span> — Slice assignment replaces the entire slice with the new elements</span>
<span id="cb57-1428"><a href="#cb57-1428" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>d) <span class="in">`import copy; new_list = copy.deepcopy(old_list)`</span> — Only deepcopy creates new copies of nested objects</span>
<span id="cb57-1429"><a href="#cb57-1429" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>b) It raises an <span class="in">`IndexError`</span> — Python raises an error when accessing an index that doesn't exist</span>
<span id="cb57-1430"><a href="#cb57-1430" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>b) <span class="in">`[1, 2, 3, 1, 2, 3]`</span> — The <span class="in">`*`</span> operator repeats the list</span>
<span id="cb57-1431"><a href="#cb57-1431" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>b) <span class="in">`my_list.sort()`</span> — This modifies the original list, while <span class="in">`sorted()`</span> returns a new list</span>
<span id="cb57-1432"><a href="#cb57-1432" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>b) <span class="in">`remove()`</span> deletes by value, <span class="in">`pop()`</span> deletes by position — And <span class="in">`pop()`</span> returns the removed value</span>
<span id="cb57-1433"><a href="#cb57-1433" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>b) <span class="in">`[[0 for _ in range(3)] for _ in range(3)]`</span> — This creates independent inner lists</span>
<span id="cb57-1434"><a href="#cb57-1434" aria-hidden="true" tabindex="-1"></a><span class="ss">9. </span>c) Convert the list to a set first, then use <span class="in">`value in my_set`</span> — Set lookups are O(1)</span>
<span id="cb57-1435"><a href="#cb57-1435" aria-hidden="true" tabindex="-1"></a><span class="ss">10. </span>b) Use <span class="in">`collections.deque`</span> with <span class="in">`maxlen=50`</span> — This automatically removes the oldest items</span>
<span id="cb57-1436"><a href="#cb57-1436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1437"><a href="#cb57-1437" aria-hidden="true" tabindex="-1"></a><span class="fu">## 15. Practical Exercises: Mastering Lists</span></span>
<span id="cb57-1438"><a href="#cb57-1438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1439"><a href="#cb57-1439" aria-hidden="true" tabindex="-1"></a>Practice your list skills with these exercises:</span>
<span id="cb57-1440"><a href="#cb57-1440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1441"><a href="#cb57-1441" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 1: Chatbot Response Selector</span></span>
<span id="cb57-1442"><a href="#cb57-1442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1443"><a href="#cb57-1443" aria-hidden="true" tabindex="-1"></a>Create a function that selects an appropriate chatbot response from categorized response lists:</span>
<span id="cb57-1444"><a href="#cb57-1444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1445"><a href="#cb57-1445" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1446"><a href="#cb57-1446" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> select_response(user_input, response_categories):</span>
<span id="cb57-1447"><a href="#cb57-1447" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb57-1448"><a href="#cb57-1448" aria-hidden="true" tabindex="-1"></a><span class="co">    Select an appropriate response based on user input.</span></span>
<span id="cb57-1449"><a href="#cb57-1449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1450"><a href="#cb57-1450" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb57-1451"><a href="#cb57-1451" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input: The user's message</span></span>
<span id="cb57-1452"><a href="#cb57-1452" aria-hidden="true" tabindex="-1"></a><span class="co">        response_categories: Dictionary mapping categories to response lists</span></span>
<span id="cb57-1453"><a href="#cb57-1453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1454"><a href="#cb57-1454" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb57-1455"><a href="#cb57-1455" aria-hidden="true" tabindex="-1"></a><span class="co">        An appropriate response string</span></span>
<span id="cb57-1456"><a href="#cb57-1456" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb57-1457"><a href="#cb57-1457" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1458"><a href="#cb57-1458" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Check user_input for keywords matching each category</span></span>
<span id="cb57-1459"><a href="#cb57-1459" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. Select a random response from the matching category</span></span>
<span id="cb57-1460"><a href="#cb57-1460" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. If no match, select from the "default" category</span></span>
<span id="cb57-1461"><a href="#cb57-1461" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1462"><a href="#cb57-1462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1463"><a href="#cb57-1463" aria-hidden="true" tabindex="-1"></a>Example usage:</span>
<span id="cb57-1464"><a href="#cb57-1464" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1465"><a href="#cb57-1465" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb57-1466"><a href="#cb57-1466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1467"><a href="#cb57-1467" aria-hidden="true" tabindex="-1"></a>responses <span class="op">=</span> {</span>
<span id="cb57-1468"><a href="#cb57-1468" aria-hidden="true" tabindex="-1"></a>    <span class="st">"greeting"</span>: [<span class="st">"Hello!"</span>, <span class="st">"Hi there!"</span>, <span class="st">"Greetings!"</span>],</span>
<span id="cb57-1469"><a href="#cb57-1469" aria-hidden="true" tabindex="-1"></a>    <span class="st">"farewell"</span>: [<span class="st">"Goodbye!"</span>, <span class="st">"See you later!"</span>, <span class="st">"Bye!"</span>],</span>
<span id="cb57-1470"><a href="#cb57-1470" aria-hidden="true" tabindex="-1"></a>    <span class="st">"thanks"</span>: [<span class="st">"You're welcome!"</span>, <span class="st">"No problem!"</span>, <span class="st">"Anytime!"</span>],</span>
<span id="cb57-1471"><a href="#cb57-1471" aria-hidden="true" tabindex="-1"></a>    <span class="st">"default"</span>: [<span class="st">"I'm not sure what you mean."</span>, <span class="st">"Could you rephrase that?"</span>]</span>
<span id="cb57-1472"><a href="#cb57-1472" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-1473"><a href="#cb57-1473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1474"><a href="#cb57-1474" aria-hidden="true" tabindex="-1"></a><span class="co"># Test with different inputs</span></span>
<span id="cb57-1475"><a href="#cb57-1475" aria-hidden="true" tabindex="-1"></a>test_inputs <span class="op">=</span> [<span class="st">"hello"</span>, <span class="st">"thanks for that"</span>, <span class="st">"goodbye"</span>, <span class="st">"what's the weather?"</span>]</span>
<span id="cb57-1476"><a href="#cb57-1476" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> test <span class="kw">in</span> test_inputs:</span>
<span id="cb57-1477"><a href="#cb57-1477" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"User: </span><span class="sc">{</span>test<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1478"><a href="#cb57-1478" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Bot: </span><span class="sc">{</span>select_response(test, responses)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb57-1479"><a href="#cb57-1479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1480"><a href="#cb57-1480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1481"><a href="#cb57-1481" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 2: Conversation History Manager</span></span>
<span id="cb57-1482"><a href="#cb57-1482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1483"><a href="#cb57-1483" aria-hidden="true" tabindex="-1"></a>Build a class that manages conversation history with various operations:</span>
<span id="cb57-1484"><a href="#cb57-1484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1485"><a href="#cb57-1485" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1486"><a href="#cb57-1486" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ConversationManager:</span>
<span id="cb57-1487"><a href="#cb57-1487" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Manages a chat conversation history."""</span></span>
<span id="cb57-1488"><a href="#cb57-1488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1489"><a href="#cb57-1489" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, max_history<span class="op">=</span><span class="dv">50</span>):</span>
<span id="cb57-1490"><a href="#cb57-1490" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Initialize with empty history and maximum size."""</span></span>
<span id="cb57-1491"><a href="#cb57-1491" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb57-1492"><a href="#cb57-1492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1493"><a href="#cb57-1493" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_message(<span class="va">self</span>, speaker, message):</span>
<span id="cb57-1494"><a href="#cb57-1494" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Add a message to history, maintaining max size."""</span></span>
<span id="cb57-1495"><a href="#cb57-1495" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb57-1496"><a href="#cb57-1496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1497"><a href="#cb57-1497" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_recent(<span class="va">self</span>, count<span class="op">=</span><span class="dv">5</span>):</span>
<span id="cb57-1498"><a href="#cb57-1498" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Get the most recent messages."""</span></span>
<span id="cb57-1499"><a href="#cb57-1499" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb57-1500"><a href="#cb57-1500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1501"><a href="#cb57-1501" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>, keyword):</span>
<span id="cb57-1502"><a href="#cb57-1502" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Search for messages containing the keyword."""</span></span>
<span id="cb57-1503"><a href="#cb57-1503" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb57-1504"><a href="#cb57-1504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1505"><a href="#cb57-1505" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> clear_history(<span class="va">self</span>):</span>
<span id="cb57-1506"><a href="#cb57-1506" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Clear all conversation history."""</span></span>
<span id="cb57-1507"><a href="#cb57-1507" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here</span></span>
<span id="cb57-1508"><a href="#cb57-1508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1509"><a href="#cb57-1509" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_speaker_stats(<span class="va">self</span>):</span>
<span id="cb57-1510"><a href="#cb57-1510" aria-hidden="true" tabindex="-1"></a>        <span class="co">"""Return statistics about each speaker's participation."""</span></span>
<span id="cb57-1511"><a href="#cb57-1511" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your implementation here: count messages per speaker</span></span>
<span id="cb57-1512"><a href="#cb57-1512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1513"><a href="#cb57-1513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1514"><a href="#cb57-1514" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 3: List-based Menu System</span></span>
<span id="cb57-1515"><a href="#cb57-1515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1516"><a href="#cb57-1516" aria-hidden="true" tabindex="-1"></a>Create a menu system for your chatbot using nested lists:</span>
<span id="cb57-1517"><a href="#cb57-1517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1518"><a href="#cb57-1518" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1519"><a href="#cb57-1519" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_menu(menu_items, title<span class="op">=</span><span class="st">"Main Menu"</span>):</span>
<span id="cb57-1520"><a href="#cb57-1520" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb57-1521"><a href="#cb57-1521" aria-hidden="true" tabindex="-1"></a><span class="co">    Display a formatted menu from a list of items.</span></span>
<span id="cb57-1522"><a href="#cb57-1522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1523"><a href="#cb57-1523" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb57-1524"><a href="#cb57-1524" aria-hidden="true" tabindex="-1"></a><span class="co">        menu_items: List of (option, description) tuples</span></span>
<span id="cb57-1525"><a href="#cb57-1525" aria-hidden="true" tabindex="-1"></a><span class="co">        title: Menu title</span></span>
<span id="cb57-1526"><a href="#cb57-1526" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb57-1527"><a href="#cb57-1527" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1528"><a href="#cb57-1528" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Display the title with decorative borders</span></span>
<span id="cb57-1529"><a href="#cb57-1529" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. List each option with its number</span></span>
<span id="cb57-1530"><a href="#cb57-1530" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. Add a prompt at the end</span></span>
<span id="cb57-1531"><a href="#cb57-1531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1532"><a href="#cb57-1532" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_menu_choice(menu_items):</span>
<span id="cb57-1533"><a href="#cb57-1533" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb57-1534"><a href="#cb57-1534" aria-hidden="true" tabindex="-1"></a><span class="co">    Get the user's menu selection.</span></span>
<span id="cb57-1535"><a href="#cb57-1535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1536"><a href="#cb57-1536" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb57-1537"><a href="#cb57-1537" aria-hidden="true" tabindex="-1"></a><span class="co">        menu_items: List of (option, description) tuples</span></span>
<span id="cb57-1538"><a href="#cb57-1538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1539"><a href="#cb57-1539" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb57-1540"><a href="#cb57-1540" aria-hidden="true" tabindex="-1"></a><span class="co">        The selected option string or None if invalid</span></span>
<span id="cb57-1541"><a href="#cb57-1541" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb57-1542"><a href="#cb57-1542" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1543"><a href="#cb57-1543" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 1. Display the menu</span></span>
<span id="cb57-1544"><a href="#cb57-1544" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2. Get and validate user input</span></span>
<span id="cb57-1545"><a href="#cb57-1545" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3. Return the selected option or None</span></span>
<span id="cb57-1546"><a href="#cb57-1546" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1547"><a href="#cb57-1547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1548"><a href="#cb57-1548" aria-hidden="true" tabindex="-1"></a>Example usage:</span>
<span id="cb57-1549"><a href="#cb57-1549" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1550"><a href="#cb57-1550" aria-hidden="true" tabindex="-1"></a><span class="co"># Define nested menu structure</span></span>
<span id="cb57-1551"><a href="#cb57-1551" aria-hidden="true" tabindex="-1"></a>main_menu <span class="op">=</span> [</span>
<span id="cb57-1552"><a href="#cb57-1552" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"chat"</span>, <span class="st">"Start a conversation"</span>),</span>
<span id="cb57-1553"><a href="#cb57-1553" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"settings"</span>, <span class="st">"Configure chatbot settings"</span>),</span>
<span id="cb57-1554"><a href="#cb57-1554" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"history"</span>, <span class="st">"View conversation history"</span>),</span>
<span id="cb57-1555"><a href="#cb57-1555" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"exit"</span>, <span class="st">"Exit the program"</span>)</span>
<span id="cb57-1556"><a href="#cb57-1556" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-1557"><a href="#cb57-1557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1558"><a href="#cb57-1558" aria-hidden="true" tabindex="-1"></a>settings_menu <span class="op">=</span> [</span>
<span id="cb57-1559"><a href="#cb57-1559" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"name"</span>, <span class="st">"Change chatbot name"</span>),</span>
<span id="cb57-1560"><a href="#cb57-1560" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"color"</span>, <span class="st">"Change display colors"</span>),</span>
<span id="cb57-1561"><a href="#cb57-1561" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"history_size"</span>, <span class="st">"Set history size"</span>),</span>
<span id="cb57-1562"><a href="#cb57-1562" aria-hidden="true" tabindex="-1"></a>    (<span class="st">"back"</span>, <span class="st">"Return to main menu"</span>)</span>
<span id="cb57-1563"><a href="#cb57-1563" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-1564"><a href="#cb57-1564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1565"><a href="#cb57-1565" aria-hidden="true" tabindex="-1"></a><span class="co"># Test the menu system</span></span>
<span id="cb57-1566"><a href="#cb57-1566" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb57-1567"><a href="#cb57-1567" aria-hidden="true" tabindex="-1"></a>    choice <span class="op">=</span> get_menu_choice(main_menu)</span>
<span id="cb57-1568"><a href="#cb57-1568" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> choice <span class="op">==</span> <span class="st">"chat"</span>:</span>
<span id="cb57-1569"><a href="#cb57-1569" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Starting conversation..."</span>)</span>
<span id="cb57-1570"><a href="#cb57-1570" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> choice <span class="op">==</span> <span class="st">"settings"</span>:</span>
<span id="cb57-1571"><a href="#cb57-1571" aria-hidden="true" tabindex="-1"></a>        settings_choice <span class="op">=</span> get_menu_choice(settings_menu)</span>
<span id="cb57-1572"><a href="#cb57-1572" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Handle settings choices</span></span>
<span id="cb57-1573"><a href="#cb57-1573" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> choice <span class="op">==</span> <span class="st">"history"</span>:</span>
<span id="cb57-1574"><a href="#cb57-1574" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Displaying history..."</span>)</span>
<span id="cb57-1575"><a href="#cb57-1575" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> choice <span class="op">==</span> <span class="st">"exit"</span>:</span>
<span id="cb57-1576"><a href="#cb57-1576" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Goodbye!"</span>)</span>
<span id="cb57-1577"><a href="#cb57-1577" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb57-1578"><a href="#cb57-1578" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1579"><a href="#cb57-1579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1580"><a href="#cb57-1580" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 4: Smart List Operations</span></span>
<span id="cb57-1581"><a href="#cb57-1581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1582"><a href="#cb57-1582" aria-hidden="true" tabindex="-1"></a>Implement these utility functions for common list operations:</span>
<span id="cb57-1583"><a href="#cb57-1583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1584"><a href="#cb57-1584" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1585"><a href="#cb57-1585" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> find_duplicates(items):</span>
<span id="cb57-1586"><a href="#cb57-1586" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return a list of duplicate items."""</span></span>
<span id="cb57-1587"><a href="#cb57-1587" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1588"><a href="#cb57-1588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1589"><a href="#cb57-1589" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> merge_sorted_lists(list1, list2):</span>
<span id="cb57-1590"><a href="#cb57-1590" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Merge two sorted lists into a new sorted list."""</span></span>
<span id="cb57-1591"><a href="#cb57-1591" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1592"><a href="#cb57-1592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1593"><a href="#cb57-1593" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> rotate_list(items, positions):</span>
<span id="cb57-1594"><a href="#cb57-1594" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Rotate a list by the given number of positions."""</span></span>
<span id="cb57-1595"><a href="#cb57-1595" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1596"><a href="#cb57-1596" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Positive positions: rotate right</span></span>
<span id="cb57-1597"><a href="#cb57-1597" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Negative positions: rotate left</span></span>
<span id="cb57-1598"><a href="#cb57-1598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1599"><a href="#cb57-1599" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> group_by_attribute(objects, attribute):</span>
<span id="cb57-1600"><a href="#cb57-1600" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Group objects by the value of a specific attribute."""</span></span>
<span id="cb57-1601"><a href="#cb57-1601" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Your implementation here</span></span>
<span id="cb57-1602"><a href="#cb57-1602" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return a dictionary mapping attribute values to lists of objects</span></span>
<span id="cb57-1603"><a href="#cb57-1603" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1604"><a href="#cb57-1604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1605"><a href="#cb57-1605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1606"><a href="#cb57-1606" aria-hidden="true" tabindex="-1"></a><span class="fu">## 16. Advanced Topic: Alternative Collection Types</span></span>
<span id="cb57-1607"><a href="#cb57-1607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1608"><a href="#cb57-1608" aria-hidden="true" tabindex="-1"></a>While lists are versatile, Python offers other collection types that may better suit specific needs:</span>
<span id="cb57-1609"><a href="#cb57-1609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1610"><a href="#cb57-1610" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb57-1611"><a href="#cb57-1611" aria-hidden="true" tabindex="-1"></a><span class="co"># collections.deque: Efficient for operations at both ends</span></span>
<span id="cb57-1612"><a href="#cb57-1612" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb57-1613"><a href="#cb57-1613" aria-hidden="true" tabindex="-1"></a>queue <span class="op">=</span> deque([<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>])</span>
<span id="cb57-1614"><a href="#cb57-1614" aria-hidden="true" tabindex="-1"></a>queue.append(<span class="st">"David"</span>)        <span class="co"># Add to right end</span></span>
<span id="cb57-1615"><a href="#cb57-1615" aria-hidden="true" tabindex="-1"></a>queue.appendleft(<span class="st">"Eve"</span>)      <span class="co"># Add to left end</span></span>
<span id="cb57-1616"><a href="#cb57-1616" aria-hidden="true" tabindex="-1"></a>first <span class="op">=</span> queue.popleft()      <span class="co"># Remove from left</span></span>
<span id="cb57-1617"><a href="#cb57-1617" aria-hidden="true" tabindex="-1"></a>last <span class="op">=</span> queue.pop()           <span class="co"># Remove from right</span></span>
<span id="cb57-1618"><a href="#cb57-1618" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(queue)                 <span class="co"># deque(['Alice', 'Bob', 'Charlie'])</span></span>
<span id="cb57-1619"><a href="#cb57-1619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1620"><a href="#cb57-1620" aria-hidden="true" tabindex="-1"></a><span class="co"># tuple: Immutable sequence</span></span>
<span id="cb57-1621"><a href="#cb57-1621" aria-hidden="true" tabindex="-1"></a>coordinates <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">20</span>)       <span class="co"># Can't be modified after creation</span></span>
<span id="cb57-1622"><a href="#cb57-1622" aria-hidden="true" tabindex="-1"></a>single_item <span class="op">=</span> (<span class="dv">10</span>,)          <span class="co"># Note the comma for single-item tuples</span></span>
<span id="cb57-1623"><a href="#cb57-1623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1624"><a href="#cb57-1624" aria-hidden="true" tabindex="-1"></a><span class="co"># set: Unordered collection with no duplicates</span></span>
<span id="cb57-1625"><a href="#cb57-1625" aria-hidden="true" tabindex="-1"></a>unique_numbers <span class="op">=</span> {<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>}</span>
<span id="cb57-1626"><a href="#cb57-1626" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(unique_numbers)        <span class="co"># {1, 2, 3}</span></span>
<span id="cb57-1627"><a href="#cb57-1627" aria-hidden="true" tabindex="-1"></a>unique_numbers.add(<span class="dv">4</span>)        <span class="co"># Add an element</span></span>
<span id="cb57-1628"><a href="#cb57-1628" aria-hidden="true" tabindex="-1"></a>unique_numbers.remove(<span class="dv">2</span>)     <span class="co"># Remove an element</span></span>
<span id="cb57-1629"><a href="#cb57-1629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1630"><a href="#cb57-1630" aria-hidden="true" tabindex="-1"></a><span class="co"># collections.Counter: Count occurrences</span></span>
<span id="cb57-1631"><a href="#cb57-1631" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb57-1632"><a href="#cb57-1632" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"apple"</span>, <span class="st">"orange"</span>, <span class="st">"banana"</span>, <span class="st">"apple"</span>]</span>
<span id="cb57-1633"><a href="#cb57-1633" aria-hidden="true" tabindex="-1"></a>word_counts <span class="op">=</span> Counter(words)</span>
<span id="cb57-1634"><a href="#cb57-1634" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(word_counts)           <span class="co"># Counter({'apple': 3, 'banana': 2, 'orange': 1})</span></span>
<span id="cb57-1635"><a href="#cb57-1635" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(word_counts.most_common(<span class="dv">2</span>))  <span class="co"># [('apple', 3), ('banana', 2)]</span></span>
<span id="cb57-1636"><a href="#cb57-1636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1637"><a href="#cb57-1637" aria-hidden="true" tabindex="-1"></a><span class="co"># array.array: Memory-efficient arrays of numeric values</span></span>
<span id="cb57-1638"><a href="#cb57-1638" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> array <span class="im">import</span> array</span>
<span id="cb57-1639"><a href="#cb57-1639" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> array(<span class="st">'i'</span>, [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])  <span class="co"># Array of integers</span></span>
<span id="cb57-1640"><a href="#cb57-1640" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb57-1641"><a href="#cb57-1641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1642"><a href="#cb57-1642" aria-hidden="true" tabindex="-1"></a>Consider these alternatives when:</span>
<span id="cb57-1643"><a href="#cb57-1643" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>You need efficient operations at both ends of the collection (deque)</span>
<span id="cb57-1644"><a href="#cb57-1644" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Your collection won't change after creation (tuple)</span>
<span id="cb57-1645"><a href="#cb57-1645" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>You need to ensure all elements are unique (set)</span>
<span id="cb57-1646"><a href="#cb57-1646" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>You need to count occurrences of elements (Counter)</span>
<span id="cb57-1647"><a href="#cb57-1647" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>You need memory-efficient storage of numeric data (array)</span>
<span id="cb57-1648"><a href="#cb57-1648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1649"><a href="#cb57-1649" aria-hidden="true" tabindex="-1"></a><span class="fu">## 17. Cross-References</span></span>
<span id="cb57-1650"><a href="#cb57-1650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1651"><a href="#cb57-1651" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Previous Chapter**: <span class="co">[</span><span class="ot">Making Decisions</span><span class="co">](10_making_decisions.qmd)</span> — Learn how to direct your program's flow</span>
<span id="cb57-1652"><a href="#cb57-1652" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Next Chapter**: <span class="co">[</span><span class="ot">Going Loopy</span><span class="co">](12_going_loopy.qmd)</span> — Repeat operations with different kinds of loops</span>
<span id="cb57-1653"><a href="#cb57-1653" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Related Topic**: <span class="co">[</span><span class="ot">Strings</span><span class="co">](13_strings.qmd)</span> — Text manipulation techniques (strings are similar to lists but immutable)</span>
<span id="cb57-1654"><a href="#cb57-1654" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Related Topic**: <span class="co">[</span><span class="ot">Dictionaries</span><span class="co">](14_dictionaries.qmd)</span> — Key-value mapping for more complex data organization</span>
<span id="cb57-1655"><a href="#cb57-1655" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Project Application**: <span class="co">[</span><span class="ot">Chatbot Project</span><span class="co">](chatbot_project.qmd)</span> — See how lists evolve through the chatbot development</span>
<span id="cb57-1656"><a href="#cb57-1656" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Advanced Topic**: <span class="co">[</span><span class="ot">Errors and Exceptions</span><span class="co">](16_errors_and_exceptions.qmd)</span> — Handle errors when working with lists</span>
<span id="cb57-1657"><a href="#cb57-1657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1658"><a href="#cb57-1658" aria-hidden="true" tabindex="-1"></a><span class="fu">## 18. Summary: Putting Lists to Work</span></span>
<span id="cb57-1659"><a href="#cb57-1659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1660"><a href="#cb57-1660" aria-hidden="true" tabindex="-1"></a>In this chapter, we've explored Python lists—one of the most versatile and frequently used data structures in Python programming. Lists allow us to organize collections of related data, whether it's a series of messages in a conversation, user preferences, or any group of values that belong together.</span>
<span id="cb57-1661"><a href="#cb57-1661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1662"><a href="#cb57-1662" aria-hidden="true" tabindex="-1"></a>Key concepts covered include:</span>
<span id="cb57-1663"><a href="#cb57-1663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1664"><a href="#cb57-1664" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Creating and initializing lists** using various techniques</span>
<span id="cb57-1665"><a href="#cb57-1665" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Accessing and modifying list elements** with indexing and slicing</span>
<span id="cb57-1666"><a href="#cb57-1666" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Adding and removing elements** using methods like <span class="in">`append()`</span>, <span class="in">`extend()`</span>, <span class="in">`insert()`</span>, <span class="in">`remove()`</span>, and <span class="in">`pop()`</span></span>
<span id="cb57-1667"><a href="#cb57-1667" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Sorting and organizing list data** with <span class="in">`sort()`</span>, <span class="in">`reverse()`</span>, and other operations</span>
<span id="cb57-1668"><a href="#cb57-1668" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Working with nested lists** to create multi-dimensional data structures</span>
<span id="cb57-1669"><a href="#cb57-1669" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Using lists to track conversation history** in our chatbot project</span>
<span id="cb57-1670"><a href="#cb57-1670" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Common mistakes and their solutions** when working with lists</span>
<span id="cb57-1671"><a href="#cb57-1671" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Performance considerations** for efficient list operations</span>
<span id="cb57-1672"><a href="#cb57-1672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1673"><a href="#cb57-1673" aria-hidden="true" tabindex="-1"></a>For our chatbot project, lists have enabled a significant advancement: the ability to remember. By tracking conversation history in a list, our chatbot can now recall previous messages, search for keywords, and even analyze patterns in the conversation. This memory capability is fundamental to creating a more engaging and contextually aware chatbot.</span>
<span id="cb57-1674"><a href="#cb57-1674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1675"><a href="#cb57-1675" aria-hidden="true" tabindex="-1"></a>As we move forward in our Python journey, lists will continue to be a cornerstone data structure. In the next chapter, we'll learn about loops, which pair naturally with lists to process collections of data efficiently.</span>
<span id="cb57-1676"><a href="#cb57-1676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-1677"><a href="#cb57-1677" aria-hidden="true" tabindex="-1"></a>The main takeaway: Lists are Python's workhorses for handling collections of items. Mastering lists gives you the power to organize, manipulate, and process related data in clean, efficient ways—an essential skill whether you're building a chatbot, analyzing data, or creating any application that needs to work with multiple values as a unified collection.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>