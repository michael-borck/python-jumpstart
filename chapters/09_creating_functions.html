<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Python Jumpstart: Coding Fundamentals for the AI Era - 10&nbsp; Function Factory: Crafting Your Own Reusable Code Magic</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/10_making_decisions.html" rel="next">
<link href="../chapters/08_using_functions.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/08_using_functions.html">Functions and Control Flow</a></li><li class="breadcrumb-item"><a href="../chapters/09_creating_functions.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Function Factory: Crafting Your Own Reusable Code Magic</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Python Jumpstart: Coding Fundamentals for the AI Era</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/michael-borck/python-jumpstart" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../Python-Jumpstart--Coding-Fundamentals-for-the-AI-Era.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../Python-Jumpstart--Coding-Fundamentals-for-the-AI-Era.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Python Jumpstart: Coding Fundamentals for the AI Era</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Core Python Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/01_python_in_the_age_of_ai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Python in the Age of AI: Coding with Digital Collaborators</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/02_basic_python_syntax.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Python Language Syntax: Your Coding Roadmap</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/03_values.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Values: The Building Blocks of Python Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/04_variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Variables: Your Data’s Home in Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/05_output.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Output Odyssey: Making Your Code Speak to the World</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/06_input.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Input Inception: Getting Data from Users into Your Programs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/07_operators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Operator’s Manual: Mastering Python’s Mathematical and Logical Tools</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Functions and Control Flow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/08_using_functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Function Fiesta: Using Python’s Pre-built Code Blocks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/09_creating_functions.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Function Factory: Crafting Your Own Reusable Code Magic</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/10_making_decisions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Decision Director: Guiding Your Program’s Path with If Statements</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Data Structures and Iteration</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/11_lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">List Laboratory: Organizing Data in Python’s Most Versatile Container</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/12_going_loopy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Going Loopy: Repeating Code Without Losing Your Mind</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/13_strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">String Theory: Manipulating Text in the Python Universe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/14_dictionaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Dictionary Detectives: Mastering Python’s Key-Value Pairs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Working with Data and Files</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/15_files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">File Frontier: Reading and Writing Data to Permanent Storage</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Code Quality and Organization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/16_errors_and_exceptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Error Embassy: Understanding and Handling Exceptions with Grace</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/17_debugging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Debugging Detectives: Finding and Fixing Code Mysteries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/18_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Test Kitchen: Ensuring Your Code Works as Intended</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/19_modules_and_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Module Mastery: Organizing Your Code for Growth and Reuse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/20_orientating_your_objects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Orientating Your Objects: Building Digital Models of Real-World Things</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Practical Python Usage</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/21_how_to_run_python_code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Python Pilot: How to Execute Your Code in Different Environments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/22_how_to_install_python_testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Installation Station: Setting Up Python and Required Libraries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/23_getting_help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Help Headquarters: Finding Answers When You Get Stuck</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Python in the AI Era</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/24_ai_programming_assistants.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">AI Programming Assistants: Coding with Digital Colleagues</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/25_python_ai_integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">AI Integrator: Connecting Python Applications to AI Services</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/26_ai_assistance_tips.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">AI Assistance Tips: Maximizing Your Machine Learning Mentors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/27_intentional_prompting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Intentional Prompting: Speaking the Language of AI Assistants</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text">Project: Build Your Own AI Chatbot</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chatbot_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Chatbot Construction Site: Building Your AI-Enhanced Python Conversation Partner</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#chapter-9-creating-functions---build-your-own-python-tools" id="toc-chapter-9-creating-functions---build-your-own-python-tools" class="nav-link active" data-scroll-target="#chapter-9-creating-functions---build-your-own-python-tools"><span class="header-section-number">11</span> Chapter 9: Creating Functions - Build Your Own Python Tools</a>
  <ul class="collapse">
  <li><a href="#chapter-outline" id="toc-chapter-outline" class="nav-link" data-scroll-target="#chapter-outline"><span class="header-section-number">11.1</span> Chapter Outline</a></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives"><span class="header-section-number">11.2</span> Learning Objectives</a></li>
  <li><a href="#introduction-function-creation-as-a-superpower" id="toc-introduction-function-creation-as-a-superpower" class="nav-link" data-scroll-target="#introduction-function-creation-as-a-superpower"><span class="header-section-number">11.3</span> 1. Introduction: Function Creation as a Superpower</a></li>
  <li><a href="#function-definition-the-building-blocks" id="toc-function-definition-the-building-blocks" class="nav-link" data-scroll-target="#function-definition-the-building-blocks"><span class="header-section-number">11.4</span> 2. Function Definition: The Building Blocks</a>
  <ul class="collapse">
  <li><a href="#function-naming-best-practices" id="toc-function-naming-best-practices" class="nav-link" data-scroll-target="#function-naming-best-practices"><span class="header-section-number">11.4.1</span> Function Naming Best Practices</a></li>
  </ul></li>
  <li><a href="#parameters-and-arguments-making-functions-flexible" id="toc-parameters-and-arguments-making-functions-flexible" class="nav-link" data-scroll-target="#parameters-and-arguments-making-functions-flexible"><span class="header-section-number">11.5</span> 3. Parameters and Arguments: Making Functions Flexible</a>
  <ul class="collapse">
  <li><a href="#required-parameters" id="toc-required-parameters" class="nav-link" data-scroll-target="#required-parameters"><span class="header-section-number">11.5.1</span> Required Parameters</a></li>
  <li><a href="#multiple-parameters" id="toc-multiple-parameters" class="nav-link" data-scroll-target="#multiple-parameters"><span class="header-section-number">11.5.2</span> Multiple Parameters</a></li>
  <li><a href="#default-parameter-values" id="toc-default-parameter-values" class="nav-link" data-scroll-target="#default-parameter-values"><span class="header-section-number">11.5.3</span> Default Parameter Values</a></li>
  <li><a href="#parameter-types-and-docstrings" id="toc-parameter-types-and-docstrings" class="nav-link" data-scroll-target="#parameter-types-and-docstrings"><span class="header-section-number">11.5.4</span> Parameter Types and Docstrings</a></li>
  </ul></li>
  <li><a href="#return-values-getting-results-from-functions" id="toc-return-values-getting-results-from-functions" class="nav-link" data-scroll-target="#return-values-getting-results-from-functions"><span class="header-section-number">11.6</span> 4. Return Values: Getting Results from Functions</a>
  <ul class="collapse">
  <li><a href="#returning-multiple-values" id="toc-returning-multiple-values" class="nav-link" data-scroll-target="#returning-multiple-values"><span class="header-section-number">11.6.1</span> Returning Multiple Values</a></li>
  <li><a href="#no-return-statement" id="toc-no-return-statement" class="nav-link" data-scroll-target="#no-return-statement"><span class="header-section-number">11.6.2</span> No Return Statement</a></li>
  <li><a href="#return-early-for-validation" id="toc-return-early-for-validation" class="nav-link" data-scroll-target="#return-early-for-validation"><span class="header-section-number">11.6.3</span> Return Early for Validation</a></li>
  </ul></li>
  <li><a href="#variable-scope-understanding-where-variables-live" id="toc-variable-scope-understanding-where-variables-live" class="nav-link" data-scroll-target="#variable-scope-understanding-where-variables-live"><span class="header-section-number">11.7</span> 5. Variable Scope: Understanding Where Variables Live</a>
  <ul class="collapse">
  <li><a href="#local-vs.-global-scope" id="toc-local-vs.-global-scope" class="nav-link" data-scroll-target="#local-vs.-global-scope"><span class="header-section-number">11.7.1</span> Local vs.&nbsp;Global Scope</a></li>
  <li><a href="#variable-lifetime" id="toc-variable-lifetime" class="nav-link" data-scroll-target="#variable-lifetime"><span class="header-section-number">11.7.2</span> Variable Lifetime</a></li>
  </ul></li>
  <li><a href="#designing-effective-functions" id="toc-designing-effective-functions" class="nav-link" data-scroll-target="#designing-effective-functions"><span class="header-section-number">11.8</span> 6. Designing Effective Functions</a>
  <ul class="collapse">
  <li><a href="#single-responsibility-principle" id="toc-single-responsibility-principle" class="nav-link" data-scroll-target="#single-responsibility-principle"><span class="header-section-number">11.8.1</span> 1. Single Responsibility Principle</a></li>
  <li><a href="#keep-functions-short-and-focused" id="toc-keep-functions-short-and-focused" class="nav-link" data-scroll-target="#keep-functions-short-and-focused"><span class="header-section-number">11.8.2</span> 2. Keep Functions Short and Focused</a></li>
  <li><a href="#use-descriptive-names-and-documentation" id="toc-use-descriptive-names-and-documentation" class="nav-link" data-scroll-target="#use-descriptive-names-and-documentation"><span class="header-section-number">11.8.3</span> 3. Use Descriptive Names and Documentation</a></li>
  <li><a href="#minimize-side-effects" id="toc-minimize-side-effects" class="nav-link" data-scroll-target="#minimize-side-effects"><span class="header-section-number">11.8.4</span> 4. Minimize Side Effects</a></li>
  <li><a href="#error-handling" id="toc-error-handling" class="nav-link" data-scroll-target="#error-handling"><span class="header-section-number">11.8.5</span> 5. Error Handling</a></li>
  </ul></li>
  <li><a href="#project-corner-structuring-your-chatbot-with-functions" id="toc-project-corner-structuring-your-chatbot-with-functions" class="nav-link" data-scroll-target="#project-corner-structuring-your-chatbot-with-functions"><span class="header-section-number">11.9</span> 7. Project Corner: Structuring Your Chatbot with Functions</a>
  <ul class="collapse">
  <li><a href="#basic-function-based-chatbot" id="toc-basic-function-based-chatbot" class="nav-link" data-scroll-target="#basic-function-based-chatbot"><span class="header-section-number">11.9.1</span> Basic Function-Based Chatbot</a></li>
  <li><a href="#enhanced-modular-chatbot" id="toc-enhanced-modular-chatbot" class="nav-link" data-scroll-target="#enhanced-modular-chatbot"><span class="header-section-number">11.9.2</span> Enhanced Modular Chatbot</a></li>
  <li><a href="#adding-new-capabilities-with-functions" id="toc-adding-new-capabilities-with-functions" class="nav-link" data-scroll-target="#adding-new-capabilities-with-functions"><span class="header-section-number">11.9.3</span> Adding New Capabilities with Functions</a></li>
  </ul></li>
  <li><a href="#ai-collaboration-corner-designing-better-functions" id="toc-ai-collaboration-corner-designing-better-functions" class="nav-link" data-scroll-target="#ai-collaboration-corner-designing-better-functions"><span class="header-section-number">11.10</span> 8. AI Collaboration Corner: Designing Better Functions</a>
  <ul class="collapse">
  <li><a href="#before-vague-prompting" id="toc-before-vague-prompting" class="nav-link" data-scroll-target="#before-vague-prompting"><span class="header-section-number">11.10.1</span> Before: Vague Prompting</a></li>
  <li><a href="#after-detailed-specific-prompting" id="toc-after-detailed-specific-prompting" class="nav-link" data-scroll-target="#after-detailed-specific-prompting"><span class="header-section-number">11.10.2</span> After: Detailed, Specific Prompting</a></li>
  <li><a href="#how-to-craft-effective-prompts-for-function-design" id="toc-how-to-craft-effective-prompts-for-function-design" class="nav-link" data-scroll-target="#how-to-craft-effective-prompts-for-function-design"><span class="header-section-number">11.10.3</span> How to Craft Effective Prompts for Function Design</a></li>
  </ul></li>
  <li><a href="#common-function-design-pitfalls-to-avoid" id="toc-common-function-design-pitfalls-to-avoid" class="nav-link" data-scroll-target="#common-function-design-pitfalls-to-avoid"><span class="header-section-number">11.11</span> 9. Common Function Design Pitfalls to Avoid</a>
  <ul class="collapse">
  <li><a href="#too-many-parameters" id="toc-too-many-parameters" class="nav-link" data-scroll-target="#too-many-parameters"><span class="header-section-number">11.11.1</span> Too Many Parameters</a></li>
  <li><a href="#side-effects-without-documentation" id="toc-side-effects-without-documentation" class="nav-link" data-scroll-target="#side-effects-without-documentation"><span class="header-section-number">11.11.2</span> Side Effects Without Documentation</a></li>
  <li><a href="#not-handling-edge-cases" id="toc-not-handling-edge-cases" class="nav-link" data-scroll-target="#not-handling-edge-cases"><span class="header-section-number">11.11.3</span> Not Handling Edge Cases</a></li>
  <li><a href="#function-naming-confusion" id="toc-function-naming-confusion" class="nav-link" data-scroll-target="#function-naming-confusion"><span class="header-section-number">11.11.4</span> Function Naming Confusion</a></li>
  <li><a href="#inconsistent-return-types" id="toc-inconsistent-return-types" class="nav-link" data-scroll-target="#inconsistent-return-types"><span class="header-section-number">11.11.5</span> Inconsistent Return Types</a></li>
  <li><a href="#doing-too-much-in-one-function" id="toc-doing-too-much-in-one-function" class="nav-link" data-scroll-target="#doing-too-much-in-one-function"><span class="header-section-number">11.11.6</span> Doing Too Much in One Function</a></li>
  </ul></li>
  <li><a href="#real-world-function-examples" id="toc-real-world-function-examples" class="nav-link" data-scroll-target="#real-world-function-examples"><span class="header-section-number">11.12</span> 10. Real-World Function Examples</a>
  <ul class="collapse">
  <li><a href="#data-processing-function" id="toc-data-processing-function" class="nav-link" data-scroll-target="#data-processing-function"><span class="header-section-number">11.12.1</span> Data Processing Function</a></li>
  <li><a href="#web-application-function" id="toc-web-application-function" class="nav-link" data-scroll-target="#web-application-function"><span class="header-section-number">11.12.2</span> Web Application Function</a></li>
  <li><a href="#game-development-function" id="toc-game-development-function" class="nav-link" data-scroll-target="#game-development-function"><span class="header-section-number">11.12.3</span> Game Development Function</a></li>
  </ul></li>
  <li><a href="#self-assessment-quiz" id="toc-self-assessment-quiz" class="nav-link" data-scroll-target="#self-assessment-quiz"><span class="header-section-number">11.13</span> 11. Self-Assessment Quiz</a></li>
  <li><a href="#try-it-yourself-function-design-exercises" id="toc-try-it-yourself-function-design-exercises" class="nav-link" data-scroll-target="#try-it-yourself-function-design-exercises"><span class="header-section-number">11.14</span> 12. Try It Yourself: Function Design Exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-1-basic-function-creation" id="toc-exercise-1-basic-function-creation" class="nav-link" data-scroll-target="#exercise-1-basic-function-creation"><span class="header-section-number">11.14.1</span> Exercise 1: Basic Function Creation</a></li>
  <li><a href="#exercise-2-text-analysis-functions" id="toc-exercise-2-text-analysis-functions" class="nav-link" data-scroll-target="#exercise-2-text-analysis-functions"><span class="header-section-number">11.14.2</span> Exercise 2: Text Analysis Functions</a></li>
  <li><a href="#exercise-3-chatbot-extension" id="toc-exercise-3-chatbot-extension" class="nav-link" data-scroll-target="#exercise-3-chatbot-extension"><span class="header-section-number">11.14.3</span> Exercise 3: Chatbot Extension</a></li>
  <li><a href="#exercise-4-game-score-calculator" id="toc-exercise-4-game-score-calculator" class="nav-link" data-scroll-target="#exercise-4-game-score-calculator"><span class="header-section-number">11.14.4</span> Exercise 4: Game Score Calculator</a></li>
  <li><a href="#exercise-5-function-library" id="toc-exercise-5-function-library" class="nav-link" data-scroll-target="#exercise-5-function-library"><span class="header-section-number">11.14.5</span> Exercise 5: Function Library</a></li>
  </ul></li>
  <li><a href="#cross-references" id="toc-cross-references" class="nav-link" data-scroll-target="#cross-references"><span class="header-section-number">11.15</span> 13. Cross-References</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">11.16</span> 14. Summary</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/michael-borck/python-jumpstart/edit/main/chapters/09_creating_functions.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/michael-borck/python-jumpstart/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Function Factory: Crafting Your Own Reusable Code Magic</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="chapter-9-creating-functions---build-your-own-python-tools" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span> Chapter 9: Creating Functions - Build Your Own Python Tools</h1>
<section id="chapter-outline" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="chapter-outline"><span class="header-section-number">11.1</span> Chapter Outline</h2>
<ul>
<li>Understanding the importance of custom functions</li>
<li>The function definition syntax and best practices</li>
<li>Working with parameters and arguments effectively</li>
<li>Return values and how to use them</li>
<li>Understanding variable scope and lifetime</li>
<li>Designing functions for reusability and maintainability</li>
<li>Using functions to structure your chatbot project</li>
</ul>
</section>
<section id="learning-objectives" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">11.2</span> Learning Objectives</h2>
<p>By the end of this chapter, you will be able to: - Create well-designed Python functions using the <code>def</code> keyword - Implement functions with flexible parameter structures - Return and process values from functions - Understand and work within function scope rules - Apply best practices for function design - Structure your chatbot project using custom functions - Debug and refine your functions</p>
</section>
<section id="introduction-function-creation-as-a-superpower" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="introduction-function-creation-as-a-superpower"><span class="header-section-number">11.3</span> 1. Introduction: Function Creation as a Superpower</h2>
<p>In the previous chapter, we learned how to use built-in and library functions. Now, we’ll unlock one of Python’s most powerful features: the ability to create your own custom functions. This is where programming truly becomes creative – you’re no longer limited to what others have built; you can craft tools perfectly tailored to your specific needs.</p>
<p>Creating functions is like gaining a superpower that allows you to:</p>
<ul>
<li><strong>Organize</strong> your code into logical, self-contained units</li>
<li><strong>Reuse</strong> code without copying and pasting (DRY - Don’t Repeat Yourself)</li>
<li><strong>Abstract</strong> complex operations behind simple interfaces</li>
<li><strong>Focus</strong> on one problem at a time</li>
<li><strong>Test</strong> discrete pieces of functionality</li>
<li><strong>Collaborate</strong> by defining clear boundaries in code</li>
</ul>
<blockquote class="blockquote">
<p><strong>Key Concept</strong>: Functions transform programming from writing sequential instructions to designing components that work together. This “modular” approach is how all sophisticated software is built, from web browsers to AI systems.</p>
</blockquote>
<p>For our chatbot project, custom functions will take us from a linear script to a well-structured program that’s easier to understand, debug, and extend. Creating functions is the first step toward proper software architecture.</p>
</section>
<section id="function-definition-the-building-blocks" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="function-definition-the-building-blocks"><span class="header-section-number">11.4</span> 2. Function Definition: The Building Blocks</h2>
<p>A function in Python consists of a <strong>header</strong> (the definition line) and a <strong>body</strong> (the indented code block that follows):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function_name(parameters):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Docstring: explains what the function does."""</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Function body - indented code</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># that runs when the function is called</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result  <span class="co"># Optional return statement</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s break down each component:</p>
<ul>
<li><code>def</code>: The keyword that tells Python you’re defining a function</li>
<li><code>function_name</code>: A name you choose (following variable naming conventions)</li>
<li><code>parameters</code>: Optional inputs the function can accept (in parentheses)</li>
<li><code>docstring</code>: Optional (but recommended) documentation in triple quotes</li>
<li>Function body: The indented code block that executes when called</li>
<li><code>return</code>: Optional statement to send a value back to the caller</li>
</ul>
<p>Here’s a simple example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet():</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Display a simple greeting."""</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hello, world!"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calling the function</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Output: Hello, world!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Every time you call the function, its code executes:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Hello, world!</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Hello, world!</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Hello, world!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="function-naming-best-practices" class="level3" data-number="11.4.1">
<h3 data-number="11.4.1" class="anchored" data-anchor-id="function-naming-best-practices"><span class="header-section-number">11.4.1</span> Function Naming Best Practices</h3>
<p>Good function names are:</p>
<ul>
<li><strong>Descriptive</strong> of what the function does</li>
<li><strong>Verb-focused</strong> since functions perform actions (e.g., <code>calculate_total</code>, not just <code>total</code>)</li>
<li><strong>Lowercase</strong> with underscores between words (snake_case)</li>
<li><strong>Consistent</strong> in style throughout your program</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Good function names</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_area(width, height):</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width <span class="op">*</span> height</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_email(email):</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_choice():</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">input</span>(<span class="st">"Enter your choice: "</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Less helpful function names</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calc(w, h):  <span class="co"># Too vague and abbreviated</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> w <span class="op">*</span> h</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function1():  <span class="co"># Says nothing about purpose</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hello"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="parameters-and-arguments-making-functions-flexible" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="parameters-and-arguments-making-functions-flexible"><span class="header-section-number">11.5</span> 3. Parameters and Arguments: Making Functions Flexible</h2>
<p>Parameters make functions adaptable by allowing them to work with different inputs each time they’re called:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Greet a person by name."""</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calling with different arguments</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Alice"</span>)  <span class="co"># Output: Hello, Alice!</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Bob"</span>)    <span class="co"># Output: Hello, Bob!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="required-parameters" class="level3" data-number="11.5.1">
<h3 data-number="11.5.1" class="anchored" data-anchor-id="required-parameters"><span class="header-section-number">11.5.1</span> Required Parameters</h3>
<p>In the example above, <code>name</code> is a required parameter. If you don’t provide it, Python raises an error:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Error: greet() missing 1 required positional argument: 'name'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="multiple-parameters" class="level3" data-number="11.5.2">
<h3 data-number="11.5.2" class="anchored" data-anchor-id="multiple-parameters"><span class="header-section-number">11.5.2</span> Multiple Parameters</h3>
<p>Functions can accept multiple parameters:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_info(name, age, location):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Display a person's information."""</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Name: </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Age: </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Location: </span><span class="sc">{</span>location<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Call with multiple arguments</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">"Charlie"</span>, <span class="dv">25</span>, <span class="st">"San Francisco"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When calling functions with multiple parameters, you must provide them in the correct order, or use named arguments:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional arguments (order matters)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">"Charlie"</span>, <span class="dv">25</span>, <span class="st">"San Francisco"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Named arguments (order doesn't matter)</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>display_info(location<span class="op">=</span><span class="st">"San Francisco"</span>, name<span class="op">=</span><span class="st">"Charlie"</span>, age<span class="op">=</span><span class="dv">25</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Mix of positional and named (positional must come first)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">"Charlie"</span>, location<span class="op">=</span><span class="st">"San Francisco"</span>, age<span class="op">=</span><span class="dv">25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="default-parameter-values" class="level3" data-number="11.5.3">
<h3 data-number="11.5.3" class="anchored" data-anchor-id="default-parameter-values"><span class="header-section-number">11.5.3</span> Default Parameter Values</h3>
<p>You can make parameters optional by providing default values:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name, greeting<span class="op">=</span><span class="st">"Hello"</span>):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Greet a person with a customizable greeting."""</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>greeting<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the default greeting</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Diana"</span>)  <span class="co"># Output: Hello, Diana!</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Overriding the default</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Edward"</span>, <span class="st">"Good morning"</span>)  <span class="co"># Output: Good morning, Edward!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Default parameters must come after non-default parameters:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct: default parameter after required parameter</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function(required, optional<span class="op">=</span><span class="st">"default"</span>):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Incorrect: default parameter before required parameter</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function(optional<span class="op">=</span><span class="st">"default"</span>, required):  <span class="co"># SyntaxError</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="parameter-types-and-docstrings" class="level3" data-number="11.5.4">
<h3 data-number="11.5.4" class="anchored" data-anchor-id="parameter-types-and-docstrings"><span class="header-section-number">11.5.4</span> Parameter Types and Docstrings</h3>
<p>Good practice includes documenting the expected types and purpose of parameters:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_total(price, quantity, tax_rate<span class="op">=</span><span class="fl">0.08</span>):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate the total cost including tax.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">        price (float): The price per item</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">        quantity (int): The number of items</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">        tax_rate (float, optional): The tax rate as a decimal. Defaults to 0.08.</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">        float: The total cost including tax</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    subtotal <span class="op">=</span> price <span class="op">*</span> quantity</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    tax <span class="op">=</span> subtotal <span class="op">*</span> tax_rate</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> subtotal <span class="op">+</span> tax</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This documentation helps other developers (and future you) understand how to use the function correctly.</p>
</section>
</section>
<section id="return-values-getting-results-from-functions" class="level2" data-number="11.6">
<h2 data-number="11.6" class="anchored" data-anchor-id="return-values-getting-results-from-functions"><span class="header-section-number">11.6</span> 4. Return Values: Getting Results from Functions</h2>
<p>Functions can send data back to the caller using the <code>return</code> statement:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Add two numbers and return the result."""</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the return value</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>sum_result <span class="op">=</span> add(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sum_result)  <span class="co"># Output: 8</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the return value directly in an expression</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> add(<span class="dv">5</span>, <span class="dv">3</span>) <span class="op">+</span> add(<span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total)  <span class="co"># Output: 11</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>return</code> statement immediately exits the function and sends the specified value back:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> absolute_value(number):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return the absolute value of a number."""</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> number <span class="op">&gt;=</span> <span class="dv">0</span>:</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> number  <span class="co"># Function ends here if number is positive</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This code only runs if the number is negative</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">-</span>number</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(absolute_value(<span class="dv">5</span>))    <span class="co"># Output: 5</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(absolute_value(<span class="op">-</span><span class="dv">10</span>))  <span class="co"># Output: 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="returning-multiple-values" class="level3" data-number="11.6.1">
<h3 data-number="11.6.1" class="anchored" data-anchor-id="returning-multiple-values"><span class="header-section-number">11.6.1</span> Returning Multiple Values</h3>
<p>Python functions can return multiple values using tuples:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_dimensions():</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return width and height."""</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    width <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width, height  <span class="co"># Returns a tuple (800, 600)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Unpacking the returned tuple</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>screen_width, screen_height <span class="op">=</span> get_dimensions()</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Width: </span><span class="sc">{</span>screen_width<span class="sc">}</span><span class="ss">, Height: </span><span class="sc">{</span>screen_height<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="no-return-statement" class="level3" data-number="11.6.2">
<h3 data-number="11.6.2" class="anchored" data-anchor-id="no-return-statement"><span class="header-section-number">11.6.2</span> No Return Statement</h3>
<p>If a function doesn’t include a <code>return</code> statement, Python implicitly returns <code>None</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Greet a person by name."""</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This function doesn't explicitly return anything</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> greet(<span class="st">"Frank"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)  <span class="co"># Output: None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This behavior explains why <code>print()</code> doesn’t appear to return anything - it’s returning <code>None</code> after displaying output.</p>
</section>
<section id="return-early-for-validation" class="level3" data-number="11.6.3">
<h3 data-number="11.6.3" class="anchored" data-anchor-id="return-early-for-validation"><span class="header-section-number">11.6.3</span> Return Early for Validation</h3>
<p>Returning early is useful for validation:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> divide(a, b):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Divide a by b, with validation."""</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate input first</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Error: Cannot divide by zero"</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>  <span class="co"># Return early on invalid input</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Only execute if validation passed</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="variable-scope-understanding-where-variables-live" class="level2" data-number="11.7">
<h2 data-number="11.7" class="anchored" data-anchor-id="variable-scope-understanding-where-variables-live"><span class="header-section-number">11.7</span> 5. Variable Scope: Understanding Where Variables Live</h2>
<p>When you create a variable inside a function, it only exists within that function. This is called “local scope”:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> show_local():</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Demonstrate local variable scope."""</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This variable only exists inside this function</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    message <span class="op">=</span> <span class="st">"I'm a local variable"</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(message)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>show_local()  <span class="co"># Output: I'm a local variable</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># print(message)  # Error: name 'message' is not defined</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Parameters are also local variables:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> double(number):  <span class="co"># 'number' is a local variable</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> number <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> double(<span class="dv">5</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># print(number)  # Error: 'number' doesn't exist outside the function</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="local-vs.-global-scope" class="level3" data-number="11.7.1">
<h3 data-number="11.7.1" class="anchored" data-anchor-id="local-vs.-global-scope"><span class="header-section-number">11.7.1</span> Local vs.&nbsp;Global Scope</h3>
<p>Variables defined outside any function have “global scope” and can be accessed (but not modified) inside functions:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Global variable</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> increment():</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Try to increment the counter."""</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This creates a new local variable, not modifying the global one</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> counter <span class="op">+</span> <span class="dv">1</span>  <span class="co"># UnboundLocalError</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> counter</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># To modify a global variable:</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> correct_increment():</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Increment the global counter."""</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> counter  <span class="co"># Declare that we want to use the global variable</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> counter <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> counter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>However, it’s generally better practice to pass values as parameters and return results, rather than relying on global variables:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> increment(value):</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Increment the given value."""</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>counter <span class="op">=</span> increment(counter)  <span class="co"># counter becomes 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="variable-lifetime" class="level3" data-number="11.7.2">
<h3 data-number="11.7.2" class="anchored" data-anchor-id="variable-lifetime"><span class="header-section-number">11.7.2</span> Variable Lifetime</h3>
<p>Local variables are created when the function is called and destroyed when it returns:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data():</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> <span class="dv">100</span>  <span class="co"># Created when function starts</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing at </span><span class="sc">{</span>temp<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'temp' is destroyed when function ends</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>process_data()</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>process_data()  <span class="co"># Creates a fresh 'temp' variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This explains why functions don’t “remember” values from previous calls unless you use global variables or other techniques we’ll learn later.</p>
</section>
</section>
<section id="designing-effective-functions" class="level2" data-number="11.8">
<h2 data-number="11.8" class="anchored" data-anchor-id="designing-effective-functions"><span class="header-section-number">11.8</span> 6. Designing Effective Functions</h2>
<p>Well-designed functions follow several principles:</p>
<section id="single-responsibility-principle" class="level3" data-number="11.8.1">
<h3 data-number="11.8.1" class="anchored" data-anchor-id="single-responsibility-principle"><span class="header-section-number">11.8.1</span> 1. Single Responsibility Principle</h3>
<p>Each function should have one clear purpose:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Too many responsibilities</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_user(name):</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing user: </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    validate_email(<span class="ss">f"</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">@example.com"</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    create_account(name)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    send_welcome_email(name)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: separate functions for each responsibility</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_user_email(email):</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Check if email is valid."""</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user_account(username):</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create account in the system."""</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Creating account for </span><span class="sc">{</span>username<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> send_welcome_email(email):</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Send welcome message to user."""</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Sending welcome email to </span><span class="sc">{</span>email<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="keep-functions-short-and-focused" class="level3" data-number="11.8.2">
<h3 data-number="11.8.2" class="anchored" data-anchor-id="keep-functions-short-and-focused"><span class="header-section-number">11.8.2</span> 2. Keep Functions Short and Focused</h3>
<p>Aim for functions that fit on one screen (20-30 lines maximum):</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Too long and complex</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> do_everything():</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 100 lines of code doing many different things</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: break into smaller functions</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_input():</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 10 lines of code</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data():</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 15 lines of code</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_report():</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 20 lines of code</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="use-descriptive-names-and-documentation" class="level3" data-number="11.8.3">
<h3 data-number="11.8.3" class="anchored" data-anchor-id="use-descriptive-names-and-documentation"><span class="header-section-number">11.8.3</span> 3. Use Descriptive Names and Documentation</h3>
<p>Make your functions self-documenting:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unclear</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calc(a, b):</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Better</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate the area of a rectangle.</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co">        width (float): Width of the rectangle</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">        height (float): Height of the rectangle</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co">        float: Area of the rectangle</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width <span class="op">*</span> height</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="minimize-side-effects" class="level3" data-number="11.8.4">
<h3 data-number="11.8.4" class="anchored" data-anchor-id="minimize-side-effects"><span class="header-section-number">11.8.4</span> 4. Minimize Side Effects</h3>
<p>Functions should ideally return values rather than modifying global state:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function with side effects</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add_to_total(value):</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> total</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    total <span class="op">+=</span> value</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: pure function</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> add(total, value)  <span class="co"># Explicit about what's changing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="error-handling" class="level3" data-number="11.8.5">
<h3 data-number="11.8.5" class="anchored" data-anchor-id="error-handling"><span class="header-section-number">11.8.5</span> 5. Error Handling</h3>
<p>Consider what happens when things go wrong:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> divide(a, b):</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Divide a by b.</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">        a (float): Numerator</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">        b (float): Denominator (must be non-zero)</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co">        float: Result of a/b, or None if division by zero attempted</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Error: Cannot divide by zero"</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="project-corner-structuring-your-chatbot-with-functions" class="level2" data-number="11.9">
<h2 data-number="11.9" class="anchored" data-anchor-id="project-corner-structuring-your-chatbot-with-functions"><span class="header-section-number">11.9</span> 7. Project Corner: Structuring Your Chatbot with Functions</h2>
<p>Now let’s apply these principles to enhance our chatbot project with well-designed functions. Previously, we had a simple script; now we’ll organize it into modular, reusable components.</p>
<section id="basic-function-based-chatbot" class="level3" data-number="11.9.1">
<h3 data-number="11.9.1" class="anchored" data-anchor-id="basic-function-based-chatbot"><span class="header-section-number">11.9.1</span> Basic Function-Based Chatbot</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_response(user_input, user_name):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Generate a response based on user input.</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input (str): The user's message</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">        user_name (str): The user's name</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The chatbot's response</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> user_input.lower()</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"hello"</span> <span class="kw">in</span> user_input <span class="kw">or</span> <span class="st">"hi"</span> <span class="kw">in</span> user_input:</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Hello there, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"how are you"</span> <span class="kw">in</span> user_input:</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"I'm just a computer program, but thanks for asking!"</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"your name"</span> <span class="kw">in</span> user_input:</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"My name is PyBot. I'm here to help you learn Python!"</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"bye"</span> <span class="kw">in</span> user_input <span class="kw">or</span> <span class="st">"goodbye"</span> <span class="kw">in</span> user_input:</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">! Have a great day!"</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"I'm not sure how to respond to that yet."</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run_chatbot():</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Run the main chatbot interaction loop."""</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello! I'm </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">. Type 'bye' to exit."</span>)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>    user_name <span class="op">=</span> <span class="bu">input</span>(<span class="st">"What's your name? "</span>)</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Nice to meet you, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>        user_input <span class="op">=</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>)</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> get_response(user_input, user_name)</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the chatbot if this file is executed directly</span></span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>    run_chatbot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This approach already improves our code by: - Separating response generation into a dedicated function - Adding proper documentation with docstrings - Creating a main function that handles the chatbot loop - Using a conditional to only run the chatbot when the file is executed directly</p>
</section>
<section id="enhanced-modular-chatbot" class="level3" data-number="11.9.2">
<h3 data-number="11.9.2" class="anchored" data-anchor-id="enhanced-modular-chatbot"><span class="header-section-number">11.9.2</span> Enhanced Modular Chatbot</h3>
<p>Let’s take it further by adding more functions for specific tasks:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_name():</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Get the user's name with basic validation.</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The user's name</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>        name <span class="op">=</span> <span class="bu">input</span>(<span class="st">"What's your name? "</span>).strip()</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> name:  <span class="co"># Check that name isn't empty</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> name</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"I didn't catch that. Please tell me your name."</span>)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_welcome(bot_name):</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co">    Display the welcome message.</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co">        bot_name (str): The chatbot's name</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">50</span>)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Welcome to </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">50</span>)</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello! I'm </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">, a simple chatbot."</span>)</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"I can help you learn about Python functions."</span>)</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Type 'bye' to exit, 'help' for commands.</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_input(user_name):</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a><span class="co">    Get input from the user with their name as prompt.</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a><span class="co">        user_name (str): The user's name</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The user's input</span></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>).strip()</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_response(bot_name, response):</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a><span class="co">    Display the chatbot's response.</span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a><span class="co">        bot_name (str): The chatbot's name</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a><span class="co">        response (str): The response to display</span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_response(user_input, user_name):</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a><span class="co">    Generate a response based on user input.</span></span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input (str): The user's message</span></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a><span class="co">        user_name (str): The user's name</span></span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The chatbot's response</span></span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> user_input.lower()</span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for specific commands</span></span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input <span class="op">==</span> <span class="st">"help"</span>:</span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> get_help_message()</span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for greetings</span></span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">any</span>(greeting <span class="kw">in</span> user_input <span class="cf">for</span> greeting <span class="kw">in</span> [<span class="st">"hello"</span>, <span class="st">"hi"</span>, <span class="st">"hey"</span>]):</span>
<span id="cb28-69"><a href="#cb28-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Hello there, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb28-70"><a href="#cb28-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-71"><a href="#cb28-71" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for questions about the bot</span></span>
<span id="cb28-72"><a href="#cb28-72" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"your name"</span> <span class="kw">in</span> user_input:</span>
<span id="cb28-73"><a href="#cb28-73" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"My name is PyBot. I'm a simple chatbot built with Python functions!"</span></span>
<span id="cb28-74"><a href="#cb28-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-75"><a href="#cb28-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"how are you"</span> <span class="kw">in</span> user_input:</span>
<span id="cb28-76"><a href="#cb28-76" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"I'm just a computer program, but I'm functioning well. Thanks for asking!"</span></span>
<span id="cb28-77"><a href="#cb28-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-78"><a href="#cb28-78" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for farewells</span></span>
<span id="cb28-79"><a href="#cb28-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">any</span>(farewell <span class="kw">in</span> user_input <span class="cf">for</span> farewell <span class="kw">in</span> [<span class="st">"bye"</span>, <span class="st">"goodbye"</span>, <span class="st">"exit"</span>]):</span>
<span id="cb28-80"><a href="#cb28-80" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">! Have a great day!"</span></span>
<span id="cb28-81"><a href="#cb28-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-82"><a href="#cb28-82" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Default response</span></span>
<span id="cb28-83"><a href="#cb28-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"I'm not sure how to respond to that yet. Type 'help' for commands."</span></span>
<span id="cb28-84"><a href="#cb28-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-85"><a href="#cb28-85" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_help_message():</span>
<span id="cb28-86"><a href="#cb28-86" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb28-87"><a href="#cb28-87" aria-hidden="true" tabindex="-1"></a><span class="co">    Return the help message.</span></span>
<span id="cb28-88"><a href="#cb28-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-89"><a href="#cb28-89" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb28-90"><a href="#cb28-90" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The help message</span></span>
<span id="cb28-91"><a href="#cb28-91" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb28-92"><a href="#cb28-92" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"""</span></span>
<span id="cb28-93"><a href="#cb28-93" aria-hidden="true" tabindex="-1"></a><span class="st">I understand the following:</span></span>
<span id="cb28-94"><a href="#cb28-94" aria-hidden="true" tabindex="-1"></a><span class="st">- Greetings (hello, hi)</span></span>
<span id="cb28-95"><a href="#cb28-95" aria-hidden="true" tabindex="-1"></a><span class="st">- Questions about me</span></span>
<span id="cb28-96"><a href="#cb28-96" aria-hidden="true" tabindex="-1"></a><span class="st">- 'how are you'</span></span>
<span id="cb28-97"><a href="#cb28-97" aria-hidden="true" tabindex="-1"></a><span class="st">- 'bye' or 'goodbye' to exit</span></span>
<span id="cb28-98"><a href="#cb28-98" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb28-99"><a href="#cb28-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-100"><a href="#cb28-100" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run_chatbot():</span>
<span id="cb28-101"><a href="#cb28-101" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Run the main chatbot interaction loop."""</span></span>
<span id="cb28-102"><a href="#cb28-102" aria-hidden="true" tabindex="-1"></a>    bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb28-103"><a href="#cb28-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-104"><a href="#cb28-104" aria-hidden="true" tabindex="-1"></a>    display_welcome(bot_name)</span>
<span id="cb28-105"><a href="#cb28-105" aria-hidden="true" tabindex="-1"></a>    user_name <span class="op">=</span> get_user_name()</span>
<span id="cb28-106"><a href="#cb28-106" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; Nice to meet you, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb28-107"><a href="#cb28-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-108"><a href="#cb28-108" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb28-109"><a href="#cb28-109" aria-hidden="true" tabindex="-1"></a>        user_input <span class="op">=</span> get_user_input(user_name)</span>
<span id="cb28-110"><a href="#cb28-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-111"><a href="#cb28-111" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Check for exit command</span></span>
<span id="cb28-112"><a href="#cb28-112" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb28-113"><a href="#cb28-113" aria-hidden="true" tabindex="-1"></a>            display_response(bot_name, <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb28-114"><a href="#cb28-114" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb28-115"><a href="#cb28-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-116"><a href="#cb28-116" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> get_response(user_input, user_name)</span>
<span id="cb28-117"><a href="#cb28-117" aria-hidden="true" tabindex="-1"></a>        display_response(bot_name, response)</span>
<span id="cb28-118"><a href="#cb28-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-119"><a href="#cb28-119" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the chatbot if this file is executed directly</span></span>
<span id="cb28-120"><a href="#cb28-120" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb28-121"><a href="#cb28-121" aria-hidden="true" tabindex="-1"></a>    run_chatbot()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This enhanced version demonstrates several advanced function design principles:</p>
<ol type="1">
<li><strong>Each function has a single responsibility</strong> - input, output, logic, etc.</li>
<li><strong>Functions are composable</strong> - the main function calls smaller functions</li>
<li><strong>Error handling is built in</strong> - input validation in <code>get_user_name()</code></li>
<li><strong>Code is self-documenting</strong> - function names clearly describe their purpose</li>
<li><strong>Helper functions hide complexity</strong> - like <code>get_help_message()</code></li>
</ol>
</section>
<section id="adding-new-capabilities-with-functions" class="level3" data-number="11.9.3">
<h3 data-number="11.9.3" class="anchored" data-anchor-id="adding-new-capabilities-with-functions"><span class="header-section-number">11.9.3</span> Adding New Capabilities with Functions</h3>
<p>When you want to extend your chatbot, you can simply add new functions:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_age(birth_year):</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate age based on birth year.</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">        birth_year (int): The year the person was born</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">        int: The calculated age (approximate)</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    current_year <span class="op">=</span> datetime.now().year</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> current_year <span class="op">-</span> birth_year</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> handle_age_question(user_input):</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co">    Extract birth year from input and calculate age.</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input (str): The user's message</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="co">        str: Age calculation response or None if not an age question</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"calculate age"</span> <span class="kw">in</span> user_input.lower() <span class="kw">or</span> <span class="st">"how old"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Try to extract a year from the input</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>            words <span class="op">=</span> user_input.split()</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> word <span class="kw">in</span> words:</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> word.isdigit() <span class="kw">and</span> <span class="dv">1900</span> <span class="op">&lt;=</span> <span class="bu">int</span>(word) <span class="op">&lt;=</span> <span class="dv">2020</span>:</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>                    age <span class="op">=</span> calculate_age(<span class="bu">int</span>(word))</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="ss">f"If you were born in </span><span class="sc">{</span>word<span class="sc">}</span><span class="ss">, you are approximately </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss"> years old now."</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>            <span class="co"># If no year found, ask for it</span></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"I can calculate age. What year were you born?"</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>:</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"I couldn't calculate that age. Try specifying a birth year between 1900 and 2020."</span></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span>  <span class="co"># Not an age question</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Then in get_response():</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_response(user_input, user_name):</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Existing response logic...</span></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for age-related questions</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>    age_response <span class="op">=</span> handle_age_question(user_input)</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> age_response:</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> age_response</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Other response logic...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This modular approach makes extending your chatbot clean and manageable. Each new capability goes into its own function, keeping your code organized.</p>
</section>
</section>
<section id="ai-collaboration-corner-designing-better-functions" class="level2" data-number="11.10">
<h2 data-number="11.10" class="anchored" data-anchor-id="ai-collaboration-corner-designing-better-functions"><span class="header-section-number">11.10</span> 8. AI Collaboration Corner: Designing Better Functions</h2>
<p>Let’s explore how AI assistants can help you create better functions in your Python code.</p>
<section id="before-vague-prompting" class="level3" data-number="11.10.1">
<h3 data-number="11.10.1" class="anchored" data-anchor-id="before-vague-prompting"><span class="header-section-number">11.10.1</span> Before: Vague Prompting</h3>
<pre><code>Help me create a function in Python.</code></pre>
<p><strong>AI Response:</strong> <em>To create a function in Python, you use the <code>def</code> keyword followed by the function name and parentheses. Here’s a basic example:</em></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""This function greets the person passed in as a parameter."""</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Alice"</span>)  <span class="co"># Output: Hello, Alice!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>Functions can have parameters, return values, and docstrings that explain what they do. Parameters make your functions reusable with different inputs.</em></p>
<p>This response provides basic information but doesn’t address specific function design needs.</p>
</section>
<section id="after-detailed-specific-prompting" class="level3" data-number="11.10.2">
<h3 data-number="11.10.2" class="anchored" data-anchor-id="after-detailed-specific-prompting"><span class="header-section-number">11.10.2</span> After: Detailed, Specific Prompting</h3>
<pre><code>I'm building a chatbot that needs to process user input and determine sentiment
(positive/negative/neutral). I want to create a well-designed function that:

1. Takes a message string as input
2. Analyzes the text for positive and negative keywords
3. Returns both a sentiment label and a confidence score

Please provide a function with proper documentation, parameter validation, and
error handling. Also explain any design decisions in your implementation.</code></pre>
<p><strong>AI Response:</strong> <em>Here’s a well-designed function to analyze sentiment in chatbot messages:</em></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> analyze_sentiment(message, custom_keywords<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Analyze the sentiment of a message as positive, negative, or neutral.</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co">        message (str): The user message to analyze</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">        custom_keywords (dict, optional): Dictionary with custom 'positive' and</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">                                         'negative' keyword lists to use instead</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">                                         of the defaults</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="co">        tuple: (sentiment, confidence) where:</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co">            - sentiment (str): 'positive', 'negative', or 'neutral'</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co">            - confidence (float): Score between 0.0 and 1.0 indicating confidence</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co">    Raises:</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="co">        TypeError: If message is not a string or custom_keywords is not a dict/None</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a><span class="co">        ValueError: If message is empty</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate inputs</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(message, <span class="bu">str</span>):</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"Message must be a string"</span>)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> custom_keywords <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> <span class="kw">not</span> <span class="bu">isinstance</span>(custom_keywords, <span class="bu">dict</span>):</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"Custom keywords must be a dictionary"</span>)</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> message.strip():</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Message cannot be empty"</span>)</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Prepare the message for analysis</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>    message <span class="op">=</span> message.lower()</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> message.split()</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Default sentiment keywords</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>    default_keywords <span class="op">=</span> {</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>        <span class="st">'positive'</span>: [<span class="st">'happy'</span>, <span class="st">'glad'</span>, <span class="st">'good'</span>, <span class="st">'great'</span>, <span class="st">'excellent'</span>, <span class="st">'wonderful'</span>,</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'amazing'</span>, <span class="st">'love'</span>, <span class="st">'like'</span>, <span class="st">'thanks'</span>, <span class="st">'thank'</span>, <span class="st">'awesome'</span>],</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">'negative'</span>: [<span class="st">'bad'</span>, <span class="st">'sad'</span>, <span class="st">'terrible'</span>, <span class="st">'awful'</span>, <span class="st">'horrible'</span>, <span class="st">'hate'</span>,</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'dislike'</span>, <span class="st">'sorry'</span>, <span class="st">'disappointed'</span>, <span class="st">'unhappy'</span>, <span class="st">'wrong'</span>]</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use custom keywords if provided, otherwise use defaults</span></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>    keywords <span class="op">=</span> custom_keywords <span class="cf">if</span> custom_keywords <span class="cf">else</span> default_keywords</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count sentiment matches</span></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>    positive_matches <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> word <span class="kw">in</span> words <span class="cf">if</span> word <span class="kw">in</span> keywords[<span class="st">'positive'</span>])</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>    negative_matches <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> word <span class="kw">in</span> words <span class="cf">if</span> word <span class="kw">in</span> keywords[<span class="st">'negative'</span>])</span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>    total_sentiment_words <span class="op">=</span> positive_matches <span class="op">+</span> negative_matches</span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate sentiment and confidence</span></span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> total_sentiment_words <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'neutral'</span>, <span class="fl">0.5</span>  <span class="co"># No sentiment words found</span></span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> positive_matches <span class="op">&gt;</span> negative_matches:</span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a>        sentiment <span class="op">=</span> <span class="st">'positive'</span></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a>        confidence <span class="op">=</span> positive_matches <span class="op">/</span> total_sentiment_words</span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> negative_matches <span class="op">&gt;</span> positive_matches:</span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>        sentiment <span class="op">=</span> <span class="st">'negative'</span></span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>        confidence <span class="op">=</span> negative_matches <span class="op">/</span> total_sentiment_words</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>        sentiment <span class="op">=</span> <span class="st">'neutral'</span></span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a>        confidence <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Adjust confidence to be between 0.5 and 1.0 (0.5 = neutral)</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a>    confidence <span class="op">=</span> <span class="fl">0.5</span> <span class="op">+</span> (confidence <span class="op">*</span> <span class="fl">0.5</span>)</span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> sentiment, confidence</span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> demo_sentiment_analysis():</span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Run examples of sentiment analysis."""</span></span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>    test_messages <span class="op">=</span> [</span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>        <span class="st">"I'm really happy with your service, thank you!"</span>,</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">"This is absolutely terrible and disappointing."</span>,</span>
<span id="cb33-75"><a href="#cb33-75" aria-hidden="true" tabindex="-1"></a>        <span class="st">"The weather is cloudy today."</span></span>
<span id="cb33-76"><a href="#cb33-76" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb33-77"><a href="#cb33-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-78"><a href="#cb33-78" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> message <span class="kw">in</span> test_messages:</span>
<span id="cb33-79"><a href="#cb33-79" aria-hidden="true" tabindex="-1"></a>        sentiment, confidence <span class="op">=</span> analyze_sentiment(message)</span>
<span id="cb33-80"><a href="#cb33-80" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Message: '</span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">'"</span>)</span>
<span id="cb33-81"><a href="#cb33-81" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Sentiment: </span><span class="sc">{</span>sentiment<span class="sc">}</span><span class="ss">, Confidence: </span><span class="sc">{</span>confidence<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>Design decisions explained:</em></p>
<ol type="1">
<li><em>Function signature:</em>
<ul>
<li><em>Primary parameter (<code>message</code>) for the text to analyze</em></li>
<li><em>Optional parameter (<code>custom_keywords</code>) for flexibility/customization</em></li>
<li><em>Return value is a tuple with both result and confidence score</em></li>
</ul></li>
<li><em>Robust validation:</em>
<ul>
<li><em>Type checking for parameters</em></li>
<li><em>Empty message validation</em></li>
<li><em>Explicit error messages for troubleshooting</em></li>
</ul></li>
<li><em>Well-structured implementation:</em>
<ul>
<li><em>Message preprocessing (lowercase, word splitting)</em></li>
<li><em>Default keywords with option for customization</em></li>
<li><em>Explicit algorithm for sentiment determination</em></li>
<li><em>Confidence scoring scaled to a meaningful range</em></li>
</ul></li>
<li><em>Complete documentation:</em>
<ul>
<li><em>Clear description of function purpose</em></li>
<li><em>Detailed parameter documentation</em></li>
<li><em>Return value format explanation</em></li>
<li><em>Documentation of potential errors</em></li>
</ul></li>
<li><em>Design principle: Single Responsibility:</em>
<ul>
<li><em>The function does one thing well (sentiment analysis)</em></li>
<li><em>Doesn’t mix other concerns like input/output</em></li>
</ul></li>
</ol>
<p><em>This function demonstrates good practices like thorough validation, flexible parameters, meaningful return values, and comprehensive documentation. It’s also designed to be extended easily (e.g., by providing custom keywords).</em></p>
</section>
<section id="how-to-craft-effective-prompts-for-function-design" class="level3" data-number="11.10.3">
<h3 data-number="11.10.3" class="anchored" data-anchor-id="how-to-craft-effective-prompts-for-function-design"><span class="header-section-number">11.10.3</span> How to Craft Effective Prompts for Function Design</h3>
<p>When working with an AI assistant on function design:</p>
<ol type="1">
<li><p><strong>Specify the exact purpose</strong> of the function you need</p></li>
<li><p><strong>Describe inputs and outputs</strong> clearly</p></li>
<li><p><strong>Mention any special requirements</strong> like error handling or validation</p></li>
<li><p><strong>Ask about design considerations</strong> specific to your use case</p></li>
<li><p><strong>Request documentation</strong> if you want it included</p></li>
</ol>
<p>For example:</p>
<pre><code>I need to create a function that validates user registration data with these requirements:
1. It should check username (letters/numbers only, 3-15 chars), email (must have @ and .),
   and password (8+ chars with at least one number)
2. For invalid data, it should return specific error messages about what's wrong
3. For valid data, it should return a success message
4. The function should be well-documented and follow Python best practices

Please provide the function code with comments explaining the implementation.</code></pre>
<p>This specific prompt will yield a well-designed validation function tailored to your exact requirements.</p>
</section>
</section>
<section id="common-function-design-pitfalls-to-avoid" class="level2" data-number="11.11">
<h2 data-number="11.11" class="anchored" data-anchor-id="common-function-design-pitfalls-to-avoid"><span class="header-section-number">11.11</span> 9. Common Function Design Pitfalls to Avoid</h2>
<p>As you create your own functions, watch for these common issues:</p>
<section id="too-many-parameters" class="level3" data-number="11.11.1">
<h3 data-number="11.11.1" class="anchored" data-anchor-id="too-many-parameters"><span class="header-section-number">11.11.1</span> Too Many Parameters</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hard to use and understand</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user(name, email, password, age, location, interests, account_type,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>                newsletter, referral_code, language, theme_preference):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Function with too many parameters</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user(name, email, password, <span class="op">**</span>optional_fields):</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Core parameters separate from optional ones</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Or use a dictionary/class for related parameters</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user(user_data):</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Access fields with user_data['name'], etc.</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="side-effects-without-documentation" class="level3" data-number="11.11.2">
<h3 data-number="11.11.2" class="anchored" data-anchor-id="side-effects-without-documentation"><span class="header-section-number">11.11.2</span> Side Effects Without Documentation</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Surprising side effect</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_stats(data):</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculate mean and median of data."""</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    data.sort()  <span class="co"># Side effect: modifies input list!</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    mean <span class="op">=</span> <span class="bu">sum</span>(data) <span class="op">/</span> <span class="bu">len</span>(data)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    median <span class="op">=</span> data[<span class="bu">len</span>(data) <span class="op">//</span> <span class="dv">2</span>]</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mean, median</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: document the side effect</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_stats(data):</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate statistics from data.</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co">    Note: This function sorts the input list in-place.</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    data.sort()</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rest of function...</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Best: avoid the side effect</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_stats(data):</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculate statistics from data (non-modifying)."""</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>    sorted_data <span class="op">=</span> <span class="bu">sorted</span>(data)  <span class="co"># Creates a new sorted list</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use sorted_data instead of modifying input</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="not-handling-edge-cases" class="level3" data-number="11.11.3">
<h3 data-number="11.11.3" class="anchored" data-anchor-id="not-handling-edge-cases"><span class="header-section-number">11.11.3</span> Not Handling Edge Cases</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Missing edge case handling</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_average(numbers):</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(numbers) <span class="op">/</span> <span class="bu">len</span>(numbers)  <span class="co"># Crashes on empty list</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_average(numbers):</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> numbers:</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span>  <span class="co"># Or raise an exception, or return None</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(numbers) <span class="op">/</span> <span class="bu">len</span>(numbers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="function-naming-confusion" class="level3" data-number="11.11.4">
<h3 data-number="11.11.4" class="anchored" data-anchor-id="function-naming-confusion"><span class="header-section-number">11.11.4</span> Function Naming Confusion</h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Confusing name - doesn't match behavior</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> check_email(email):</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validates an email and returns a boolean."""</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Better name</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> is_valid_email(email):</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validates an email and returns a boolean."""</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Or</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_email(email):</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validates an email and returns errors or None."""</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"@"</span> <span class="kw">not</span> <span class="kw">in</span> email:</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Email must contain @ symbol"</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"."</span> <span class="kw">not</span> <span class="kw">in</span> email:</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Email must contain a domain"</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span>  <span class="co"># No errors</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="inconsistent-return-types" class="level3" data-number="11.11.5">
<h3 data-number="11.11.5" class="anchored" data-anchor-id="inconsistent-return-types"><span class="header-section-number">11.11.5</span> Inconsistent Return Types</h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inconsistent - sometimes returns bool, sometimes string</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_payment(amount):</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> amount <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Invalid amount"</span>  <span class="co"># String</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> process_successful:</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span>  <span class="co"># Boolean</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Payment failed"</span>  <span class="co"># String</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach - consistent return type</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_payment(amount):</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Process payment and return result with message."""</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> amount <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span>, <span class="st">"Invalid amount"</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> process_successful:</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span>, <span class="st">"Payment successful"</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span>, <span class="st">"Payment failed"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="doing-too-much-in-one-function" class="level3" data-number="11.11.6">
<h3 data-number="11.11.6" class="anchored" data-anchor-id="doing-too-much-in-one-function"><span class="header-section-number">11.11.6</span> Doing Too Much in One Function</h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function trying to do too much</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_order(order_id):</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate the order</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the total</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Process payment</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update inventory</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Send confirmation email</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update order status</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: separate functions for each responsibility</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_order(order_id):</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validation logic</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_order_total(order_items):</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculation logic</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_payment(amount, payment_method):</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Payment processing</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Etc.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="real-world-function-examples" class="level2" data-number="11.12">
<h2 data-number="11.12" class="anchored" data-anchor-id="real-world-function-examples"><span class="header-section-number">11.12</span> 10. Real-World Function Examples</h2>
<p>Let’s look at some realistic examples of function design in different contexts:</p>
<section id="data-processing-function" class="level3" data-number="11.12.1">
<h3 data-number="11.12.1" class="anchored" data-anchor-id="data-processing-function"><span class="header-section-number">11.12.1</span> Data Processing Function</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_data(data, columns<span class="op">=</span><span class="va">None</span>, drop_duplicates<span class="op">=</span><span class="va">True</span>, fill_missing<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Clean a pandas DataFrame by handling specified issues.</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co">        data (pandas.DataFrame): The DataFrame to clean</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co">        columns (list, optional): Specific columns to clean. Defaults to all columns.</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="co">        drop_duplicates (bool, optional): Whether to remove duplicate rows. Defaults to True.</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co">        fill_missing (dict, optional): How to fill missing values {column: value}.</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co">                                       Defaults to None (don't fill).</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="co">        pandas.DataFrame: The cleaned DataFrame</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: Summary of changes made</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate input</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(data, pd.DataFrame):</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"data must be a pandas DataFrame"</span>)</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Work on a copy to avoid modifying the original</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> data.copy()</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Track changes for summary</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>    changes <span class="op">=</span> {</span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"rows_before"</span>: <span class="bu">len</span>(df),</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"duplicates_removed"</span>: <span class="dv">0</span>,</span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"missing_values_filled"</span>: <span class="dv">0</span></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use only specified columns if provided</span></span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>    working_columns <span class="op">=</span> columns <span class="cf">if</span> columns <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="cf">else</span> df.columns</span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Handle duplicates if requested</span></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> drop_duplicates:</span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>        before_rows <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> df.drop_duplicates(subset<span class="op">=</span>working_columns)</span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a>        changes[<span class="st">"duplicates_removed"</span>] <span class="op">=</span> before_rows <span class="op">-</span> <span class="bu">len</span>(df)</span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fill missing values if specified</span></span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> fill_missing:</span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> col, value <span class="kw">in</span> fill_missing.items():</span>
<span id="cb41-44"><a href="#cb41-44" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> col <span class="kw">in</span> df.columns:</span>
<span id="cb41-45"><a href="#cb41-45" aria-hidden="true" tabindex="-1"></a>                missing_count <span class="op">=</span> df[col].isna().<span class="bu">sum</span>()</span>
<span id="cb41-46"><a href="#cb41-46" aria-hidden="true" tabindex="-1"></a>                df[col] <span class="op">=</span> df[col].fillna(value)</span>
<span id="cb41-47"><a href="#cb41-47" aria-hidden="true" tabindex="-1"></a>                changes[<span class="st">"missing_values_filled"</span>] <span class="op">+=</span> missing_count</span>
<span id="cb41-48"><a href="#cb41-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-49"><a href="#cb41-49" aria-hidden="true" tabindex="-1"></a>    changes[<span class="st">"rows_after"</span>] <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb41-50"><a href="#cb41-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-51"><a href="#cb41-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df, changes</span>
<span id="cb41-52"><a href="#cb41-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-53"><a href="#cb41-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb41-54"><a href="#cb41-54" aria-hidden="true" tabindex="-1"></a><span class="co"># df, summary = clean_data(customer_data,</span></span>
<span id="cb41-55"><a href="#cb41-55" aria-hidden="true" tabindex="-1"></a><span class="co">#                          columns=["name", "email"],</span></span>
<span id="cb41-56"><a href="#cb41-56" aria-hidden="true" tabindex="-1"></a><span class="co">#                          fill_missing={"age": 0, "income": 0})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="web-application-function" class="level3" data-number="11.12.2">
<h3 data-number="11.12.2" class="anchored" data-anchor-id="web-application-function"><span class="header-section-number">11.12.2</span> Web Application Function</h3>
<div class="sourceCode" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> authenticate_user(username, password, max_attempts<span class="op">=</span><span class="dv">3</span>, lockout_minutes<span class="op">=</span><span class="dv">30</span>):</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Authenticate a user against the database.</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co">        username (str): The username to authenticate</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co">        password (str): The password to verify</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co">        max_attempts (int, optional): Maximum failed attempts before lockout. Defaults to 3.</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co">        lockout_minutes (int, optional): Minutes to lock account after max_attempts. Defaults to 30.</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: Authentication result with format:</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co">              {"success": bool, "user_id": int or None, "message": str}</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co">    Note:</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co">        This function updates the database attempts counter and lockout status.</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> datetime</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate inputs</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> username <span class="kw">or</span> <span class="kw">not</span> password:</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">False</span>, <span class="st">"user_id"</span>: <span class="va">None</span>, <span class="st">"message"</span>: <span class="st">"Username and password required"</span>}</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if user exists</span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    user <span class="op">=</span> get_user_by_username(username)</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> user:</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Don't reveal that the username doesn't exist (security best practice)</span></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">False</span>, <span class="st">"user_id"</span>: <span class="va">None</span>, <span class="st">"message"</span>: <span class="st">"Invalid credentials"</span>}</span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for account lockout</span></span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user.locked_until <span class="kw">and</span> user.locked_until <span class="op">&gt;</span> datetime.datetime.now():</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>        remaining_minutes <span class="op">=</span> (user.locked_until <span class="op">-</span> datetime.datetime.now()).seconds <span class="op">//</span> <span class="dv">60</span></span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a>            <span class="st">"success"</span>: <span class="va">False</span>,</span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">"user_id"</span>: <span class="va">None</span>,</span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>            <span class="st">"message"</span>: <span class="ss">f"Account temporarily locked. Try again in </span><span class="sc">{</span>remaining_minutes<span class="sc">}</span><span class="ss"> minutes."</span></span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reset lockout if it has expired</span></span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user.locked_until <span class="kw">and</span> user.locked_until <span class="op">&lt;=</span> datetime.datetime.now():</span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>        user.failed_attempts <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>        user.locked_until <span class="op">=</span> <span class="va">None</span></span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a>        update_user(user)</span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Verify password</span></span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> verify_password(password, user.password_hash):</span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Success: reset failed attempts and return success</span></span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a>        user.failed_attempts <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a>        update_user(user)</span>
<span id="cb42-50"><a href="#cb42-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">True</span>, <span class="st">"user_id"</span>: user.<span class="bu">id</span>, <span class="st">"message"</span>: <span class="st">"Login successful"</span>}</span>
<span id="cb42-51"><a href="#cb42-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Failed attempt: increment counter</span></span>
<span id="cb42-53"><a href="#cb42-53" aria-hidden="true" tabindex="-1"></a>        user.failed_attempts <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb42-54"><a href="#cb42-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Check if should lock account</span></span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> user.failed_attempts <span class="op">&gt;=</span> max_attempts:</span>
<span id="cb42-57"><a href="#cb42-57" aria-hidden="true" tabindex="-1"></a>            lockout_time <span class="op">=</span> datetime.datetime.now() <span class="op">+</span> datetime.timedelta(minutes<span class="op">=</span>lockout_minutes)</span>
<span id="cb42-58"><a href="#cb42-58" aria-hidden="true" tabindex="-1"></a>            user.locked_until <span class="op">=</span> lockout_time</span>
<span id="cb42-59"><a href="#cb42-59" aria-hidden="true" tabindex="-1"></a>            message <span class="op">=</span> <span class="ss">f"Too many failed attempts. Account locked for </span><span class="sc">{</span>lockout_minutes<span class="sc">}</span><span class="ss"> minutes."</span></span>
<span id="cb42-60"><a href="#cb42-60" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb42-61"><a href="#cb42-61" aria-hidden="true" tabindex="-1"></a>            attempts_left <span class="op">=</span> max_attempts <span class="op">-</span> user.failed_attempts</span>
<span id="cb42-62"><a href="#cb42-62" aria-hidden="true" tabindex="-1"></a>            message <span class="op">=</span> <span class="ss">f"Invalid credentials. </span><span class="sc">{</span>attempts_left<span class="sc">}</span><span class="ss"> attempts remaining."</span></span>
<span id="cb42-63"><a href="#cb42-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-64"><a href="#cb42-64" aria-hidden="true" tabindex="-1"></a>        update_user(user)</span>
<span id="cb42-65"><a href="#cb42-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">False</span>, <span class="st">"user_id"</span>: <span class="va">None</span>, <span class="st">"message"</span>: message}</span>
<span id="cb42-66"><a href="#cb42-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-67"><a href="#cb42-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: This assumes helper functions get_user_by_username(),</span></span>
<span id="cb42-68"><a href="#cb42-68" aria-hidden="true" tabindex="-1"></a><span class="co"># verify_password(), and update_user() exist elsewhere</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="game-development-function" class="level3" data-number="11.12.3">
<h3 data-number="11.12.3" class="anchored" data-anchor-id="game-development-function"><span class="header-section-number">11.12.3</span> Game Development Function</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_damage(attacker, defender, attack_type<span class="op">=</span><span class="st">"normal"</span>):</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate damage for an attack in a game.</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co">        attacker (dict): Attacker stats including 'strength', 'level', 'weapon_power'</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co">        defender (dict): Defender stats including 'defense', 'level', 'resistance'</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co">        attack_type (str, optional): Type of attack - "normal", "critical", or "special".</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co">                                    Defaults to "normal".</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: Damage calculation results including:</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'damage': Final damage amount (int)</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'critical': Whether it was a critical hit (bool)</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'hit': Whether the attack landed (bool)</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'message': Description of the attack result (str)</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> random</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Base damage calculation</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>    base_damage <span class="op">=</span> (attacker.get(<span class="st">'strength'</span>, <span class="dv">0</span>) <span class="op">+</span> attacker.get(<span class="st">'weapon_power'</span>, <span class="dv">0</span>)) <span class="op">*</span> <span class="fl">1.5</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Accuracy check (chance to miss)</span></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="op">=</span> <span class="bu">min</span>(<span class="dv">95</span>, <span class="dv">80</span> <span class="op">+</span> (attacker.get(<span class="st">'level'</span>, <span class="dv">1</span>) <span class="op">-</span> defender.get(<span class="st">'level'</span>, <span class="dv">1</span>)) <span class="op">*</span> <span class="dv">2</span>)</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>    hit_roll <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">100</span>)</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if attack hits</span></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> hit_roll <span class="op">&gt;</span> accuracy:</span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>            <span class="st">'damage'</span>: <span class="dv">0</span>,</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>            <span class="st">'critical'</span>: <span class="va">False</span>,</span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a>            <span class="st">'hit'</span>: <span class="va">False</span>,</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>            <span class="st">'message'</span>: <span class="st">"The attack missed!"</span></span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Critical hit chance</span></span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a>    critical_chance <span class="op">=</span> <span class="bu">min</span>(<span class="dv">25</span>, <span class="dv">5</span> <span class="op">+</span> attacker.get(<span class="st">'level'</span>, <span class="dv">1</span>) <span class="op">//</span> <span class="dv">2</span>)</span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a>    is_critical <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">100</span>) <span class="op">&lt;=</span> critical_chance</span>
<span id="cb43-39"><a href="#cb43-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-40"><a href="#cb43-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Damage modifiers</span></span>
<span id="cb43-41"><a href="#cb43-41" aria-hidden="true" tabindex="-1"></a>    damage_multiplier <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb43-42"><a href="#cb43-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-43"><a href="#cb43-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> is_critical:</span>
<span id="cb43-44"><a href="#cb43-44" aria-hidden="true" tabindex="-1"></a>        damage_multiplier <span class="op">*=</span> <span class="fl">2.0</span></span>
<span id="cb43-45"><a href="#cb43-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-46"><a href="#cb43-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> attack_type <span class="op">==</span> <span class="st">"critical"</span>:</span>
<span id="cb43-47"><a href="#cb43-47" aria-hidden="true" tabindex="-1"></a>        damage_multiplier <span class="op">*=</span> <span class="fl">1.5</span></span>
<span id="cb43-48"><a href="#cb43-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> attack_type <span class="op">==</span> <span class="st">"special"</span>:</span>
<span id="cb43-49"><a href="#cb43-49" aria-hidden="true" tabindex="-1"></a>        damage_multiplier <span class="op">*=</span> <span class="fl">1.75</span></span>
<span id="cb43-50"><a href="#cb43-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-51"><a href="#cb43-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply defender's defense</span></span>
<span id="cb43-52"><a href="#cb43-52" aria-hidden="true" tabindex="-1"></a>    defense_reduction <span class="op">=</span> defender.get(<span class="st">'defense'</span>, <span class="dv">0</span>) <span class="op">*</span> <span class="fl">0.5</span></span>
<span id="cb43-53"><a href="#cb43-53" aria-hidden="true" tabindex="-1"></a>    damage <span class="op">=</span> <span class="bu">max</span>(<span class="dv">1</span>, <span class="bu">int</span>((base_damage <span class="op">-</span> defense_reduction) <span class="op">*</span> damage_multiplier))</span>
<span id="cb43-54"><a href="#cb43-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-55"><a href="#cb43-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply damage resistance for special attacks</span></span>
<span id="cb43-56"><a href="#cb43-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> attack_type <span class="op">==</span> <span class="st">"special"</span>:</span>
<span id="cb43-57"><a href="#cb43-57" aria-hidden="true" tabindex="-1"></a>        resistance <span class="op">=</span> defender.get(<span class="st">'resistance'</span>, <span class="dv">0</span>) <span class="op">/</span> <span class="dv">100</span></span>
<span id="cb43-58"><a href="#cb43-58" aria-hidden="true" tabindex="-1"></a>        damage <span class="op">=</span> <span class="bu">int</span>(damage <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> <span class="bu">min</span>(<span class="fl">0.75</span>, resistance)))</span>
<span id="cb43-59"><a href="#cb43-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-60"><a href="#cb43-60" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create result message</span></span>
<span id="cb43-61"><a href="#cb43-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> is_critical:</span>
<span id="cb43-62"><a href="#cb43-62" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> <span class="st">"Critical hit! "</span></span>
<span id="cb43-63"><a href="#cb43-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb43-64"><a href="#cb43-64" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> <span class="st">""</span></span>
<span id="cb43-65"><a href="#cb43-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-66"><a href="#cb43-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> attack_type <span class="op">==</span> <span class="st">"special"</span>:</span>
<span id="cb43-67"><a href="#cb43-67" aria-hidden="true" tabindex="-1"></a>        message <span class="op">+=</span> <span class="ss">f"Special attack deals </span><span class="sc">{</span>damage<span class="sc">}</span><span class="ss"> damage!"</span></span>
<span id="cb43-68"><a href="#cb43-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb43-69"><a href="#cb43-69" aria-hidden="true" tabindex="-1"></a>        message <span class="op">+=</span> <span class="ss">f"The attack deals </span><span class="sc">{</span>damage<span class="sc">}</span><span class="ss"> damage."</span></span>
<span id="cb43-70"><a href="#cb43-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-71"><a href="#cb43-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb43-72"><a href="#cb43-72" aria-hidden="true" tabindex="-1"></a>        <span class="st">'damage'</span>: damage,</span>
<span id="cb43-73"><a href="#cb43-73" aria-hidden="true" tabindex="-1"></a>        <span class="st">'critical'</span>: is_critical,</span>
<span id="cb43-74"><a href="#cb43-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">'hit'</span>: <span class="va">True</span>,</span>
<span id="cb43-75"><a href="#cb43-75" aria-hidden="true" tabindex="-1"></a>        <span class="st">'message'</span>: message</span>
<span id="cb43-76"><a href="#cb43-76" aria-hidden="true" tabindex="-1"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>These examples demonstrate how functions in real-world applications handle multiple parameters, process complex logic, implement validation, and return structured results. Notice how each function:</p>
<ol type="1">
<li>Has clear documentation</li>
<li>Validates inputs</li>
<li>Has sensible defaults for optional parameters</li>
<li>Returns structured data with multiple pieces of information</li>
<li>Maintains a single responsibility despite complex internal logic</li>
</ol>
</section>
</section>
<section id="self-assessment-quiz" class="level2" data-number="11.13">
<h2 data-number="11.13" class="anchored" data-anchor-id="self-assessment-quiz"><span class="header-section-number">11.13</span> 11. Self-Assessment Quiz</h2>
<p>Test your understanding of Python function creation:</p>
<ol type="1">
<li>What is the correct syntax for defining a function that takes a parameter?
<ol type="a">
<li><code>function my_func(param):</code></li>
<li><code>def my_func[param]:</code></li>
<li><code>def my_func(param):</code></li>
<li><code>new my_func(param):</code></li>
</ol></li>
<li>What happens if a function doesn’t include a <code>return</code> statement?
<ol type="a">
<li>The function returns the value of the last expression</li>
<li>The function returns <code>False</code></li>
<li>The function returns <code>None</code></li>
<li>The function raises an error</li>
</ol></li>
<li>If a function has a parameter with a default value, where must it be placed?
<ol type="a">
<li>It must be the first parameter</li>
<li>It must be after all parameters without default values</li>
<li>It can be placed anywhere in the parameter list</li>
<li>Default values are not allowed in function parameters</li>
</ol></li>
<li>What does the term “function scope” refer to?
<ol type="a">
<li>The range of values a function can return</li>
<li>The visibility and lifetime of variables within a function</li>
<li>The number of parameters a function can accept</li>
<li>The performance characteristics of a function</li>
</ol></li>
<li>Which of the following is the best practice for function design?
<ol type="a">
<li>Creating functions with as many features as possible</li>
<li>Using global variables for communication between functions</li>
<li>Having functions perform a single, well-defined task</li>
<li>Minimizing the number of functions in your program</li>
</ol></li>
<li>What is a “docstring” in a Python function?
<ol type="a">
<li>A special comment that becomes part of the function’s help documentation</li>
<li>A mandatory error message for when the function fails</li>
<li>A type of return value</li>
<li>A system for categorizing functions</li>
</ol></li>
<li>When is it appropriate to use default parameter values?
<ol type="a">
<li>Never, they make functions confusing</li>
<li>For parameters that are commonly passed the same value</li>
<li>Only for numeric parameters</li>
<li>Only when the function has exactly one parameter</li>
</ol></li>
<li>What happens to local variables when a function finishes execution?
<ol type="a">
<li>They remain in memory permanently</li>
<li>They are destroyed and their memory is reclaimed</li>
<li>They become global variables</li>
<li>They are saved to disk</li>
</ol></li>
</ol>
<p><strong>Answers:</strong> 1. c) <code>def my_func(param):</code> - This is the correct Python syntax for function definition 2. c) The function returns <code>None</code> - Python implicitly returns None if no return statement is provided 3. b) It must be after all parameters without default values - Python requires default parameters to come after non-default ones 4. b) The visibility and lifetime of variables within a function - Scope determines where variables can be accessed 5. c) Having functions perform a single, well-defined task - The single responsibility principle 6. a) A special comment that becomes part of the function’s help documentation - Docstrings document function purpose and usage 7. b) For parameters that are commonly passed the same value - Default values reduce repetition for common cases 8. b) They are destroyed and their memory is reclaimed - Local variables only exist during function execution</p>
</section>
<section id="try-it-yourself-function-design-exercises" class="level2" data-number="11.14">
<h2 data-number="11.14" class="anchored" data-anchor-id="try-it-yourself-function-design-exercises"><span class="header-section-number">11.14</span> 12. Try It Yourself: Function Design Exercises</h2>
<p>Practice your function design skills with these exercises:</p>
<section id="exercise-1-basic-function-creation" class="level3" data-number="11.14.1">
<h3 data-number="11.14.1" class="anchored" data-anchor-id="exercise-1-basic-function-creation"><span class="header-section-number">11.14.1</span> Exercise 1: Basic Function Creation</h3>
<p>Create a function called <code>temperature_converter</code> that: - Takes a temperature value and conversion direction (‘C_to_F’ or ‘F_to_C’) - Performs the appropriate conversion - Returns the converted temperature with appropriate unit label - Validates that inputs are numeric and the direction is valid - Includes a proper docstring</p>
</section>
<section id="exercise-2-text-analysis-functions" class="level3" data-number="11.14.2">
<h3 data-number="11.14.2" class="anchored" data-anchor-id="exercise-2-text-analysis-functions"><span class="header-section-number">11.14.2</span> Exercise 2: Text Analysis Functions</h3>
<p>Create a set of text analysis functions: 1. <code>count_words(text)</code> - Counts the number of words in a text 2. <code>count_characters(text, include_spaces=False)</code> - Counts characters 3. <code>find_most_common_word(text)</code> - Finds the most frequently used word 4. <code>text_statistics(text)</code> - Returns a dictionary with all the above statistics</p>
<p>Ensure each function has proper validation, docstrings, and error handling.</p>
</section>
<section id="exercise-3-chatbot-extension" class="level3" data-number="11.14.3">
<h3 data-number="11.14.3" class="anchored" data-anchor-id="exercise-3-chatbot-extension"><span class="header-section-number">11.14.3</span> Exercise 3: Chatbot Extension</h3>
<p>Extend the chatbot from the Project Corner with these new functions: 1. <code>get_time_based_greeting()</code> - Returns a greeting based on the time of day 2. <code>remember_topic(topic)</code> - Stores a topic the user mentioned 3. <code>recall_topics()</code> - Returns previously discussed topics 4. <code>generate_farewell(user_name)</code> - Creates a personalized goodbye message Integrate these functions into the chatbot’s main loop.</p>
</section>
<section id="exercise-4-game-score-calculator" class="level3" data-number="11.14.4">
<h3 data-number="11.14.4" class="anchored" data-anchor-id="exercise-4-game-score-calculator"><span class="header-section-number">11.14.4</span> Exercise 4: Game Score Calculator</h3>
<p>Create a function that calculates a game score: - Takes player actions (hits, misses, bonuses) as parameters - Calculates a score based on a formula you design - Includes optional difficulty multiplier parameter - Validates all inputs - Returns both the score and performance category (e.g., “Beginner”, “Expert”)</p>
</section>
<section id="exercise-5-function-library" class="level3" data-number="11.14.5">
<h3 data-number="11.14.5" class="anchored" data-anchor-id="exercise-5-function-library"><span class="header-section-number">11.14.5</span> Exercise 5: Function Library</h3>
<p>Create a small library of related functions for managing a to-do list: 1. <code>add_task(task_list, task_description, due_date=None, priority=None)</code> 2. <code>remove_task(task_list, task_index)</code> 3. <code>mark_complete(task_list, task_index)</code> 4. <code>get_pending_tasks(task_list)</code> 5. <code>get_task_summary(task_list)</code> Ensure the functions work together cohesively and follow good design practices.</p>
</section>
</section>
<section id="cross-references" class="level2" data-number="11.15">
<h2 data-number="11.15" class="anchored" data-anchor-id="cross-references"><span class="header-section-number">11.15</span> 13. Cross-References</h2>
<ul>
<li><strong>Previous Chapter</strong>: <a href="08_functions.qmd">Functions</a> — Learn how to use built-in and library functions</li>
<li><strong>Next Chapter</strong>: <a href="../chapters/10_making_decisions.html">Making Decisions</a> — Control program flow with if statements</li>
<li><strong>Related Topic</strong>: <a href="../chapters/19_modules_and_packages.html">Modules and Packages</a> — Organize your functions into reusable modules</li>
<li><strong>Project Connection</strong>: <a href="../chapters/18_testing.html">Testing</a> — Learn how to verify your functions work correctly</li>
<li><strong>Advanced Application</strong>: <a href="../chapters/20_orientating_your_objects.html">Object-Oriented Programming</a> — Combine functions and data into classes</li>
</ul>
</section>
<section id="summary" class="level2" data-number="11.16">
<h2 data-number="11.16" class="anchored" data-anchor-id="summary"><span class="header-section-number">11.16</span> 14. Summary</h2>
<p>In this chapter, you’ve learned the essential skills for creating your own custom functions in Python:</p>
<ul>
<li>Using the <code>def</code> keyword to define functions</li>
<li>Creating flexible functions with parameters and default values</li>
<li>Returning results from functions with the <code>return</code> statement</li>
<li>Understanding variable scope and lifetime within functions</li>
<li>Applying function design best practices</li>
<li>Structuring your chatbot with modular, well-designed functions</li>
</ul>
<p>Functions transform how you approach programming problems, allowing you to: - Break complex problems into manageable pieces - Create reusable solutions that eliminate redundancy - Make your code more readable and maintainable - Collaborate more effectively by defining clear interfaces</p>
<p>For our chatbot project, you’ve implemented a modular structure that separates concerns into individual functions. This approach makes your code easier to understand, debug, and extend. As we progress through the book, you’ll continue to refine these functions and add new capabilities.</p>
<p>Custom functions are one of the most powerful tools in programming. They allow you to create your own abstractions and define your own vocabulary for solving problems. By mastering function creation, you’ve taken a major step toward thinking like a programmer and building more sophisticated applications.</p>
<p>In the next chapter, we’ll explore how to make decisions in your code using conditional statements, which will further enhance your chatbot’s ability to respond intelligently to different situations.</p>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/08_using_functions.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Function Fiesta: Using Python’s Pre-built Code Blocks</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/10_making_decisions.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Decision Director: Guiding Your Program’s Path with If Statements</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb44" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Function Factory: Crafting Your Own Reusable Code Magic"</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># Chapter 9: Creating Functions - Build Your Own Python Tools</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">## Chapter Outline</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Understanding the importance of custom functions</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The function definition syntax and best practices</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Working with parameters and arguments effectively</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Return values and how to use them</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Understanding variable scope and lifetime</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Designing functions for reusability and maintainability</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using functions to structure your chatbot project</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## Learning Objectives</span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>By the end of this chapter, you will be able to:</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create well-designed Python functions using the <span class="in">`def`</span> keyword</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Implement functions with flexible parameter structures</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Return and process values from functions</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Understand and work within function scope rules</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Apply best practices for function design</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Structure your chatbot project using custom functions</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Debug and refine your functions</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1. Introduction: Function Creation as a Superpower</span></span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>In the previous chapter, we learned how to use built-in and library functions. Now, we'll unlock one of Python's most powerful features: the ability to create your own custom functions. This is where programming truly becomes creative – you're no longer limited to what others have built; you can craft tools perfectly tailored to your specific needs.</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a>Creating functions is like gaining a superpower that allows you to:</span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Organize** your code into logical, self-contained units</span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Reuse** code without copying and pasting (DRY - Don't Repeat Yourself)</span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Abstract** complex operations behind simple interfaces</span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Focus** on one problem at a time</span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Test** discrete pieces of functionality</span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Collaborate** by defining clear boundaries in code</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **Key Concept**: Functions transform programming from writing sequential instructions to designing components that work together. This "modular" approach is how all sophisticated software is built, from web browsers to AI systems.</span></span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>For our chatbot project, custom functions will take us from a linear script to a well-structured program that's easier to understand, debug, and extend. Creating functions is the first step toward proper software architecture.</span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2. Function Definition: The Building Blocks</span></span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>A function in Python consists of a **header** (the definition line) and a **body** (the indented code block that follows):</span>
<span id="cb44-47"><a href="#cb44-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-48"><a href="#cb44-48" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-49"><a href="#cb44-49" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function_name(parameters):</span>
<span id="cb44-50"><a href="#cb44-50" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Docstring: explains what the function does."""</span></span>
<span id="cb44-51"><a href="#cb44-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Function body - indented code</span></span>
<span id="cb44-52"><a href="#cb44-52" aria-hidden="true" tabindex="-1"></a>    <span class="co"># that runs when the function is called</span></span>
<span id="cb44-53"><a href="#cb44-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result  <span class="co"># Optional return statement</span></span>
<span id="cb44-54"><a href="#cb44-54" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-55"><a href="#cb44-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-56"><a href="#cb44-56" aria-hidden="true" tabindex="-1"></a>Let's break down each component:</span>
<span id="cb44-57"><a href="#cb44-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-58"><a href="#cb44-58" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`def`</span>: The keyword that tells Python you're defining a function</span>
<span id="cb44-59"><a href="#cb44-59" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`function_name`</span>: A name you choose (following variable naming conventions)</span>
<span id="cb44-60"><a href="#cb44-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`parameters`</span>: Optional inputs the function can accept (in parentheses)</span>
<span id="cb44-61"><a href="#cb44-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`docstring`</span>: Optional (but recommended) documentation in triple quotes</span>
<span id="cb44-62"><a href="#cb44-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Function body: The indented code block that executes when called</span>
<span id="cb44-63"><a href="#cb44-63" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`return`</span>: Optional statement to send a value back to the caller</span>
<span id="cb44-64"><a href="#cb44-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-65"><a href="#cb44-65" aria-hidden="true" tabindex="-1"></a>Here's a simple example:</span>
<span id="cb44-66"><a href="#cb44-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-67"><a href="#cb44-67" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-68"><a href="#cb44-68" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet():</span>
<span id="cb44-69"><a href="#cb44-69" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Display a simple greeting."""</span></span>
<span id="cb44-70"><a href="#cb44-70" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hello, world!"</span>)</span>
<span id="cb44-71"><a href="#cb44-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-72"><a href="#cb44-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Calling the function</span></span>
<span id="cb44-73"><a href="#cb44-73" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Output: Hello, world!</span></span>
<span id="cb44-74"><a href="#cb44-74" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-75"><a href="#cb44-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-76"><a href="#cb44-76" aria-hidden="true" tabindex="-1"></a>Every time you call the function, its code executes:</span>
<span id="cb44-77"><a href="#cb44-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-78"><a href="#cb44-78" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-79"><a href="#cb44-79" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Hello, world!</span></span>
<span id="cb44-80"><a href="#cb44-80" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Hello, world!</span></span>
<span id="cb44-81"><a href="#cb44-81" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Hello, world!</span></span>
<span id="cb44-82"><a href="#cb44-82" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-83"><a href="#cb44-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-84"><a href="#cb44-84" aria-hidden="true" tabindex="-1"></a><span class="fu">### Function Naming Best Practices</span></span>
<span id="cb44-85"><a href="#cb44-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-86"><a href="#cb44-86" aria-hidden="true" tabindex="-1"></a>Good function names are:</span>
<span id="cb44-87"><a href="#cb44-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-88"><a href="#cb44-88" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Descriptive** of what the function does</span>
<span id="cb44-89"><a href="#cb44-89" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Verb-focused** since functions perform actions (e.g., <span class="in">`calculate_total`</span>, not just <span class="in">`total`</span>)</span>
<span id="cb44-90"><a href="#cb44-90" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Lowercase** with underscores between words (snake_case)</span>
<span id="cb44-91"><a href="#cb44-91" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Consistent** in style throughout your program</span>
<span id="cb44-92"><a href="#cb44-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-93"><a href="#cb44-93" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-94"><a href="#cb44-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Good function names</span></span>
<span id="cb44-95"><a href="#cb44-95" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_area(width, height):</span>
<span id="cb44-96"><a href="#cb44-96" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width <span class="op">*</span> height</span>
<span id="cb44-97"><a href="#cb44-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-98"><a href="#cb44-98" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_email(email):</span>
<span id="cb44-99"><a href="#cb44-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb44-100"><a href="#cb44-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-101"><a href="#cb44-101" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_choice():</span>
<span id="cb44-102"><a href="#cb44-102" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">input</span>(<span class="st">"Enter your choice: "</span>)</span>
<span id="cb44-103"><a href="#cb44-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-104"><a href="#cb44-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Less helpful function names</span></span>
<span id="cb44-105"><a href="#cb44-105" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calc(w, h):  <span class="co"># Too vague and abbreviated</span></span>
<span id="cb44-106"><a href="#cb44-106" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> w <span class="op">*</span> h</span>
<span id="cb44-107"><a href="#cb44-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-108"><a href="#cb44-108" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function1():  <span class="co"># Says nothing about purpose</span></span>
<span id="cb44-109"><a href="#cb44-109" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hello"</span>)</span>
<span id="cb44-110"><a href="#cb44-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-111"><a href="#cb44-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-112"><a href="#cb44-112" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3. Parameters and Arguments: Making Functions Flexible</span></span>
<span id="cb44-113"><a href="#cb44-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-114"><a href="#cb44-114" aria-hidden="true" tabindex="-1"></a>Parameters make functions adaptable by allowing them to work with different inputs each time they're called:</span>
<span id="cb44-115"><a href="#cb44-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-116"><a href="#cb44-116" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-117"><a href="#cb44-117" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb44-118"><a href="#cb44-118" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Greet a person by name."""</span></span>
<span id="cb44-119"><a href="#cb44-119" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-120"><a href="#cb44-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-121"><a href="#cb44-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Calling with different arguments</span></span>
<span id="cb44-122"><a href="#cb44-122" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Alice"</span>)  <span class="co"># Output: Hello, Alice!</span></span>
<span id="cb44-123"><a href="#cb44-123" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Bob"</span>)    <span class="co"># Output: Hello, Bob!</span></span>
<span id="cb44-124"><a href="#cb44-124" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-125"><a href="#cb44-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-126"><a href="#cb44-126" aria-hidden="true" tabindex="-1"></a><span class="fu">### Required Parameters</span></span>
<span id="cb44-127"><a href="#cb44-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-128"><a href="#cb44-128" aria-hidden="true" tabindex="-1"></a>In the example above, <span class="in">`name`</span> is a required parameter. If you don't provide it, Python raises an error:</span>
<span id="cb44-129"><a href="#cb44-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-130"><a href="#cb44-130" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-131"><a href="#cb44-131" aria-hidden="true" tabindex="-1"></a>greet()  <span class="co"># Error: greet() missing 1 required positional argument: 'name'</span></span>
<span id="cb44-132"><a href="#cb44-132" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-133"><a href="#cb44-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-134"><a href="#cb44-134" aria-hidden="true" tabindex="-1"></a><span class="fu">### Multiple Parameters</span></span>
<span id="cb44-135"><a href="#cb44-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-136"><a href="#cb44-136" aria-hidden="true" tabindex="-1"></a>Functions can accept multiple parameters:</span>
<span id="cb44-137"><a href="#cb44-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-138"><a href="#cb44-138" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-139"><a href="#cb44-139" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_info(name, age, location):</span>
<span id="cb44-140"><a href="#cb44-140" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Display a person's information."""</span></span>
<span id="cb44-141"><a href="#cb44-141" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Name: </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-142"><a href="#cb44-142" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Age: </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-143"><a href="#cb44-143" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Location: </span><span class="sc">{</span>location<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-144"><a href="#cb44-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-145"><a href="#cb44-145" aria-hidden="true" tabindex="-1"></a><span class="co"># Call with multiple arguments</span></span>
<span id="cb44-146"><a href="#cb44-146" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">"Charlie"</span>, <span class="dv">25</span>, <span class="st">"San Francisco"</span>)</span>
<span id="cb44-147"><a href="#cb44-147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-148"><a href="#cb44-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-149"><a href="#cb44-149" aria-hidden="true" tabindex="-1"></a>When calling functions with multiple parameters, you must provide them in the correct order, or use named arguments:</span>
<span id="cb44-150"><a href="#cb44-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-151"><a href="#cb44-151" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-152"><a href="#cb44-152" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional arguments (order matters)</span></span>
<span id="cb44-153"><a href="#cb44-153" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">"Charlie"</span>, <span class="dv">25</span>, <span class="st">"San Francisco"</span>)</span>
<span id="cb44-154"><a href="#cb44-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-155"><a href="#cb44-155" aria-hidden="true" tabindex="-1"></a><span class="co"># Named arguments (order doesn't matter)</span></span>
<span id="cb44-156"><a href="#cb44-156" aria-hidden="true" tabindex="-1"></a>display_info(location<span class="op">=</span><span class="st">"San Francisco"</span>, name<span class="op">=</span><span class="st">"Charlie"</span>, age<span class="op">=</span><span class="dv">25</span>)</span>
<span id="cb44-157"><a href="#cb44-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-158"><a href="#cb44-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Mix of positional and named (positional must come first)</span></span>
<span id="cb44-159"><a href="#cb44-159" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">"Charlie"</span>, location<span class="op">=</span><span class="st">"San Francisco"</span>, age<span class="op">=</span><span class="dv">25</span>)</span>
<span id="cb44-160"><a href="#cb44-160" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-161"><a href="#cb44-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-162"><a href="#cb44-162" aria-hidden="true" tabindex="-1"></a><span class="fu">### Default Parameter Values</span></span>
<span id="cb44-163"><a href="#cb44-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-164"><a href="#cb44-164" aria-hidden="true" tabindex="-1"></a>You can make parameters optional by providing default values:</span>
<span id="cb44-165"><a href="#cb44-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-166"><a href="#cb44-166" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-167"><a href="#cb44-167" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name, greeting<span class="op">=</span><span class="st">"Hello"</span>):</span>
<span id="cb44-168"><a href="#cb44-168" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Greet a person with a customizable greeting."""</span></span>
<span id="cb44-169"><a href="#cb44-169" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>greeting<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-170"><a href="#cb44-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-171"><a href="#cb44-171" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the default greeting</span></span>
<span id="cb44-172"><a href="#cb44-172" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Diana"</span>)  <span class="co"># Output: Hello, Diana!</span></span>
<span id="cb44-173"><a href="#cb44-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-174"><a href="#cb44-174" aria-hidden="true" tabindex="-1"></a><span class="co"># Overriding the default</span></span>
<span id="cb44-175"><a href="#cb44-175" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Edward"</span>, <span class="st">"Good morning"</span>)  <span class="co"># Output: Good morning, Edward!</span></span>
<span id="cb44-176"><a href="#cb44-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-177"><a href="#cb44-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-178"><a href="#cb44-178" aria-hidden="true" tabindex="-1"></a>Default parameters must come after non-default parameters:</span>
<span id="cb44-179"><a href="#cb44-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-180"><a href="#cb44-180" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-181"><a href="#cb44-181" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct: default parameter after required parameter</span></span>
<span id="cb44-182"><a href="#cb44-182" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function(required, optional<span class="op">=</span><span class="st">"default"</span>):</span>
<span id="cb44-183"><a href="#cb44-183" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-184"><a href="#cb44-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-185"><a href="#cb44-185" aria-hidden="true" tabindex="-1"></a><span class="co"># Incorrect: default parameter before required parameter</span></span>
<span id="cb44-186"><a href="#cb44-186" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> function(optional<span class="op">=</span><span class="st">"default"</span>, required):  <span class="co"># SyntaxError</span></span>
<span id="cb44-187"><a href="#cb44-187" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-188"><a href="#cb44-188" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-189"><a href="#cb44-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-190"><a href="#cb44-190" aria-hidden="true" tabindex="-1"></a><span class="fu">### Parameter Types and Docstrings</span></span>
<span id="cb44-191"><a href="#cb44-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-192"><a href="#cb44-192" aria-hidden="true" tabindex="-1"></a>Good practice includes documenting the expected types and purpose of parameters:</span>
<span id="cb44-193"><a href="#cb44-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-194"><a href="#cb44-194" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-195"><a href="#cb44-195" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_total(price, quantity, tax_rate<span class="op">=</span><span class="fl">0.08</span>):</span>
<span id="cb44-196"><a href="#cb44-196" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-197"><a href="#cb44-197" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate the total cost including tax.</span></span>
<span id="cb44-198"><a href="#cb44-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-199"><a href="#cb44-199" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-200"><a href="#cb44-200" aria-hidden="true" tabindex="-1"></a><span class="co">        price (float): The price per item</span></span>
<span id="cb44-201"><a href="#cb44-201" aria-hidden="true" tabindex="-1"></a><span class="co">        quantity (int): The number of items</span></span>
<span id="cb44-202"><a href="#cb44-202" aria-hidden="true" tabindex="-1"></a><span class="co">        tax_rate (float, optional): The tax rate as a decimal. Defaults to 0.08.</span></span>
<span id="cb44-203"><a href="#cb44-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-204"><a href="#cb44-204" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-205"><a href="#cb44-205" aria-hidden="true" tabindex="-1"></a><span class="co">        float: The total cost including tax</span></span>
<span id="cb44-206"><a href="#cb44-206" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-207"><a href="#cb44-207" aria-hidden="true" tabindex="-1"></a>    subtotal <span class="op">=</span> price <span class="op">*</span> quantity</span>
<span id="cb44-208"><a href="#cb44-208" aria-hidden="true" tabindex="-1"></a>    tax <span class="op">=</span> subtotal <span class="op">*</span> tax_rate</span>
<span id="cb44-209"><a href="#cb44-209" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> subtotal <span class="op">+</span> tax</span>
<span id="cb44-210"><a href="#cb44-210" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-211"><a href="#cb44-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-212"><a href="#cb44-212" aria-hidden="true" tabindex="-1"></a>This documentation helps other developers (and future you) understand how to use the function correctly.</span>
<span id="cb44-213"><a href="#cb44-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-214"><a href="#cb44-214" aria-hidden="true" tabindex="-1"></a><span class="fu">## 4. Return Values: Getting Results from Functions</span></span>
<span id="cb44-215"><a href="#cb44-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-216"><a href="#cb44-216" aria-hidden="true" tabindex="-1"></a>Functions can send data back to the caller using the <span class="in">`return`</span> statement:</span>
<span id="cb44-217"><a href="#cb44-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-218"><a href="#cb44-218" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-219"><a href="#cb44-219" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb44-220"><a href="#cb44-220" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Add two numbers and return the result."""</span></span>
<span id="cb44-221"><a href="#cb44-221" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb44-222"><a href="#cb44-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-223"><a href="#cb44-223" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the return value</span></span>
<span id="cb44-224"><a href="#cb44-224" aria-hidden="true" tabindex="-1"></a>sum_result <span class="op">=</span> add(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb44-225"><a href="#cb44-225" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sum_result)  <span class="co"># Output: 8</span></span>
<span id="cb44-226"><a href="#cb44-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-227"><a href="#cb44-227" aria-hidden="true" tabindex="-1"></a><span class="co"># Using the return value directly in an expression</span></span>
<span id="cb44-228"><a href="#cb44-228" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> add(<span class="dv">5</span>, <span class="dv">3</span>) <span class="op">+</span> add(<span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb44-229"><a href="#cb44-229" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total)  <span class="co"># Output: 11</span></span>
<span id="cb44-230"><a href="#cb44-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-231"><a href="#cb44-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-232"><a href="#cb44-232" aria-hidden="true" tabindex="-1"></a>The <span class="in">`return`</span> statement immediately exits the function and sends the specified value back:</span>
<span id="cb44-233"><a href="#cb44-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-234"><a href="#cb44-234" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-235"><a href="#cb44-235" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> absolute_value(number):</span>
<span id="cb44-236"><a href="#cb44-236" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return the absolute value of a number."""</span></span>
<span id="cb44-237"><a href="#cb44-237" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> number <span class="op">&gt;=</span> <span class="dv">0</span>:</span>
<span id="cb44-238"><a href="#cb44-238" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> number  <span class="co"># Function ends here if number is positive</span></span>
<span id="cb44-239"><a href="#cb44-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-240"><a href="#cb44-240" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This code only runs if the number is negative</span></span>
<span id="cb44-241"><a href="#cb44-241" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">-</span>number</span>
<span id="cb44-242"><a href="#cb44-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-243"><a href="#cb44-243" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(absolute_value(<span class="dv">5</span>))    <span class="co"># Output: 5</span></span>
<span id="cb44-244"><a href="#cb44-244" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(absolute_value(<span class="op">-</span><span class="dv">10</span>))  <span class="co"># Output: 10</span></span>
<span id="cb44-245"><a href="#cb44-245" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-246"><a href="#cb44-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-247"><a href="#cb44-247" aria-hidden="true" tabindex="-1"></a><span class="fu">### Returning Multiple Values</span></span>
<span id="cb44-248"><a href="#cb44-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-249"><a href="#cb44-249" aria-hidden="true" tabindex="-1"></a>Python functions can return multiple values using tuples:</span>
<span id="cb44-250"><a href="#cb44-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-251"><a href="#cb44-251" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-252"><a href="#cb44-252" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_dimensions():</span>
<span id="cb44-253"><a href="#cb44-253" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Return width and height."""</span></span>
<span id="cb44-254"><a href="#cb44-254" aria-hidden="true" tabindex="-1"></a>    width <span class="op">=</span> <span class="dv">800</span></span>
<span id="cb44-255"><a href="#cb44-255" aria-hidden="true" tabindex="-1"></a>    height <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb44-256"><a href="#cb44-256" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width, height  <span class="co"># Returns a tuple (800, 600)</span></span>
<span id="cb44-257"><a href="#cb44-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-258"><a href="#cb44-258" aria-hidden="true" tabindex="-1"></a><span class="co"># Unpacking the returned tuple</span></span>
<span id="cb44-259"><a href="#cb44-259" aria-hidden="true" tabindex="-1"></a>screen_width, screen_height <span class="op">=</span> get_dimensions()</span>
<span id="cb44-260"><a href="#cb44-260" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Width: </span><span class="sc">{</span>screen_width<span class="sc">}</span><span class="ss">, Height: </span><span class="sc">{</span>screen_height<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-261"><a href="#cb44-261" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-262"><a href="#cb44-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-263"><a href="#cb44-263" aria-hidden="true" tabindex="-1"></a><span class="fu">### No Return Statement</span></span>
<span id="cb44-264"><a href="#cb44-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-265"><a href="#cb44-265" aria-hidden="true" tabindex="-1"></a>If a function doesn't include a <span class="in">`return`</span> statement, Python implicitly returns <span class="in">`None`</span>:</span>
<span id="cb44-266"><a href="#cb44-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-267"><a href="#cb44-267" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-268"><a href="#cb44-268" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb44-269"><a href="#cb44-269" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Greet a person by name."""</span></span>
<span id="cb44-270"><a href="#cb44-270" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-271"><a href="#cb44-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-272"><a href="#cb44-272" aria-hidden="true" tabindex="-1"></a><span class="co"># This function doesn't explicitly return anything</span></span>
<span id="cb44-273"><a href="#cb44-273" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> greet(<span class="st">"Frank"</span>)</span>
<span id="cb44-274"><a href="#cb44-274" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)  <span class="co"># Output: None</span></span>
<span id="cb44-275"><a href="#cb44-275" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-276"><a href="#cb44-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-277"><a href="#cb44-277" aria-hidden="true" tabindex="-1"></a>This behavior explains why <span class="in">`print()`</span> doesn't appear to return anything - it's returning <span class="in">`None`</span> after displaying output.</span>
<span id="cb44-278"><a href="#cb44-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-279"><a href="#cb44-279" aria-hidden="true" tabindex="-1"></a><span class="fu">### Return Early for Validation</span></span>
<span id="cb44-280"><a href="#cb44-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-281"><a href="#cb44-281" aria-hidden="true" tabindex="-1"></a>Returning early is useful for validation:</span>
<span id="cb44-282"><a href="#cb44-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-283"><a href="#cb44-283" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-284"><a href="#cb44-284" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> divide(a, b):</span>
<span id="cb44-285"><a href="#cb44-285" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Divide a by b, with validation."""</span></span>
<span id="cb44-286"><a href="#cb44-286" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate input first</span></span>
<span id="cb44-287"><a href="#cb44-287" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb44-288"><a href="#cb44-288" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Error: Cannot divide by zero"</span>)</span>
<span id="cb44-289"><a href="#cb44-289" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>  <span class="co"># Return early on invalid input</span></span>
<span id="cb44-290"><a href="#cb44-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-291"><a href="#cb44-291" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Only execute if validation passed</span></span>
<span id="cb44-292"><a href="#cb44-292" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="cb44-293"><a href="#cb44-293" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-294"><a href="#cb44-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-295"><a href="#cb44-295" aria-hidden="true" tabindex="-1"></a><span class="fu">## 5. Variable Scope: Understanding Where Variables Live</span></span>
<span id="cb44-296"><a href="#cb44-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-297"><a href="#cb44-297" aria-hidden="true" tabindex="-1"></a>When you create a variable inside a function, it only exists within that function. This is called "local scope":</span>
<span id="cb44-298"><a href="#cb44-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-299"><a href="#cb44-299" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-300"><a href="#cb44-300" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> show_local():</span>
<span id="cb44-301"><a href="#cb44-301" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Demonstrate local variable scope."""</span></span>
<span id="cb44-302"><a href="#cb44-302" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This variable only exists inside this function</span></span>
<span id="cb44-303"><a href="#cb44-303" aria-hidden="true" tabindex="-1"></a>    message <span class="op">=</span> <span class="st">"I'm a local variable"</span></span>
<span id="cb44-304"><a href="#cb44-304" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(message)</span>
<span id="cb44-305"><a href="#cb44-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-306"><a href="#cb44-306" aria-hidden="true" tabindex="-1"></a>show_local()  <span class="co"># Output: I'm a local variable</span></span>
<span id="cb44-307"><a href="#cb44-307" aria-hidden="true" tabindex="-1"></a><span class="co"># print(message)  # Error: name 'message' is not defined</span></span>
<span id="cb44-308"><a href="#cb44-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-309"><a href="#cb44-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-310"><a href="#cb44-310" aria-hidden="true" tabindex="-1"></a>Parameters are also local variables:</span>
<span id="cb44-311"><a href="#cb44-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-312"><a href="#cb44-312" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-313"><a href="#cb44-313" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> double(number):  <span class="co"># 'number' is a local variable</span></span>
<span id="cb44-314"><a href="#cb44-314" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> number <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb44-315"><a href="#cb44-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-316"><a href="#cb44-316" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> double(<span class="dv">5</span>)</span>
<span id="cb44-317"><a href="#cb44-317" aria-hidden="true" tabindex="-1"></a><span class="co"># print(number)  # Error: 'number' doesn't exist outside the function</span></span>
<span id="cb44-318"><a href="#cb44-318" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-319"><a href="#cb44-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-320"><a href="#cb44-320" aria-hidden="true" tabindex="-1"></a><span class="fu">### Local vs. Global Scope</span></span>
<span id="cb44-321"><a href="#cb44-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-322"><a href="#cb44-322" aria-hidden="true" tabindex="-1"></a>Variables defined outside any function have "global scope" and can be accessed (but not modified) inside functions:</span>
<span id="cb44-323"><a href="#cb44-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-324"><a href="#cb44-324" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-325"><a href="#cb44-325" aria-hidden="true" tabindex="-1"></a><span class="co"># Global variable</span></span>
<span id="cb44-326"><a href="#cb44-326" aria-hidden="true" tabindex="-1"></a>counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-327"><a href="#cb44-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-328"><a href="#cb44-328" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> increment():</span>
<span id="cb44-329"><a href="#cb44-329" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Try to increment the counter."""</span></span>
<span id="cb44-330"><a href="#cb44-330" aria-hidden="true" tabindex="-1"></a>    <span class="co"># This creates a new local variable, not modifying the global one</span></span>
<span id="cb44-331"><a href="#cb44-331" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> counter <span class="op">+</span> <span class="dv">1</span>  <span class="co"># UnboundLocalError</span></span>
<span id="cb44-332"><a href="#cb44-332" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> counter</span>
<span id="cb44-333"><a href="#cb44-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-334"><a href="#cb44-334" aria-hidden="true" tabindex="-1"></a><span class="co"># To modify a global variable:</span></span>
<span id="cb44-335"><a href="#cb44-335" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> correct_increment():</span>
<span id="cb44-336"><a href="#cb44-336" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Increment the global counter."""</span></span>
<span id="cb44-337"><a href="#cb44-337" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> counter  <span class="co"># Declare that we want to use the global variable</span></span>
<span id="cb44-338"><a href="#cb44-338" aria-hidden="true" tabindex="-1"></a>    counter <span class="op">=</span> counter <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb44-339"><a href="#cb44-339" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> counter</span>
<span id="cb44-340"><a href="#cb44-340" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-341"><a href="#cb44-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-342"><a href="#cb44-342" aria-hidden="true" tabindex="-1"></a>However, it's generally better practice to pass values as parameters and return results, rather than relying on global variables:</span>
<span id="cb44-343"><a href="#cb44-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-344"><a href="#cb44-344" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-345"><a href="#cb44-345" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb44-346"><a href="#cb44-346" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> increment(value):</span>
<span id="cb44-347"><a href="#cb44-347" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Increment the given value."""</span></span>
<span id="cb44-348"><a href="#cb44-348" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb44-349"><a href="#cb44-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-350"><a href="#cb44-350" aria-hidden="true" tabindex="-1"></a>counter <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-351"><a href="#cb44-351" aria-hidden="true" tabindex="-1"></a>counter <span class="op">=</span> increment(counter)  <span class="co"># counter becomes 1</span></span>
<span id="cb44-352"><a href="#cb44-352" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-353"><a href="#cb44-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-354"><a href="#cb44-354" aria-hidden="true" tabindex="-1"></a><span class="fu">### Variable Lifetime</span></span>
<span id="cb44-355"><a href="#cb44-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-356"><a href="#cb44-356" aria-hidden="true" tabindex="-1"></a>Local variables are created when the function is called and destroyed when it returns:</span>
<span id="cb44-357"><a href="#cb44-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-358"><a href="#cb44-358" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-359"><a href="#cb44-359" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data():</span>
<span id="cb44-360"><a href="#cb44-360" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> <span class="dv">100</span>  <span class="co"># Created when function starts</span></span>
<span id="cb44-361"><a href="#cb44-361" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing at </span><span class="sc">{</span>temp<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-362"><a href="#cb44-362" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'temp' is destroyed when function ends</span></span>
<span id="cb44-363"><a href="#cb44-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-364"><a href="#cb44-364" aria-hidden="true" tabindex="-1"></a>process_data()</span>
<span id="cb44-365"><a href="#cb44-365" aria-hidden="true" tabindex="-1"></a>process_data()  <span class="co"># Creates a fresh 'temp' variable</span></span>
<span id="cb44-366"><a href="#cb44-366" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-367"><a href="#cb44-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-368"><a href="#cb44-368" aria-hidden="true" tabindex="-1"></a>This explains why functions don't "remember" values from previous calls unless you use global variables or other techniques we'll learn later.</span>
<span id="cb44-369"><a href="#cb44-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-370"><a href="#cb44-370" aria-hidden="true" tabindex="-1"></a><span class="fu">## 6. Designing Effective Functions</span></span>
<span id="cb44-371"><a href="#cb44-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-372"><a href="#cb44-372" aria-hidden="true" tabindex="-1"></a>Well-designed functions follow several principles:</span>
<span id="cb44-373"><a href="#cb44-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-374"><a href="#cb44-374" aria-hidden="true" tabindex="-1"></a><span class="fu">### 1. Single Responsibility Principle</span></span>
<span id="cb44-375"><a href="#cb44-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-376"><a href="#cb44-376" aria-hidden="true" tabindex="-1"></a>Each function should have one clear purpose:</span>
<span id="cb44-377"><a href="#cb44-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-378"><a href="#cb44-378" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-379"><a href="#cb44-379" aria-hidden="true" tabindex="-1"></a><span class="co"># Too many responsibilities</span></span>
<span id="cb44-380"><a href="#cb44-380" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_user(name):</span>
<span id="cb44-381"><a href="#cb44-381" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing user: </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-382"><a href="#cb44-382" aria-hidden="true" tabindex="-1"></a>    validate_email(<span class="ss">f"</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">@example.com"</span>)</span>
<span id="cb44-383"><a href="#cb44-383" aria-hidden="true" tabindex="-1"></a>    create_account(name)</span>
<span id="cb44-384"><a href="#cb44-384" aria-hidden="true" tabindex="-1"></a>    send_welcome_email(name)</span>
<span id="cb44-385"><a href="#cb44-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-386"><a href="#cb44-386" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: separate functions for each responsibility</span></span>
<span id="cb44-387"><a href="#cb44-387" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_user_email(email):</span>
<span id="cb44-388"><a href="#cb44-388" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Check if email is valid."""</span></span>
<span id="cb44-389"><a href="#cb44-389" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb44-390"><a href="#cb44-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-391"><a href="#cb44-391" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user_account(username):</span>
<span id="cb44-392"><a href="#cb44-392" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create account in the system."""</span></span>
<span id="cb44-393"><a href="#cb44-393" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Creating account for </span><span class="sc">{</span>username<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-394"><a href="#cb44-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-395"><a href="#cb44-395" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> send_welcome_email(email):</span>
<span id="cb44-396"><a href="#cb44-396" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Send welcome message to user."""</span></span>
<span id="cb44-397"><a href="#cb44-397" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Sending welcome email to </span><span class="sc">{</span>email<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-398"><a href="#cb44-398" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-399"><a href="#cb44-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-400"><a href="#cb44-400" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2. Keep Functions Short and Focused</span></span>
<span id="cb44-401"><a href="#cb44-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-402"><a href="#cb44-402" aria-hidden="true" tabindex="-1"></a>Aim for functions that fit on one screen (20-30 lines maximum):</span>
<span id="cb44-403"><a href="#cb44-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-404"><a href="#cb44-404" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-405"><a href="#cb44-405" aria-hidden="true" tabindex="-1"></a><span class="co"># Too long and complex</span></span>
<span id="cb44-406"><a href="#cb44-406" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> do_everything():</span>
<span id="cb44-407"><a href="#cb44-407" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 100 lines of code doing many different things</span></span>
<span id="cb44-408"><a href="#cb44-408" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-409"><a href="#cb44-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-410"><a href="#cb44-410" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: break into smaller functions</span></span>
<span id="cb44-411"><a href="#cb44-411" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_input():</span>
<span id="cb44-412"><a href="#cb44-412" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 10 lines of code</span></span>
<span id="cb44-413"><a href="#cb44-413" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-414"><a href="#cb44-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-415"><a href="#cb44-415" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_data():</span>
<span id="cb44-416"><a href="#cb44-416" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 15 lines of code</span></span>
<span id="cb44-417"><a href="#cb44-417" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-418"><a href="#cb44-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-419"><a href="#cb44-419" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_report():</span>
<span id="cb44-420"><a href="#cb44-420" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 20 lines of code</span></span>
<span id="cb44-421"><a href="#cb44-421" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-422"><a href="#cb44-422" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-423"><a href="#cb44-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-424"><a href="#cb44-424" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3. Use Descriptive Names and Documentation</span></span>
<span id="cb44-425"><a href="#cb44-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-426"><a href="#cb44-426" aria-hidden="true" tabindex="-1"></a>Make your functions self-documenting:</span>
<span id="cb44-427"><a href="#cb44-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-428"><a href="#cb44-428" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-429"><a href="#cb44-429" aria-hidden="true" tabindex="-1"></a><span class="co"># Unclear</span></span>
<span id="cb44-430"><a href="#cb44-430" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calc(a, b):</span>
<span id="cb44-431"><a href="#cb44-431" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span>
<span id="cb44-432"><a href="#cb44-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-433"><a href="#cb44-433" aria-hidden="true" tabindex="-1"></a><span class="co"># Better</span></span>
<span id="cb44-434"><a href="#cb44-434" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_rectangle_area(width, height):</span>
<span id="cb44-435"><a href="#cb44-435" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-436"><a href="#cb44-436" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate the area of a rectangle.</span></span>
<span id="cb44-437"><a href="#cb44-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-438"><a href="#cb44-438" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-439"><a href="#cb44-439" aria-hidden="true" tabindex="-1"></a><span class="co">        width (float): Width of the rectangle</span></span>
<span id="cb44-440"><a href="#cb44-440" aria-hidden="true" tabindex="-1"></a><span class="co">        height (float): Height of the rectangle</span></span>
<span id="cb44-441"><a href="#cb44-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-442"><a href="#cb44-442" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-443"><a href="#cb44-443" aria-hidden="true" tabindex="-1"></a><span class="co">        float: Area of the rectangle</span></span>
<span id="cb44-444"><a href="#cb44-444" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-445"><a href="#cb44-445" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> width <span class="op">*</span> height</span>
<span id="cb44-446"><a href="#cb44-446" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-447"><a href="#cb44-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-448"><a href="#cb44-448" aria-hidden="true" tabindex="-1"></a><span class="fu">### 4. Minimize Side Effects</span></span>
<span id="cb44-449"><a href="#cb44-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-450"><a href="#cb44-450" aria-hidden="true" tabindex="-1"></a>Functions should ideally return values rather than modifying global state:</span>
<span id="cb44-451"><a href="#cb44-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-452"><a href="#cb44-452" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-453"><a href="#cb44-453" aria-hidden="true" tabindex="-1"></a><span class="co"># Function with side effects</span></span>
<span id="cb44-454"><a href="#cb44-454" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-455"><a href="#cb44-455" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add_to_total(value):</span>
<span id="cb44-456"><a href="#cb44-456" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> total</span>
<span id="cb44-457"><a href="#cb44-457" aria-hidden="true" tabindex="-1"></a>    total <span class="op">+=</span> value</span>
<span id="cb44-458"><a href="#cb44-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-459"><a href="#cb44-459" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: pure function</span></span>
<span id="cb44-460"><a href="#cb44-460" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb44-461"><a href="#cb44-461" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb44-462"><a href="#cb44-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-463"><a href="#cb44-463" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> add(total, value)  <span class="co"># Explicit about what's changing</span></span>
<span id="cb44-464"><a href="#cb44-464" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-465"><a href="#cb44-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-466"><a href="#cb44-466" aria-hidden="true" tabindex="-1"></a><span class="fu">### 5. Error Handling</span></span>
<span id="cb44-467"><a href="#cb44-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-468"><a href="#cb44-468" aria-hidden="true" tabindex="-1"></a>Consider what happens when things go wrong:</span>
<span id="cb44-469"><a href="#cb44-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-470"><a href="#cb44-470" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-471"><a href="#cb44-471" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> divide(a, b):</span>
<span id="cb44-472"><a href="#cb44-472" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-473"><a href="#cb44-473" aria-hidden="true" tabindex="-1"></a><span class="co">    Divide a by b.</span></span>
<span id="cb44-474"><a href="#cb44-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-475"><a href="#cb44-475" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-476"><a href="#cb44-476" aria-hidden="true" tabindex="-1"></a><span class="co">        a (float): Numerator</span></span>
<span id="cb44-477"><a href="#cb44-477" aria-hidden="true" tabindex="-1"></a><span class="co">        b (float): Denominator (must be non-zero)</span></span>
<span id="cb44-478"><a href="#cb44-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-479"><a href="#cb44-479" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-480"><a href="#cb44-480" aria-hidden="true" tabindex="-1"></a><span class="co">        float: Result of a/b, or None if division by zero attempted</span></span>
<span id="cb44-481"><a href="#cb44-481" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-482"><a href="#cb44-482" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> b <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb44-483"><a href="#cb44-483" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Error: Cannot divide by zero"</span>)</span>
<span id="cb44-484"><a href="#cb44-484" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb44-485"><a href="#cb44-485" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">/</span> b</span>
<span id="cb44-486"><a href="#cb44-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-487"><a href="#cb44-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-488"><a href="#cb44-488" aria-hidden="true" tabindex="-1"></a><span class="fu">## 7. Project Corner: Structuring Your Chatbot with Functions</span></span>
<span id="cb44-489"><a href="#cb44-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-490"><a href="#cb44-490" aria-hidden="true" tabindex="-1"></a>Now let's apply these principles to enhance our chatbot project with well-designed functions. Previously, we had a simple script; now we'll organize it into modular, reusable components.</span>
<span id="cb44-491"><a href="#cb44-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-492"><a href="#cb44-492" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basic Function-Based Chatbot</span></span>
<span id="cb44-493"><a href="#cb44-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-494"><a href="#cb44-494" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-495"><a href="#cb44-495" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_response(user_input, user_name):</span>
<span id="cb44-496"><a href="#cb44-496" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-497"><a href="#cb44-497" aria-hidden="true" tabindex="-1"></a><span class="co">    Generate a response based on user input.</span></span>
<span id="cb44-498"><a href="#cb44-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-499"><a href="#cb44-499" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-500"><a href="#cb44-500" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input (str): The user's message</span></span>
<span id="cb44-501"><a href="#cb44-501" aria-hidden="true" tabindex="-1"></a><span class="co">        user_name (str): The user's name</span></span>
<span id="cb44-502"><a href="#cb44-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-503"><a href="#cb44-503" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-504"><a href="#cb44-504" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The chatbot's response</span></span>
<span id="cb44-505"><a href="#cb44-505" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-506"><a href="#cb44-506" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> user_input.lower()</span>
<span id="cb44-507"><a href="#cb44-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-508"><a href="#cb44-508" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"hello"</span> <span class="kw">in</span> user_input <span class="kw">or</span> <span class="st">"hi"</span> <span class="kw">in</span> user_input:</span>
<span id="cb44-509"><a href="#cb44-509" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Hello there, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb44-510"><a href="#cb44-510" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"how are you"</span> <span class="kw">in</span> user_input:</span>
<span id="cb44-511"><a href="#cb44-511" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"I'm just a computer program, but thanks for asking!"</span></span>
<span id="cb44-512"><a href="#cb44-512" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"your name"</span> <span class="kw">in</span> user_input:</span>
<span id="cb44-513"><a href="#cb44-513" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"My name is PyBot. I'm here to help you learn Python!"</span></span>
<span id="cb44-514"><a href="#cb44-514" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">"bye"</span> <span class="kw">in</span> user_input <span class="kw">or</span> <span class="st">"goodbye"</span> <span class="kw">in</span> user_input:</span>
<span id="cb44-515"><a href="#cb44-515" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">! Have a great day!"</span></span>
<span id="cb44-516"><a href="#cb44-516" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-517"><a href="#cb44-517" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"I'm not sure how to respond to that yet."</span></span>
<span id="cb44-518"><a href="#cb44-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-519"><a href="#cb44-519" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run_chatbot():</span>
<span id="cb44-520"><a href="#cb44-520" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Run the main chatbot interaction loop."""</span></span>
<span id="cb44-521"><a href="#cb44-521" aria-hidden="true" tabindex="-1"></a>    bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb44-522"><a href="#cb44-522" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello! I'm </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">. Type 'bye' to exit."</span>)</span>
<span id="cb44-523"><a href="#cb44-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-524"><a href="#cb44-524" aria-hidden="true" tabindex="-1"></a>    user_name <span class="op">=</span> <span class="bu">input</span>(<span class="st">"What's your name? "</span>)</span>
<span id="cb44-525"><a href="#cb44-525" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Nice to meet you, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-526"><a href="#cb44-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-527"><a href="#cb44-527" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb44-528"><a href="#cb44-528" aria-hidden="true" tabindex="-1"></a>        user_input <span class="op">=</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>)</span>
<span id="cb44-529"><a href="#cb44-529" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb44-530"><a href="#cb44-530" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-531"><a href="#cb44-531" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb44-532"><a href="#cb44-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-533"><a href="#cb44-533" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> get_response(user_input, user_name)</span>
<span id="cb44-534"><a href="#cb44-534" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-535"><a href="#cb44-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-536"><a href="#cb44-536" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the chatbot if this file is executed directly</span></span>
<span id="cb44-537"><a href="#cb44-537" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb44-538"><a href="#cb44-538" aria-hidden="true" tabindex="-1"></a>    run_chatbot()</span>
<span id="cb44-539"><a href="#cb44-539" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-540"><a href="#cb44-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-541"><a href="#cb44-541" aria-hidden="true" tabindex="-1"></a>This approach already improves our code by:</span>
<span id="cb44-542"><a href="#cb44-542" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Separating response generation into a dedicated function</span>
<span id="cb44-543"><a href="#cb44-543" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Adding proper documentation with docstrings</span>
<span id="cb44-544"><a href="#cb44-544" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Creating a main function that handles the chatbot loop</span>
<span id="cb44-545"><a href="#cb44-545" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using a conditional to only run the chatbot when the file is executed directly</span>
<span id="cb44-546"><a href="#cb44-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-547"><a href="#cb44-547" aria-hidden="true" tabindex="-1"></a><span class="fu">### Enhanced Modular Chatbot</span></span>
<span id="cb44-548"><a href="#cb44-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-549"><a href="#cb44-549" aria-hidden="true" tabindex="-1"></a>Let's take it further by adding more functions for specific tasks:</span>
<span id="cb44-550"><a href="#cb44-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-551"><a href="#cb44-551" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-552"><a href="#cb44-552" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_name():</span>
<span id="cb44-553"><a href="#cb44-553" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-554"><a href="#cb44-554" aria-hidden="true" tabindex="-1"></a><span class="co">    Get the user's name with basic validation.</span></span>
<span id="cb44-555"><a href="#cb44-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-556"><a href="#cb44-556" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-557"><a href="#cb44-557" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The user's name</span></span>
<span id="cb44-558"><a href="#cb44-558" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-559"><a href="#cb44-559" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb44-560"><a href="#cb44-560" aria-hidden="true" tabindex="-1"></a>        name <span class="op">=</span> <span class="bu">input</span>(<span class="st">"What's your name? "</span>).strip()</span>
<span id="cb44-561"><a href="#cb44-561" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> name:  <span class="co"># Check that name isn't empty</span></span>
<span id="cb44-562"><a href="#cb44-562" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> name</span>
<span id="cb44-563"><a href="#cb44-563" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"I didn't catch that. Please tell me your name."</span>)</span>
<span id="cb44-564"><a href="#cb44-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-565"><a href="#cb44-565" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_welcome(bot_name):</span>
<span id="cb44-566"><a href="#cb44-566" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-567"><a href="#cb44-567" aria-hidden="true" tabindex="-1"></a><span class="co">    Display the welcome message.</span></span>
<span id="cb44-568"><a href="#cb44-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-569"><a href="#cb44-569" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-570"><a href="#cb44-570" aria-hidden="true" tabindex="-1"></a><span class="co">        bot_name (str): The chatbot's name</span></span>
<span id="cb44-571"><a href="#cb44-571" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-572"><a href="#cb44-572" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span> <span class="op">+</span> <span class="st">"="</span> <span class="op">*</span> <span class="dv">50</span>)</span>
<span id="cb44-573"><a href="#cb44-573" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Welcome to </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-574"><a href="#cb44-574" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">50</span>)</span>
<span id="cb44-575"><a href="#cb44-575" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello! I'm </span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">, a simple chatbot."</span>)</span>
<span id="cb44-576"><a href="#cb44-576" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"I can help you learn about Python functions."</span>)</span>
<span id="cb44-577"><a href="#cb44-577" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Type 'bye' to exit, 'help' for commands.</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb44-578"><a href="#cb44-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-579"><a href="#cb44-579" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_user_input(user_name):</span>
<span id="cb44-580"><a href="#cb44-580" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-581"><a href="#cb44-581" aria-hidden="true" tabindex="-1"></a><span class="co">    Get input from the user with their name as prompt.</span></span>
<span id="cb44-582"><a href="#cb44-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-583"><a href="#cb44-583" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-584"><a href="#cb44-584" aria-hidden="true" tabindex="-1"></a><span class="co">        user_name (str): The user's name</span></span>
<span id="cb44-585"><a href="#cb44-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-586"><a href="#cb44-586" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-587"><a href="#cb44-587" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The user's input</span></span>
<span id="cb44-588"><a href="#cb44-588" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-589"><a href="#cb44-589" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">input</span>(<span class="ss">f"</span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">&gt; "</span>).strip()</span>
<span id="cb44-590"><a href="#cb44-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-591"><a href="#cb44-591" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_response(bot_name, response):</span>
<span id="cb44-592"><a href="#cb44-592" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-593"><a href="#cb44-593" aria-hidden="true" tabindex="-1"></a><span class="co">    Display the chatbot's response.</span></span>
<span id="cb44-594"><a href="#cb44-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-595"><a href="#cb44-595" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-596"><a href="#cb44-596" aria-hidden="true" tabindex="-1"></a><span class="co">        bot_name (str): The chatbot's name</span></span>
<span id="cb44-597"><a href="#cb44-597" aria-hidden="true" tabindex="-1"></a><span class="co">        response (str): The response to display</span></span>
<span id="cb44-598"><a href="#cb44-598" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-599"><a href="#cb44-599" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; </span><span class="sc">{</span>response<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb44-600"><a href="#cb44-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-601"><a href="#cb44-601" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_response(user_input, user_name):</span>
<span id="cb44-602"><a href="#cb44-602" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-603"><a href="#cb44-603" aria-hidden="true" tabindex="-1"></a><span class="co">    Generate a response based on user input.</span></span>
<span id="cb44-604"><a href="#cb44-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-605"><a href="#cb44-605" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-606"><a href="#cb44-606" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input (str): The user's message</span></span>
<span id="cb44-607"><a href="#cb44-607" aria-hidden="true" tabindex="-1"></a><span class="co">        user_name (str): The user's name</span></span>
<span id="cb44-608"><a href="#cb44-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-609"><a href="#cb44-609" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-610"><a href="#cb44-610" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The chatbot's response</span></span>
<span id="cb44-611"><a href="#cb44-611" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-612"><a href="#cb44-612" aria-hidden="true" tabindex="-1"></a>    user_input <span class="op">=</span> user_input.lower()</span>
<span id="cb44-613"><a href="#cb44-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-614"><a href="#cb44-614" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for specific commands</span></span>
<span id="cb44-615"><a href="#cb44-615" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user_input <span class="op">==</span> <span class="st">"help"</span>:</span>
<span id="cb44-616"><a href="#cb44-616" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> get_help_message()</span>
<span id="cb44-617"><a href="#cb44-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-618"><a href="#cb44-618" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for greetings</span></span>
<span id="cb44-619"><a href="#cb44-619" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">any</span>(greeting <span class="kw">in</span> user_input <span class="cf">for</span> greeting <span class="kw">in</span> [<span class="st">"hello"</span>, <span class="st">"hi"</span>, <span class="st">"hey"</span>]):</span>
<span id="cb44-620"><a href="#cb44-620" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Hello there, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span></span>
<span id="cb44-621"><a href="#cb44-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-622"><a href="#cb44-622" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for questions about the bot</span></span>
<span id="cb44-623"><a href="#cb44-623" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"your name"</span> <span class="kw">in</span> user_input:</span>
<span id="cb44-624"><a href="#cb44-624" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"My name is PyBot. I'm a simple chatbot built with Python functions!"</span></span>
<span id="cb44-625"><a href="#cb44-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-626"><a href="#cb44-626" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"how are you"</span> <span class="kw">in</span> user_input:</span>
<span id="cb44-627"><a href="#cb44-627" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"I'm just a computer program, but I'm functioning well. Thanks for asking!"</span></span>
<span id="cb44-628"><a href="#cb44-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-629"><a href="#cb44-629" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for farewells</span></span>
<span id="cb44-630"><a href="#cb44-630" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">any</span>(farewell <span class="kw">in</span> user_input <span class="cf">for</span> farewell <span class="kw">in</span> [<span class="st">"bye"</span>, <span class="st">"goodbye"</span>, <span class="st">"exit"</span>]):</span>
<span id="cb44-631"><a href="#cb44-631" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">! Have a great day!"</span></span>
<span id="cb44-632"><a href="#cb44-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-633"><a href="#cb44-633" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Default response</span></span>
<span id="cb44-634"><a href="#cb44-634" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"I'm not sure how to respond to that yet. Type 'help' for commands."</span></span>
<span id="cb44-635"><a href="#cb44-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-636"><a href="#cb44-636" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_help_message():</span>
<span id="cb44-637"><a href="#cb44-637" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-638"><a href="#cb44-638" aria-hidden="true" tabindex="-1"></a><span class="co">    Return the help message.</span></span>
<span id="cb44-639"><a href="#cb44-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-640"><a href="#cb44-640" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-641"><a href="#cb44-641" aria-hidden="true" tabindex="-1"></a><span class="co">        str: The help message</span></span>
<span id="cb44-642"><a href="#cb44-642" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-643"><a href="#cb44-643" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"""</span></span>
<span id="cb44-644"><a href="#cb44-644" aria-hidden="true" tabindex="-1"></a><span class="st">I understand the following:</span></span>
<span id="cb44-645"><a href="#cb44-645" aria-hidden="true" tabindex="-1"></a><span class="st">- Greetings (hello, hi)</span></span>
<span id="cb44-646"><a href="#cb44-646" aria-hidden="true" tabindex="-1"></a><span class="st">- Questions about me</span></span>
<span id="cb44-647"><a href="#cb44-647" aria-hidden="true" tabindex="-1"></a><span class="st">- 'how are you'</span></span>
<span id="cb44-648"><a href="#cb44-648" aria-hidden="true" tabindex="-1"></a><span class="st">- 'bye' or 'goodbye' to exit</span></span>
<span id="cb44-649"><a href="#cb44-649" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb44-650"><a href="#cb44-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-651"><a href="#cb44-651" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run_chatbot():</span>
<span id="cb44-652"><a href="#cb44-652" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Run the main chatbot interaction loop."""</span></span>
<span id="cb44-653"><a href="#cb44-653" aria-hidden="true" tabindex="-1"></a>    bot_name <span class="op">=</span> <span class="st">"PyBot"</span></span>
<span id="cb44-654"><a href="#cb44-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-655"><a href="#cb44-655" aria-hidden="true" tabindex="-1"></a>    display_welcome(bot_name)</span>
<span id="cb44-656"><a href="#cb44-656" aria-hidden="true" tabindex="-1"></a>    user_name <span class="op">=</span> get_user_name()</span>
<span id="cb44-657"><a href="#cb44-657" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span>bot_name<span class="sc">}</span><span class="ss">&gt; Nice to meet you, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb44-658"><a href="#cb44-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-659"><a href="#cb44-659" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb44-660"><a href="#cb44-660" aria-hidden="true" tabindex="-1"></a>        user_input <span class="op">=</span> get_user_input(user_name)</span>
<span id="cb44-661"><a href="#cb44-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-662"><a href="#cb44-662" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Check for exit command</span></span>
<span id="cb44-663"><a href="#cb44-663" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> user_input.lower() <span class="op">==</span> <span class="st">"bye"</span>:</span>
<span id="cb44-664"><a href="#cb44-664" aria-hidden="true" tabindex="-1"></a>            display_response(bot_name, <span class="ss">f"Goodbye, </span><span class="sc">{</span>user_name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-665"><a href="#cb44-665" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb44-666"><a href="#cb44-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-667"><a href="#cb44-667" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> get_response(user_input, user_name)</span>
<span id="cb44-668"><a href="#cb44-668" aria-hidden="true" tabindex="-1"></a>        display_response(bot_name, response)</span>
<span id="cb44-669"><a href="#cb44-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-670"><a href="#cb44-670" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the chatbot if this file is executed directly</span></span>
<span id="cb44-671"><a href="#cb44-671" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb44-672"><a href="#cb44-672" aria-hidden="true" tabindex="-1"></a>    run_chatbot()</span>
<span id="cb44-673"><a href="#cb44-673" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-674"><a href="#cb44-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-675"><a href="#cb44-675" aria-hidden="true" tabindex="-1"></a>This enhanced version demonstrates several advanced function design principles:</span>
<span id="cb44-676"><a href="#cb44-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-677"><a href="#cb44-677" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Each function has a single responsibility** - input, output, logic, etc.</span>
<span id="cb44-678"><a href="#cb44-678" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Functions are composable** - the main function calls smaller functions</span>
<span id="cb44-679"><a href="#cb44-679" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Error handling is built in** - input validation in <span class="in">`get_user_name()`</span></span>
<span id="cb44-680"><a href="#cb44-680" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Code is self-documenting** - function names clearly describe their purpose</span>
<span id="cb44-681"><a href="#cb44-681" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**Helper functions hide complexity** - like <span class="in">`get_help_message()`</span></span>
<span id="cb44-682"><a href="#cb44-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-683"><a href="#cb44-683" aria-hidden="true" tabindex="-1"></a><span class="fu">### Adding New Capabilities with Functions</span></span>
<span id="cb44-684"><a href="#cb44-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-685"><a href="#cb44-685" aria-hidden="true" tabindex="-1"></a>When you want to extend your chatbot, you can simply add new functions:</span>
<span id="cb44-686"><a href="#cb44-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-687"><a href="#cb44-687" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-688"><a href="#cb44-688" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_age(birth_year):</span>
<span id="cb44-689"><a href="#cb44-689" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-690"><a href="#cb44-690" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate age based on birth year.</span></span>
<span id="cb44-691"><a href="#cb44-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-692"><a href="#cb44-692" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-693"><a href="#cb44-693" aria-hidden="true" tabindex="-1"></a><span class="co">        birth_year (int): The year the person was born</span></span>
<span id="cb44-694"><a href="#cb44-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-695"><a href="#cb44-695" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-696"><a href="#cb44-696" aria-hidden="true" tabindex="-1"></a><span class="co">        int: The calculated age (approximate)</span></span>
<span id="cb44-697"><a href="#cb44-697" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-698"><a href="#cb44-698" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb44-699"><a href="#cb44-699" aria-hidden="true" tabindex="-1"></a>    current_year <span class="op">=</span> datetime.now().year</span>
<span id="cb44-700"><a href="#cb44-700" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> current_year <span class="op">-</span> birth_year</span>
<span id="cb44-701"><a href="#cb44-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-702"><a href="#cb44-702" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> handle_age_question(user_input):</span>
<span id="cb44-703"><a href="#cb44-703" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-704"><a href="#cb44-704" aria-hidden="true" tabindex="-1"></a><span class="co">    Extract birth year from input and calculate age.</span></span>
<span id="cb44-705"><a href="#cb44-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-706"><a href="#cb44-706" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-707"><a href="#cb44-707" aria-hidden="true" tabindex="-1"></a><span class="co">        user_input (str): The user's message</span></span>
<span id="cb44-708"><a href="#cb44-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-709"><a href="#cb44-709" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-710"><a href="#cb44-710" aria-hidden="true" tabindex="-1"></a><span class="co">        str: Age calculation response or None if not an age question</span></span>
<span id="cb44-711"><a href="#cb44-711" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-712"><a href="#cb44-712" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"calculate age"</span> <span class="kw">in</span> user_input.lower() <span class="kw">or</span> <span class="st">"how old"</span> <span class="kw">in</span> user_input.lower():</span>
<span id="cb44-713"><a href="#cb44-713" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb44-714"><a href="#cb44-714" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Try to extract a year from the input</span></span>
<span id="cb44-715"><a href="#cb44-715" aria-hidden="true" tabindex="-1"></a>            words <span class="op">=</span> user_input.split()</span>
<span id="cb44-716"><a href="#cb44-716" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> word <span class="kw">in</span> words:</span>
<span id="cb44-717"><a href="#cb44-717" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> word.isdigit() <span class="kw">and</span> <span class="dv">1900</span> <span class="op">&lt;=</span> <span class="bu">int</span>(word) <span class="op">&lt;=</span> <span class="dv">2020</span>:</span>
<span id="cb44-718"><a href="#cb44-718" aria-hidden="true" tabindex="-1"></a>                    age <span class="op">=</span> calculate_age(<span class="bu">int</span>(word))</span>
<span id="cb44-719"><a href="#cb44-719" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">return</span> <span class="ss">f"If you were born in </span><span class="sc">{</span>word<span class="sc">}</span><span class="ss">, you are approximately </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss"> years old now."</span></span>
<span id="cb44-720"><a href="#cb44-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-721"><a href="#cb44-721" aria-hidden="true" tabindex="-1"></a>            <span class="co"># If no year found, ask for it</span></span>
<span id="cb44-722"><a href="#cb44-722" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"I can calculate age. What year were you born?"</span></span>
<span id="cb44-723"><a href="#cb44-723" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span>:</span>
<span id="cb44-724"><a href="#cb44-724" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"I couldn't calculate that age. Try specifying a birth year between 1900 and 2020."</span></span>
<span id="cb44-725"><a href="#cb44-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-726"><a href="#cb44-726" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span>  <span class="co"># Not an age question</span></span>
<span id="cb44-727"><a href="#cb44-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-728"><a href="#cb44-728" aria-hidden="true" tabindex="-1"></a><span class="co"># Then in get_response():</span></span>
<span id="cb44-729"><a href="#cb44-729" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_response(user_input, user_name):</span>
<span id="cb44-730"><a href="#cb44-730" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Existing response logic...</span></span>
<span id="cb44-731"><a href="#cb44-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-732"><a href="#cb44-732" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for age-related questions</span></span>
<span id="cb44-733"><a href="#cb44-733" aria-hidden="true" tabindex="-1"></a>    age_response <span class="op">=</span> handle_age_question(user_input)</span>
<span id="cb44-734"><a href="#cb44-734" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> age_response:</span>
<span id="cb44-735"><a href="#cb44-735" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> age_response</span>
<span id="cb44-736"><a href="#cb44-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-737"><a href="#cb44-737" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Other response logic...</span></span>
<span id="cb44-738"><a href="#cb44-738" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-739"><a href="#cb44-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-740"><a href="#cb44-740" aria-hidden="true" tabindex="-1"></a>This modular approach makes extending your chatbot clean and manageable. Each new capability goes into its own function, keeping your code organized.</span>
<span id="cb44-741"><a href="#cb44-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-742"><a href="#cb44-742" aria-hidden="true" tabindex="-1"></a><span class="fu">## 8. AI Collaboration Corner: Designing Better Functions</span></span>
<span id="cb44-743"><a href="#cb44-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-744"><a href="#cb44-744" aria-hidden="true" tabindex="-1"></a>Let's explore how AI assistants can help you create better functions in your Python code.</span>
<span id="cb44-745"><a href="#cb44-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-746"><a href="#cb44-746" aria-hidden="true" tabindex="-1"></a><span class="fu">### Before: Vague Prompting</span></span>
<span id="cb44-747"><a href="#cb44-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-748"><a href="#cb44-748" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-749"><a href="#cb44-749" aria-hidden="true" tabindex="-1"></a><span class="in">Help me create a function in Python.</span></span>
<span id="cb44-750"><a href="#cb44-750" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-751"><a href="#cb44-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-752"><a href="#cb44-752" aria-hidden="true" tabindex="-1"></a>**AI Response:**</span>
<span id="cb44-753"><a href="#cb44-753" aria-hidden="true" tabindex="-1"></a>*To create a function in Python, you use the `def` keyword followed by the function name and parentheses. Here's a basic example:*</span>
<span id="cb44-754"><a href="#cb44-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-755"><a href="#cb44-755" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-756"><a href="#cb44-756" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name):</span>
<span id="cb44-757"><a href="#cb44-757" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""This function greets the person passed in as a parameter."""</span></span>
<span id="cb44-758"><a href="#cb44-758" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Hello, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!"</span>)</span>
<span id="cb44-759"><a href="#cb44-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-760"><a href="#cb44-760" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">"Alice"</span>)  <span class="co"># Output: Hello, Alice!</span></span>
<span id="cb44-761"><a href="#cb44-761" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-762"><a href="#cb44-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-763"><a href="#cb44-763" aria-hidden="true" tabindex="-1"></a>*Functions can have parameters, return values, and docstrings that explain what they do. Parameters make your functions reusable with different inputs.*</span>
<span id="cb44-764"><a href="#cb44-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-765"><a href="#cb44-765" aria-hidden="true" tabindex="-1"></a>This response provides basic information but doesn't address specific function design needs.</span>
<span id="cb44-766"><a href="#cb44-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-767"><a href="#cb44-767" aria-hidden="true" tabindex="-1"></a><span class="fu">### After: Detailed, Specific Prompting</span></span>
<span id="cb44-768"><a href="#cb44-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-769"><a href="#cb44-769" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-770"><a href="#cb44-770" aria-hidden="true" tabindex="-1"></a><span class="in">I'm building a chatbot that needs to process user input and determine sentiment</span></span>
<span id="cb44-771"><a href="#cb44-771" aria-hidden="true" tabindex="-1"></a><span class="in">(positive/negative/neutral). I want to create a well-designed function that:</span></span>
<span id="cb44-772"><a href="#cb44-772" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-773"><a href="#cb44-773" aria-hidden="true" tabindex="-1"></a><span class="in">1. Takes a message string as input</span></span>
<span id="cb44-774"><a href="#cb44-774" aria-hidden="true" tabindex="-1"></a><span class="in">2. Analyzes the text for positive and negative keywords</span></span>
<span id="cb44-775"><a href="#cb44-775" aria-hidden="true" tabindex="-1"></a><span class="in">3. Returns both a sentiment label and a confidence score</span></span>
<span id="cb44-776"><a href="#cb44-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-777"><a href="#cb44-777" aria-hidden="true" tabindex="-1"></a><span class="in">Please provide a function with proper documentation, parameter validation, and</span></span>
<span id="cb44-778"><a href="#cb44-778" aria-hidden="true" tabindex="-1"></a><span class="in">error handling. Also explain any design decisions in your implementation.</span></span>
<span id="cb44-779"><a href="#cb44-779" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-780"><a href="#cb44-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-781"><a href="#cb44-781" aria-hidden="true" tabindex="-1"></a>**AI Response:**</span>
<span id="cb44-782"><a href="#cb44-782" aria-hidden="true" tabindex="-1"></a>*Here's a well-designed function to analyze sentiment in chatbot messages:*</span>
<span id="cb44-783"><a href="#cb44-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-784"><a href="#cb44-784" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-785"><a href="#cb44-785" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> analyze_sentiment(message, custom_keywords<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb44-786"><a href="#cb44-786" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-787"><a href="#cb44-787" aria-hidden="true" tabindex="-1"></a><span class="co">    Analyze the sentiment of a message as positive, negative, or neutral.</span></span>
<span id="cb44-788"><a href="#cb44-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-789"><a href="#cb44-789" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-790"><a href="#cb44-790" aria-hidden="true" tabindex="-1"></a><span class="co">        message (str): The user message to analyze</span></span>
<span id="cb44-791"><a href="#cb44-791" aria-hidden="true" tabindex="-1"></a><span class="co">        custom_keywords (dict, optional): Dictionary with custom 'positive' and</span></span>
<span id="cb44-792"><a href="#cb44-792" aria-hidden="true" tabindex="-1"></a><span class="co">                                         'negative' keyword lists to use instead</span></span>
<span id="cb44-793"><a href="#cb44-793" aria-hidden="true" tabindex="-1"></a><span class="co">                                         of the defaults</span></span>
<span id="cb44-794"><a href="#cb44-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-795"><a href="#cb44-795" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-796"><a href="#cb44-796" aria-hidden="true" tabindex="-1"></a><span class="co">        tuple: (sentiment, confidence) where:</span></span>
<span id="cb44-797"><a href="#cb44-797" aria-hidden="true" tabindex="-1"></a><span class="co">            - sentiment (str): 'positive', 'negative', or 'neutral'</span></span>
<span id="cb44-798"><a href="#cb44-798" aria-hidden="true" tabindex="-1"></a><span class="co">            - confidence (float): Score between 0.0 and 1.0 indicating confidence</span></span>
<span id="cb44-799"><a href="#cb44-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-800"><a href="#cb44-800" aria-hidden="true" tabindex="-1"></a><span class="co">    Raises:</span></span>
<span id="cb44-801"><a href="#cb44-801" aria-hidden="true" tabindex="-1"></a><span class="co">        TypeError: If message is not a string or custom_keywords is not a dict/None</span></span>
<span id="cb44-802"><a href="#cb44-802" aria-hidden="true" tabindex="-1"></a><span class="co">        ValueError: If message is empty</span></span>
<span id="cb44-803"><a href="#cb44-803" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-804"><a href="#cb44-804" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate inputs</span></span>
<span id="cb44-805"><a href="#cb44-805" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(message, <span class="bu">str</span>):</span>
<span id="cb44-806"><a href="#cb44-806" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"Message must be a string"</span>)</span>
<span id="cb44-807"><a href="#cb44-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-808"><a href="#cb44-808" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> custom_keywords <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="kw">and</span> <span class="kw">not</span> <span class="bu">isinstance</span>(custom_keywords, <span class="bu">dict</span>):</span>
<span id="cb44-809"><a href="#cb44-809" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"Custom keywords must be a dictionary"</span>)</span>
<span id="cb44-810"><a href="#cb44-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-811"><a href="#cb44-811" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> message.strip():</span>
<span id="cb44-812"><a href="#cb44-812" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Message cannot be empty"</span>)</span>
<span id="cb44-813"><a href="#cb44-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-814"><a href="#cb44-814" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Prepare the message for analysis</span></span>
<span id="cb44-815"><a href="#cb44-815" aria-hidden="true" tabindex="-1"></a>    message <span class="op">=</span> message.lower()</span>
<span id="cb44-816"><a href="#cb44-816" aria-hidden="true" tabindex="-1"></a>    words <span class="op">=</span> message.split()</span>
<span id="cb44-817"><a href="#cb44-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-818"><a href="#cb44-818" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Default sentiment keywords</span></span>
<span id="cb44-819"><a href="#cb44-819" aria-hidden="true" tabindex="-1"></a>    default_keywords <span class="op">=</span> {</span>
<span id="cb44-820"><a href="#cb44-820" aria-hidden="true" tabindex="-1"></a>        <span class="st">'positive'</span>: [<span class="st">'happy'</span>, <span class="st">'glad'</span>, <span class="st">'good'</span>, <span class="st">'great'</span>, <span class="st">'excellent'</span>, <span class="st">'wonderful'</span>,</span>
<span id="cb44-821"><a href="#cb44-821" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'amazing'</span>, <span class="st">'love'</span>, <span class="st">'like'</span>, <span class="st">'thanks'</span>, <span class="st">'thank'</span>, <span class="st">'awesome'</span>],</span>
<span id="cb44-822"><a href="#cb44-822" aria-hidden="true" tabindex="-1"></a>        <span class="st">'negative'</span>: [<span class="st">'bad'</span>, <span class="st">'sad'</span>, <span class="st">'terrible'</span>, <span class="st">'awful'</span>, <span class="st">'horrible'</span>, <span class="st">'hate'</span>,</span>
<span id="cb44-823"><a href="#cb44-823" aria-hidden="true" tabindex="-1"></a>                     <span class="st">'dislike'</span>, <span class="st">'sorry'</span>, <span class="st">'disappointed'</span>, <span class="st">'unhappy'</span>, <span class="st">'wrong'</span>]</span>
<span id="cb44-824"><a href="#cb44-824" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb44-825"><a href="#cb44-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-826"><a href="#cb44-826" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use custom keywords if provided, otherwise use defaults</span></span>
<span id="cb44-827"><a href="#cb44-827" aria-hidden="true" tabindex="-1"></a>    keywords <span class="op">=</span> custom_keywords <span class="cf">if</span> custom_keywords <span class="cf">else</span> default_keywords</span>
<span id="cb44-828"><a href="#cb44-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-829"><a href="#cb44-829" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count sentiment matches</span></span>
<span id="cb44-830"><a href="#cb44-830" aria-hidden="true" tabindex="-1"></a>    positive_matches <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> word <span class="kw">in</span> words <span class="cf">if</span> word <span class="kw">in</span> keywords[<span class="st">'positive'</span>])</span>
<span id="cb44-831"><a href="#cb44-831" aria-hidden="true" tabindex="-1"></a>    negative_matches <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> word <span class="kw">in</span> words <span class="cf">if</span> word <span class="kw">in</span> keywords[<span class="st">'negative'</span>])</span>
<span id="cb44-832"><a href="#cb44-832" aria-hidden="true" tabindex="-1"></a>    total_sentiment_words <span class="op">=</span> positive_matches <span class="op">+</span> negative_matches</span>
<span id="cb44-833"><a href="#cb44-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-834"><a href="#cb44-834" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate sentiment and confidence</span></span>
<span id="cb44-835"><a href="#cb44-835" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> total_sentiment_words <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb44-836"><a href="#cb44-836" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'neutral'</span>, <span class="fl">0.5</span>  <span class="co"># No sentiment words found</span></span>
<span id="cb44-837"><a href="#cb44-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-838"><a href="#cb44-838" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> positive_matches <span class="op">&gt;</span> negative_matches:</span>
<span id="cb44-839"><a href="#cb44-839" aria-hidden="true" tabindex="-1"></a>        sentiment <span class="op">=</span> <span class="st">'positive'</span></span>
<span id="cb44-840"><a href="#cb44-840" aria-hidden="true" tabindex="-1"></a>        confidence <span class="op">=</span> positive_matches <span class="op">/</span> total_sentiment_words</span>
<span id="cb44-841"><a href="#cb44-841" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> negative_matches <span class="op">&gt;</span> positive_matches:</span>
<span id="cb44-842"><a href="#cb44-842" aria-hidden="true" tabindex="-1"></a>        sentiment <span class="op">=</span> <span class="st">'negative'</span></span>
<span id="cb44-843"><a href="#cb44-843" aria-hidden="true" tabindex="-1"></a>        confidence <span class="op">=</span> negative_matches <span class="op">/</span> total_sentiment_words</span>
<span id="cb44-844"><a href="#cb44-844" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-845"><a href="#cb44-845" aria-hidden="true" tabindex="-1"></a>        sentiment <span class="op">=</span> <span class="st">'neutral'</span></span>
<span id="cb44-846"><a href="#cb44-846" aria-hidden="true" tabindex="-1"></a>        confidence <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb44-847"><a href="#cb44-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-848"><a href="#cb44-848" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Adjust confidence to be between 0.5 and 1.0 (0.5 = neutral)</span></span>
<span id="cb44-849"><a href="#cb44-849" aria-hidden="true" tabindex="-1"></a>    confidence <span class="op">=</span> <span class="fl">0.5</span> <span class="op">+</span> (confidence <span class="op">*</span> <span class="fl">0.5</span>)</span>
<span id="cb44-850"><a href="#cb44-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-851"><a href="#cb44-851" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> sentiment, confidence</span>
<span id="cb44-852"><a href="#cb44-852" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-853"><a href="#cb44-853" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb44-854"><a href="#cb44-854" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> demo_sentiment_analysis():</span>
<span id="cb44-855"><a href="#cb44-855" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Run examples of sentiment analysis."""</span></span>
<span id="cb44-856"><a href="#cb44-856" aria-hidden="true" tabindex="-1"></a>    test_messages <span class="op">=</span> [</span>
<span id="cb44-857"><a href="#cb44-857" aria-hidden="true" tabindex="-1"></a>        <span class="st">"I'm really happy with your service, thank you!"</span>,</span>
<span id="cb44-858"><a href="#cb44-858" aria-hidden="true" tabindex="-1"></a>        <span class="st">"This is absolutely terrible and disappointing."</span>,</span>
<span id="cb44-859"><a href="#cb44-859" aria-hidden="true" tabindex="-1"></a>        <span class="st">"The weather is cloudy today."</span></span>
<span id="cb44-860"><a href="#cb44-860" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb44-861"><a href="#cb44-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-862"><a href="#cb44-862" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> message <span class="kw">in</span> test_messages:</span>
<span id="cb44-863"><a href="#cb44-863" aria-hidden="true" tabindex="-1"></a>        sentiment, confidence <span class="op">=</span> analyze_sentiment(message)</span>
<span id="cb44-864"><a href="#cb44-864" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Message: '</span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">'"</span>)</span>
<span id="cb44-865"><a href="#cb44-865" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Sentiment: </span><span class="sc">{</span>sentiment<span class="sc">}</span><span class="ss">, Confidence: </span><span class="sc">{</span>confidence<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb44-866"><a href="#cb44-866" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-867"><a href="#cb44-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-868"><a href="#cb44-868" aria-hidden="true" tabindex="-1"></a>*Design decisions explained:*</span>
<span id="cb44-869"><a href="#cb44-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-870"><a href="#cb44-870" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>*Function signature:*</span>
<span id="cb44-871"><a href="#cb44-871" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Primary parameter (`message`) for the text to analyze*</span>
<span id="cb44-872"><a href="#cb44-872" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Optional parameter (`custom_keywords`) for flexibility/customization*</span>
<span id="cb44-873"><a href="#cb44-873" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Return value is a tuple with both result and confidence score*</span>
<span id="cb44-874"><a href="#cb44-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-875"><a href="#cb44-875" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>*Robust validation:*</span>
<span id="cb44-876"><a href="#cb44-876" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Type checking for parameters*</span>
<span id="cb44-877"><a href="#cb44-877" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Empty message validation*</span>
<span id="cb44-878"><a href="#cb44-878" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Explicit error messages for troubleshooting*</span>
<span id="cb44-879"><a href="#cb44-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-880"><a href="#cb44-880" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>*Well-structured implementation:*</span>
<span id="cb44-881"><a href="#cb44-881" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Message preprocessing (lowercase, word splitting)*</span>
<span id="cb44-882"><a href="#cb44-882" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Default keywords with option for customization*</span>
<span id="cb44-883"><a href="#cb44-883" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Explicit algorithm for sentiment determination*</span>
<span id="cb44-884"><a href="#cb44-884" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Confidence scoring scaled to a meaningful range*</span>
<span id="cb44-885"><a href="#cb44-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-886"><a href="#cb44-886" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>*Complete documentation:*</span>
<span id="cb44-887"><a href="#cb44-887" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Clear description of function purpose*</span>
<span id="cb44-888"><a href="#cb44-888" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Detailed parameter documentation*</span>
<span id="cb44-889"><a href="#cb44-889" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Return value format explanation*</span>
<span id="cb44-890"><a href="#cb44-890" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Documentation of potential errors*</span>
<span id="cb44-891"><a href="#cb44-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-892"><a href="#cb44-892" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>*Design principle: Single Responsibility:*</span>
<span id="cb44-893"><a href="#cb44-893" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*The function does one thing well (sentiment analysis)*</span>
<span id="cb44-894"><a href="#cb44-894" aria-hidden="true" tabindex="-1"></a><span class="ss">   - </span>*Doesn't mix other concerns like input/output*</span>
<span id="cb44-895"><a href="#cb44-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-896"><a href="#cb44-896" aria-hidden="true" tabindex="-1"></a>*This function demonstrates good practices like thorough validation, flexible parameters, meaningful return values, and comprehensive documentation. It's also designed to be extended easily (e.g., by providing custom keywords).*</span>
<span id="cb44-897"><a href="#cb44-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-898"><a href="#cb44-898" aria-hidden="true" tabindex="-1"></a><span class="fu">### How to Craft Effective Prompts for Function Design</span></span>
<span id="cb44-899"><a href="#cb44-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-900"><a href="#cb44-900" aria-hidden="true" tabindex="-1"></a>When working with an AI assistant on function design:</span>
<span id="cb44-901"><a href="#cb44-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-902"><a href="#cb44-902" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>**Specify the exact purpose** of the function you need</span>
<span id="cb44-903"><a href="#cb44-903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-904"><a href="#cb44-904" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>**Describe inputs and outputs** clearly</span>
<span id="cb44-905"><a href="#cb44-905" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-906"><a href="#cb44-906" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>**Mention any special requirements** like error handling or validation</span>
<span id="cb44-907"><a href="#cb44-907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-908"><a href="#cb44-908" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>**Ask about design considerations** specific to your use case</span>
<span id="cb44-909"><a href="#cb44-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-910"><a href="#cb44-910" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>**Request documentation** if you want it included</span>
<span id="cb44-911"><a href="#cb44-911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-912"><a href="#cb44-912" aria-hidden="true" tabindex="-1"></a>For example:</span>
<span id="cb44-913"><a href="#cb44-913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-914"><a href="#cb44-914" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-915"><a href="#cb44-915" aria-hidden="true" tabindex="-1"></a><span class="in">I need to create a function that validates user registration data with these requirements:</span></span>
<span id="cb44-916"><a href="#cb44-916" aria-hidden="true" tabindex="-1"></a><span class="in">1. It should check username (letters/numbers only, 3-15 chars), email (must have @ and .),</span></span>
<span id="cb44-917"><a href="#cb44-917" aria-hidden="true" tabindex="-1"></a><span class="in">   and password (8+ chars with at least one number)</span></span>
<span id="cb44-918"><a href="#cb44-918" aria-hidden="true" tabindex="-1"></a><span class="in">2. For invalid data, it should return specific error messages about what's wrong</span></span>
<span id="cb44-919"><a href="#cb44-919" aria-hidden="true" tabindex="-1"></a><span class="in">3. For valid data, it should return a success message</span></span>
<span id="cb44-920"><a href="#cb44-920" aria-hidden="true" tabindex="-1"></a><span class="in">4. The function should be well-documented and follow Python best practices</span></span>
<span id="cb44-921"><a href="#cb44-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-922"><a href="#cb44-922" aria-hidden="true" tabindex="-1"></a><span class="in">Please provide the function code with comments explaining the implementation.</span></span>
<span id="cb44-923"><a href="#cb44-923" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-924"><a href="#cb44-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-925"><a href="#cb44-925" aria-hidden="true" tabindex="-1"></a>This specific prompt will yield a well-designed validation function tailored to your exact requirements.</span>
<span id="cb44-926"><a href="#cb44-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-927"><a href="#cb44-927" aria-hidden="true" tabindex="-1"></a><span class="fu">## 9. Common Function Design Pitfalls to Avoid</span></span>
<span id="cb44-928"><a href="#cb44-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-929"><a href="#cb44-929" aria-hidden="true" tabindex="-1"></a>As you create your own functions, watch for these common issues:</span>
<span id="cb44-930"><a href="#cb44-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-931"><a href="#cb44-931" aria-hidden="true" tabindex="-1"></a><span class="fu">### Too Many Parameters</span></span>
<span id="cb44-932"><a href="#cb44-932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-933"><a href="#cb44-933" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-934"><a href="#cb44-934" aria-hidden="true" tabindex="-1"></a><span class="co"># Hard to use and understand</span></span>
<span id="cb44-935"><a href="#cb44-935" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user(name, email, password, age, location, interests, account_type,</span>
<span id="cb44-936"><a href="#cb44-936" aria-hidden="true" tabindex="-1"></a>                newsletter, referral_code, language, theme_preference):</span>
<span id="cb44-937"><a href="#cb44-937" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Function with too many parameters</span></span>
<span id="cb44-938"><a href="#cb44-938" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-939"><a href="#cb44-939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-940"><a href="#cb44-940" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb44-941"><a href="#cb44-941" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user(name, email, password, <span class="op">**</span>optional_fields):</span>
<span id="cb44-942"><a href="#cb44-942" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Core parameters separate from optional ones</span></span>
<span id="cb44-943"><a href="#cb44-943" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-944"><a href="#cb44-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-945"><a href="#cb44-945" aria-hidden="true" tabindex="-1"></a><span class="co"># Or use a dictionary/class for related parameters</span></span>
<span id="cb44-946"><a href="#cb44-946" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_user(user_data):</span>
<span id="cb44-947"><a href="#cb44-947" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Access fields with user_data['name'], etc.</span></span>
<span id="cb44-948"><a href="#cb44-948" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-949"><a href="#cb44-949" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-950"><a href="#cb44-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-951"><a href="#cb44-951" aria-hidden="true" tabindex="-1"></a><span class="fu">### Side Effects Without Documentation</span></span>
<span id="cb44-952"><a href="#cb44-952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-953"><a href="#cb44-953" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-954"><a href="#cb44-954" aria-hidden="true" tabindex="-1"></a><span class="co"># Surprising side effect</span></span>
<span id="cb44-955"><a href="#cb44-955" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_stats(data):</span>
<span id="cb44-956"><a href="#cb44-956" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculate mean and median of data."""</span></span>
<span id="cb44-957"><a href="#cb44-957" aria-hidden="true" tabindex="-1"></a>    data.sort()  <span class="co"># Side effect: modifies input list!</span></span>
<span id="cb44-958"><a href="#cb44-958" aria-hidden="true" tabindex="-1"></a>    mean <span class="op">=</span> <span class="bu">sum</span>(data) <span class="op">/</span> <span class="bu">len</span>(data)</span>
<span id="cb44-959"><a href="#cb44-959" aria-hidden="true" tabindex="-1"></a>    median <span class="op">=</span> data[<span class="bu">len</span>(data) <span class="op">//</span> <span class="dv">2</span>]</span>
<span id="cb44-960"><a href="#cb44-960" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mean, median</span>
<span id="cb44-961"><a href="#cb44-961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-962"><a href="#cb44-962" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: document the side effect</span></span>
<span id="cb44-963"><a href="#cb44-963" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_stats(data):</span>
<span id="cb44-964"><a href="#cb44-964" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-965"><a href="#cb44-965" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate statistics from data.</span></span>
<span id="cb44-966"><a href="#cb44-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-967"><a href="#cb44-967" aria-hidden="true" tabindex="-1"></a><span class="co">    Note: This function sorts the input list in-place.</span></span>
<span id="cb44-968"><a href="#cb44-968" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-969"><a href="#cb44-969" aria-hidden="true" tabindex="-1"></a>    data.sort()</span>
<span id="cb44-970"><a href="#cb44-970" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rest of function...</span></span>
<span id="cb44-971"><a href="#cb44-971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-972"><a href="#cb44-972" aria-hidden="true" tabindex="-1"></a><span class="co"># Best: avoid the side effect</span></span>
<span id="cb44-973"><a href="#cb44-973" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_stats(data):</span>
<span id="cb44-974"><a href="#cb44-974" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculate statistics from data (non-modifying)."""</span></span>
<span id="cb44-975"><a href="#cb44-975" aria-hidden="true" tabindex="-1"></a>    sorted_data <span class="op">=</span> <span class="bu">sorted</span>(data)  <span class="co"># Creates a new sorted list</span></span>
<span id="cb44-976"><a href="#cb44-976" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use sorted_data instead of modifying input</span></span>
<span id="cb44-977"><a href="#cb44-977" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-978"><a href="#cb44-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-979"><a href="#cb44-979" aria-hidden="true" tabindex="-1"></a><span class="fu">### Not Handling Edge Cases</span></span>
<span id="cb44-980"><a href="#cb44-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-981"><a href="#cb44-981" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-982"><a href="#cb44-982" aria-hidden="true" tabindex="-1"></a><span class="co"># Missing edge case handling</span></span>
<span id="cb44-983"><a href="#cb44-983" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_average(numbers):</span>
<span id="cb44-984"><a href="#cb44-984" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(numbers) <span class="op">/</span> <span class="bu">len</span>(numbers)  <span class="co"># Crashes on empty list</span></span>
<span id="cb44-985"><a href="#cb44-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-986"><a href="#cb44-986" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb44-987"><a href="#cb44-987" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_average(numbers):</span>
<span id="cb44-988"><a href="#cb44-988" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> numbers:</span>
<span id="cb44-989"><a href="#cb44-989" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span>  <span class="co"># Or raise an exception, or return None</span></span>
<span id="cb44-990"><a href="#cb44-990" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">sum</span>(numbers) <span class="op">/</span> <span class="bu">len</span>(numbers)</span>
<span id="cb44-991"><a href="#cb44-991" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-992"><a href="#cb44-992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-993"><a href="#cb44-993" aria-hidden="true" tabindex="-1"></a><span class="fu">### Function Naming Confusion</span></span>
<span id="cb44-994"><a href="#cb44-994" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-995"><a href="#cb44-995" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-996"><a href="#cb44-996" aria-hidden="true" tabindex="-1"></a><span class="co"># Confusing name - doesn't match behavior</span></span>
<span id="cb44-997"><a href="#cb44-997" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> check_email(email):</span>
<span id="cb44-998"><a href="#cb44-998" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validates an email and returns a boolean."""</span></span>
<span id="cb44-999"><a href="#cb44-999" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb44-1000"><a href="#cb44-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1001"><a href="#cb44-1001" aria-hidden="true" tabindex="-1"></a><span class="co"># Better name</span></span>
<span id="cb44-1002"><a href="#cb44-1002" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> is_valid_email(email):</span>
<span id="cb44-1003"><a href="#cb44-1003" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validates an email and returns a boolean."""</span></span>
<span id="cb44-1004"><a href="#cb44-1004" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"@"</span> <span class="kw">in</span> email <span class="kw">and</span> <span class="st">"."</span> <span class="kw">in</span> email</span>
<span id="cb44-1005"><a href="#cb44-1005" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1006"><a href="#cb44-1006" aria-hidden="true" tabindex="-1"></a><span class="co"># Or</span></span>
<span id="cb44-1007"><a href="#cb44-1007" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_email(email):</span>
<span id="cb44-1008"><a href="#cb44-1008" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Validates an email and returns errors or None."""</span></span>
<span id="cb44-1009"><a href="#cb44-1009" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"@"</span> <span class="kw">not</span> <span class="kw">in</span> email:</span>
<span id="cb44-1010"><a href="#cb44-1010" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Email must contain @ symbol"</span></span>
<span id="cb44-1011"><a href="#cb44-1011" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"."</span> <span class="kw">not</span> <span class="kw">in</span> email:</span>
<span id="cb44-1012"><a href="#cb44-1012" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Email must contain a domain"</span></span>
<span id="cb44-1013"><a href="#cb44-1013" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span>  <span class="co"># No errors</span></span>
<span id="cb44-1014"><a href="#cb44-1014" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-1015"><a href="#cb44-1015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1016"><a href="#cb44-1016" aria-hidden="true" tabindex="-1"></a><span class="fu">### Inconsistent Return Types</span></span>
<span id="cb44-1017"><a href="#cb44-1017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1018"><a href="#cb44-1018" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-1019"><a href="#cb44-1019" aria-hidden="true" tabindex="-1"></a><span class="co"># Inconsistent - sometimes returns bool, sometimes string</span></span>
<span id="cb44-1020"><a href="#cb44-1020" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_payment(amount):</span>
<span id="cb44-1021"><a href="#cb44-1021" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> amount <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb44-1022"><a href="#cb44-1022" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Invalid amount"</span>  <span class="co"># String</span></span>
<span id="cb44-1023"><a href="#cb44-1023" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1024"><a href="#cb44-1024" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> process_successful:</span>
<span id="cb44-1025"><a href="#cb44-1025" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span>  <span class="co"># Boolean</span></span>
<span id="cb44-1026"><a href="#cb44-1026" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-1027"><a href="#cb44-1027" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Payment failed"</span>  <span class="co"># String</span></span>
<span id="cb44-1028"><a href="#cb44-1028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1029"><a href="#cb44-1029" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach - consistent return type</span></span>
<span id="cb44-1030"><a href="#cb44-1030" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_payment(amount):</span>
<span id="cb44-1031"><a href="#cb44-1031" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Process payment and return result with message."""</span></span>
<span id="cb44-1032"><a href="#cb44-1032" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> amount <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb44-1033"><a href="#cb44-1033" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span>, <span class="st">"Invalid amount"</span></span>
<span id="cb44-1034"><a href="#cb44-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1035"><a href="#cb44-1035" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> process_successful:</span>
<span id="cb44-1036"><a href="#cb44-1036" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span>, <span class="st">"Payment successful"</span></span>
<span id="cb44-1037"><a href="#cb44-1037" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-1038"><a href="#cb44-1038" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span>, <span class="st">"Payment failed"</span></span>
<span id="cb44-1039"><a href="#cb44-1039" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-1040"><a href="#cb44-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1041"><a href="#cb44-1041" aria-hidden="true" tabindex="-1"></a><span class="fu">### Doing Too Much in One Function</span></span>
<span id="cb44-1042"><a href="#cb44-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1043"><a href="#cb44-1043" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-1044"><a href="#cb44-1044" aria-hidden="true" tabindex="-1"></a><span class="co"># Function trying to do too much</span></span>
<span id="cb44-1045"><a href="#cb44-1045" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_order(order_id):</span>
<span id="cb44-1046"><a href="#cb44-1046" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate the order</span></span>
<span id="cb44-1047"><a href="#cb44-1047" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the total</span></span>
<span id="cb44-1048"><a href="#cb44-1048" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Process payment</span></span>
<span id="cb44-1049"><a href="#cb44-1049" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update inventory</span></span>
<span id="cb44-1050"><a href="#cb44-1050" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Send confirmation email</span></span>
<span id="cb44-1051"><a href="#cb44-1051" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Update order status</span></span>
<span id="cb44-1052"><a href="#cb44-1052" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-1053"><a href="#cb44-1053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1054"><a href="#cb44-1054" aria-hidden="true" tabindex="-1"></a><span class="co"># Better: separate functions for each responsibility</span></span>
<span id="cb44-1055"><a href="#cb44-1055" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> validate_order(order_id):</span>
<span id="cb44-1056"><a href="#cb44-1056" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validation logic</span></span>
<span id="cb44-1057"><a href="#cb44-1057" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-1058"><a href="#cb44-1058" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1059"><a href="#cb44-1059" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_order_total(order_items):</span>
<span id="cb44-1060"><a href="#cb44-1060" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculation logic</span></span>
<span id="cb44-1061"><a href="#cb44-1061" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-1062"><a href="#cb44-1062" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1063"><a href="#cb44-1063" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_payment(amount, payment_method):</span>
<span id="cb44-1064"><a href="#cb44-1064" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Payment processing</span></span>
<span id="cb44-1065"><a href="#cb44-1065" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb44-1066"><a href="#cb44-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1067"><a href="#cb44-1067" aria-hidden="true" tabindex="-1"></a><span class="co"># Etc.</span></span>
<span id="cb44-1068"><a href="#cb44-1068" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-1069"><a href="#cb44-1069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1070"><a href="#cb44-1070" aria-hidden="true" tabindex="-1"></a><span class="fu">## 10. Real-World Function Examples</span></span>
<span id="cb44-1071"><a href="#cb44-1071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1072"><a href="#cb44-1072" aria-hidden="true" tabindex="-1"></a>Let's look at some realistic examples of function design in different contexts:</span>
<span id="cb44-1073"><a href="#cb44-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1074"><a href="#cb44-1074" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Processing Function</span></span>
<span id="cb44-1075"><a href="#cb44-1075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1076"><a href="#cb44-1076" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-1077"><a href="#cb44-1077" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_data(data, columns<span class="op">=</span><span class="va">None</span>, drop_duplicates<span class="op">=</span><span class="va">True</span>, fill_missing<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb44-1078"><a href="#cb44-1078" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-1079"><a href="#cb44-1079" aria-hidden="true" tabindex="-1"></a><span class="co">    Clean a pandas DataFrame by handling specified issues.</span></span>
<span id="cb44-1080"><a href="#cb44-1080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1081"><a href="#cb44-1081" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-1082"><a href="#cb44-1082" aria-hidden="true" tabindex="-1"></a><span class="co">        data (pandas.DataFrame): The DataFrame to clean</span></span>
<span id="cb44-1083"><a href="#cb44-1083" aria-hidden="true" tabindex="-1"></a><span class="co">        columns (list, optional): Specific columns to clean. Defaults to all columns.</span></span>
<span id="cb44-1084"><a href="#cb44-1084" aria-hidden="true" tabindex="-1"></a><span class="co">        drop_duplicates (bool, optional): Whether to remove duplicate rows. Defaults to True.</span></span>
<span id="cb44-1085"><a href="#cb44-1085" aria-hidden="true" tabindex="-1"></a><span class="co">        fill_missing (dict, optional): How to fill missing values {column: value}.</span></span>
<span id="cb44-1086"><a href="#cb44-1086" aria-hidden="true" tabindex="-1"></a><span class="co">                                       Defaults to None (don't fill).</span></span>
<span id="cb44-1087"><a href="#cb44-1087" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1088"><a href="#cb44-1088" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-1089"><a href="#cb44-1089" aria-hidden="true" tabindex="-1"></a><span class="co">        pandas.DataFrame: The cleaned DataFrame</span></span>
<span id="cb44-1090"><a href="#cb44-1090" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: Summary of changes made</span></span>
<span id="cb44-1091"><a href="#cb44-1091" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-1092"><a href="#cb44-1092" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb44-1093"><a href="#cb44-1093" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1094"><a href="#cb44-1094" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate input</span></span>
<span id="cb44-1095"><a href="#cb44-1095" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(data, pd.DataFrame):</span>
<span id="cb44-1096"><a href="#cb44-1096" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">TypeError</span>(<span class="st">"data must be a pandas DataFrame"</span>)</span>
<span id="cb44-1097"><a href="#cb44-1097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1098"><a href="#cb44-1098" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Work on a copy to avoid modifying the original</span></span>
<span id="cb44-1099"><a href="#cb44-1099" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> data.copy()</span>
<span id="cb44-1100"><a href="#cb44-1100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1101"><a href="#cb44-1101" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Track changes for summary</span></span>
<span id="cb44-1102"><a href="#cb44-1102" aria-hidden="true" tabindex="-1"></a>    changes <span class="op">=</span> {</span>
<span id="cb44-1103"><a href="#cb44-1103" aria-hidden="true" tabindex="-1"></a>        <span class="st">"rows_before"</span>: <span class="bu">len</span>(df),</span>
<span id="cb44-1104"><a href="#cb44-1104" aria-hidden="true" tabindex="-1"></a>        <span class="st">"duplicates_removed"</span>: <span class="dv">0</span>,</span>
<span id="cb44-1105"><a href="#cb44-1105" aria-hidden="true" tabindex="-1"></a>        <span class="st">"missing_values_filled"</span>: <span class="dv">0</span></span>
<span id="cb44-1106"><a href="#cb44-1106" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb44-1107"><a href="#cb44-1107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1108"><a href="#cb44-1108" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use only specified columns if provided</span></span>
<span id="cb44-1109"><a href="#cb44-1109" aria-hidden="true" tabindex="-1"></a>    working_columns <span class="op">=</span> columns <span class="cf">if</span> columns <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span> <span class="cf">else</span> df.columns</span>
<span id="cb44-1110"><a href="#cb44-1110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1111"><a href="#cb44-1111" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Handle duplicates if requested</span></span>
<span id="cb44-1112"><a href="#cb44-1112" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> drop_duplicates:</span>
<span id="cb44-1113"><a href="#cb44-1113" aria-hidden="true" tabindex="-1"></a>        before_rows <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb44-1114"><a href="#cb44-1114" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> df.drop_duplicates(subset<span class="op">=</span>working_columns)</span>
<span id="cb44-1115"><a href="#cb44-1115" aria-hidden="true" tabindex="-1"></a>        changes[<span class="st">"duplicates_removed"</span>] <span class="op">=</span> before_rows <span class="op">-</span> <span class="bu">len</span>(df)</span>
<span id="cb44-1116"><a href="#cb44-1116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1117"><a href="#cb44-1117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fill missing values if specified</span></span>
<span id="cb44-1118"><a href="#cb44-1118" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> fill_missing:</span>
<span id="cb44-1119"><a href="#cb44-1119" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> col, value <span class="kw">in</span> fill_missing.items():</span>
<span id="cb44-1120"><a href="#cb44-1120" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> col <span class="kw">in</span> df.columns:</span>
<span id="cb44-1121"><a href="#cb44-1121" aria-hidden="true" tabindex="-1"></a>                missing_count <span class="op">=</span> df[col].isna().<span class="bu">sum</span>()</span>
<span id="cb44-1122"><a href="#cb44-1122" aria-hidden="true" tabindex="-1"></a>                df[col] <span class="op">=</span> df[col].fillna(value)</span>
<span id="cb44-1123"><a href="#cb44-1123" aria-hidden="true" tabindex="-1"></a>                changes[<span class="st">"missing_values_filled"</span>] <span class="op">+=</span> missing_count</span>
<span id="cb44-1124"><a href="#cb44-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1125"><a href="#cb44-1125" aria-hidden="true" tabindex="-1"></a>    changes[<span class="st">"rows_after"</span>] <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb44-1126"><a href="#cb44-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1127"><a href="#cb44-1127" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df, changes</span>
<span id="cb44-1128"><a href="#cb44-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1129"><a href="#cb44-1129" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb44-1130"><a href="#cb44-1130" aria-hidden="true" tabindex="-1"></a><span class="co"># df, summary = clean_data(customer_data,</span></span>
<span id="cb44-1131"><a href="#cb44-1131" aria-hidden="true" tabindex="-1"></a><span class="co">#                          columns=["name", "email"],</span></span>
<span id="cb44-1132"><a href="#cb44-1132" aria-hidden="true" tabindex="-1"></a><span class="co">#                          fill_missing={"age": 0, "income": 0})</span></span>
<span id="cb44-1133"><a href="#cb44-1133" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-1134"><a href="#cb44-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1135"><a href="#cb44-1135" aria-hidden="true" tabindex="-1"></a><span class="fu">### Web Application Function</span></span>
<span id="cb44-1136"><a href="#cb44-1136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1137"><a href="#cb44-1137" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-1138"><a href="#cb44-1138" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> authenticate_user(username, password, max_attempts<span class="op">=</span><span class="dv">3</span>, lockout_minutes<span class="op">=</span><span class="dv">30</span>):</span>
<span id="cb44-1139"><a href="#cb44-1139" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-1140"><a href="#cb44-1140" aria-hidden="true" tabindex="-1"></a><span class="co">    Authenticate a user against the database.</span></span>
<span id="cb44-1141"><a href="#cb44-1141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1142"><a href="#cb44-1142" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-1143"><a href="#cb44-1143" aria-hidden="true" tabindex="-1"></a><span class="co">        username (str): The username to authenticate</span></span>
<span id="cb44-1144"><a href="#cb44-1144" aria-hidden="true" tabindex="-1"></a><span class="co">        password (str): The password to verify</span></span>
<span id="cb44-1145"><a href="#cb44-1145" aria-hidden="true" tabindex="-1"></a><span class="co">        max_attempts (int, optional): Maximum failed attempts before lockout. Defaults to 3.</span></span>
<span id="cb44-1146"><a href="#cb44-1146" aria-hidden="true" tabindex="-1"></a><span class="co">        lockout_minutes (int, optional): Minutes to lock account after max_attempts. Defaults to 30.</span></span>
<span id="cb44-1147"><a href="#cb44-1147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1148"><a href="#cb44-1148" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-1149"><a href="#cb44-1149" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: Authentication result with format:</span></span>
<span id="cb44-1150"><a href="#cb44-1150" aria-hidden="true" tabindex="-1"></a><span class="co">              {"success": bool, "user_id": int or None, "message": str}</span></span>
<span id="cb44-1151"><a href="#cb44-1151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1152"><a href="#cb44-1152" aria-hidden="true" tabindex="-1"></a><span class="co">    Note:</span></span>
<span id="cb44-1153"><a href="#cb44-1153" aria-hidden="true" tabindex="-1"></a><span class="co">        This function updates the database attempts counter and lockout status.</span></span>
<span id="cb44-1154"><a href="#cb44-1154" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-1155"><a href="#cb44-1155" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> datetime</span>
<span id="cb44-1156"><a href="#cb44-1156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1157"><a href="#cb44-1157" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Validate inputs</span></span>
<span id="cb44-1158"><a href="#cb44-1158" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> username <span class="kw">or</span> <span class="kw">not</span> password:</span>
<span id="cb44-1159"><a href="#cb44-1159" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">False</span>, <span class="st">"user_id"</span>: <span class="va">None</span>, <span class="st">"message"</span>: <span class="st">"Username and password required"</span>}</span>
<span id="cb44-1160"><a href="#cb44-1160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1161"><a href="#cb44-1161" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if user exists</span></span>
<span id="cb44-1162"><a href="#cb44-1162" aria-hidden="true" tabindex="-1"></a>    user <span class="op">=</span> get_user_by_username(username)</span>
<span id="cb44-1163"><a href="#cb44-1163" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> user:</span>
<span id="cb44-1164"><a href="#cb44-1164" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Don't reveal that the username doesn't exist (security best practice)</span></span>
<span id="cb44-1165"><a href="#cb44-1165" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">False</span>, <span class="st">"user_id"</span>: <span class="va">None</span>, <span class="st">"message"</span>: <span class="st">"Invalid credentials"</span>}</span>
<span id="cb44-1166"><a href="#cb44-1166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1167"><a href="#cb44-1167" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check for account lockout</span></span>
<span id="cb44-1168"><a href="#cb44-1168" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user.locked_until <span class="kw">and</span> user.locked_until <span class="op">&gt;</span> datetime.datetime.now():</span>
<span id="cb44-1169"><a href="#cb44-1169" aria-hidden="true" tabindex="-1"></a>        remaining_minutes <span class="op">=</span> (user.locked_until <span class="op">-</span> datetime.datetime.now()).seconds <span class="op">//</span> <span class="dv">60</span></span>
<span id="cb44-1170"><a href="#cb44-1170" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb44-1171"><a href="#cb44-1171" aria-hidden="true" tabindex="-1"></a>            <span class="st">"success"</span>: <span class="va">False</span>,</span>
<span id="cb44-1172"><a href="#cb44-1172" aria-hidden="true" tabindex="-1"></a>            <span class="st">"user_id"</span>: <span class="va">None</span>,</span>
<span id="cb44-1173"><a href="#cb44-1173" aria-hidden="true" tabindex="-1"></a>            <span class="st">"message"</span>: <span class="ss">f"Account temporarily locked. Try again in </span><span class="sc">{</span>remaining_minutes<span class="sc">}</span><span class="ss"> minutes."</span></span>
<span id="cb44-1174"><a href="#cb44-1174" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb44-1175"><a href="#cb44-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1176"><a href="#cb44-1176" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reset lockout if it has expired</span></span>
<span id="cb44-1177"><a href="#cb44-1177" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> user.locked_until <span class="kw">and</span> user.locked_until <span class="op">&lt;=</span> datetime.datetime.now():</span>
<span id="cb44-1178"><a href="#cb44-1178" aria-hidden="true" tabindex="-1"></a>        user.failed_attempts <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-1179"><a href="#cb44-1179" aria-hidden="true" tabindex="-1"></a>        user.locked_until <span class="op">=</span> <span class="va">None</span></span>
<span id="cb44-1180"><a href="#cb44-1180" aria-hidden="true" tabindex="-1"></a>        update_user(user)</span>
<span id="cb44-1181"><a href="#cb44-1181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1182"><a href="#cb44-1182" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Verify password</span></span>
<span id="cb44-1183"><a href="#cb44-1183" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> verify_password(password, user.password_hash):</span>
<span id="cb44-1184"><a href="#cb44-1184" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Success: reset failed attempts and return success</span></span>
<span id="cb44-1185"><a href="#cb44-1185" aria-hidden="true" tabindex="-1"></a>        user.failed_attempts <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-1186"><a href="#cb44-1186" aria-hidden="true" tabindex="-1"></a>        update_user(user)</span>
<span id="cb44-1187"><a href="#cb44-1187" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">True</span>, <span class="st">"user_id"</span>: user.<span class="bu">id</span>, <span class="st">"message"</span>: <span class="st">"Login successful"</span>}</span>
<span id="cb44-1188"><a href="#cb44-1188" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-1189"><a href="#cb44-1189" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Failed attempt: increment counter</span></span>
<span id="cb44-1190"><a href="#cb44-1190" aria-hidden="true" tabindex="-1"></a>        user.failed_attempts <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb44-1191"><a href="#cb44-1191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1192"><a href="#cb44-1192" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Check if should lock account</span></span>
<span id="cb44-1193"><a href="#cb44-1193" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> user.failed_attempts <span class="op">&gt;=</span> max_attempts:</span>
<span id="cb44-1194"><a href="#cb44-1194" aria-hidden="true" tabindex="-1"></a>            lockout_time <span class="op">=</span> datetime.datetime.now() <span class="op">+</span> datetime.timedelta(minutes<span class="op">=</span>lockout_minutes)</span>
<span id="cb44-1195"><a href="#cb44-1195" aria-hidden="true" tabindex="-1"></a>            user.locked_until <span class="op">=</span> lockout_time</span>
<span id="cb44-1196"><a href="#cb44-1196" aria-hidden="true" tabindex="-1"></a>            message <span class="op">=</span> <span class="ss">f"Too many failed attempts. Account locked for </span><span class="sc">{</span>lockout_minutes<span class="sc">}</span><span class="ss"> minutes."</span></span>
<span id="cb44-1197"><a href="#cb44-1197" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb44-1198"><a href="#cb44-1198" aria-hidden="true" tabindex="-1"></a>            attempts_left <span class="op">=</span> max_attempts <span class="op">-</span> user.failed_attempts</span>
<span id="cb44-1199"><a href="#cb44-1199" aria-hidden="true" tabindex="-1"></a>            message <span class="op">=</span> <span class="ss">f"Invalid credentials. </span><span class="sc">{</span>attempts_left<span class="sc">}</span><span class="ss"> attempts remaining."</span></span>
<span id="cb44-1200"><a href="#cb44-1200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1201"><a href="#cb44-1201" aria-hidden="true" tabindex="-1"></a>        update_user(user)</span>
<span id="cb44-1202"><a href="#cb44-1202" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {<span class="st">"success"</span>: <span class="va">False</span>, <span class="st">"user_id"</span>: <span class="va">None</span>, <span class="st">"message"</span>: message}</span>
<span id="cb44-1203"><a href="#cb44-1203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1204"><a href="#cb44-1204" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: This assumes helper functions get_user_by_username(),</span></span>
<span id="cb44-1205"><a href="#cb44-1205" aria-hidden="true" tabindex="-1"></a><span class="co"># verify_password(), and update_user() exist elsewhere</span></span>
<span id="cb44-1206"><a href="#cb44-1206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-1207"><a href="#cb44-1207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1208"><a href="#cb44-1208" aria-hidden="true" tabindex="-1"></a><span class="fu">### Game Development Function</span></span>
<span id="cb44-1209"><a href="#cb44-1209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1210"><a href="#cb44-1210" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb44-1211"><a href="#cb44-1211" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_damage(attacker, defender, attack_type<span class="op">=</span><span class="st">"normal"</span>):</span>
<span id="cb44-1212"><a href="#cb44-1212" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb44-1213"><a href="#cb44-1213" aria-hidden="true" tabindex="-1"></a><span class="co">    Calculate damage for an attack in a game.</span></span>
<span id="cb44-1214"><a href="#cb44-1214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1215"><a href="#cb44-1215" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb44-1216"><a href="#cb44-1216" aria-hidden="true" tabindex="-1"></a><span class="co">        attacker (dict): Attacker stats including 'strength', 'level', 'weapon_power'</span></span>
<span id="cb44-1217"><a href="#cb44-1217" aria-hidden="true" tabindex="-1"></a><span class="co">        defender (dict): Defender stats including 'defense', 'level', 'resistance'</span></span>
<span id="cb44-1218"><a href="#cb44-1218" aria-hidden="true" tabindex="-1"></a><span class="co">        attack_type (str, optional): Type of attack - "normal", "critical", or "special".</span></span>
<span id="cb44-1219"><a href="#cb44-1219" aria-hidden="true" tabindex="-1"></a><span class="co">                                    Defaults to "normal".</span></span>
<span id="cb44-1220"><a href="#cb44-1220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1221"><a href="#cb44-1221" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb44-1222"><a href="#cb44-1222" aria-hidden="true" tabindex="-1"></a><span class="co">        dict: Damage calculation results including:</span></span>
<span id="cb44-1223"><a href="#cb44-1223" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'damage': Final damage amount (int)</span></span>
<span id="cb44-1224"><a href="#cb44-1224" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'critical': Whether it was a critical hit (bool)</span></span>
<span id="cb44-1225"><a href="#cb44-1225" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'hit': Whether the attack landed (bool)</span></span>
<span id="cb44-1226"><a href="#cb44-1226" aria-hidden="true" tabindex="-1"></a><span class="co">              - 'message': Description of the attack result (str)</span></span>
<span id="cb44-1227"><a href="#cb44-1227" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb44-1228"><a href="#cb44-1228" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> random</span>
<span id="cb44-1229"><a href="#cb44-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1230"><a href="#cb44-1230" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Base damage calculation</span></span>
<span id="cb44-1231"><a href="#cb44-1231" aria-hidden="true" tabindex="-1"></a>    base_damage <span class="op">=</span> (attacker.get(<span class="st">'strength'</span>, <span class="dv">0</span>) <span class="op">+</span> attacker.get(<span class="st">'weapon_power'</span>, <span class="dv">0</span>)) <span class="op">*</span> <span class="fl">1.5</span></span>
<span id="cb44-1232"><a href="#cb44-1232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1233"><a href="#cb44-1233" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Accuracy check (chance to miss)</span></span>
<span id="cb44-1234"><a href="#cb44-1234" aria-hidden="true" tabindex="-1"></a>    accuracy <span class="op">=</span> <span class="bu">min</span>(<span class="dv">95</span>, <span class="dv">80</span> <span class="op">+</span> (attacker.get(<span class="st">'level'</span>, <span class="dv">1</span>) <span class="op">-</span> defender.get(<span class="st">'level'</span>, <span class="dv">1</span>)) <span class="op">*</span> <span class="dv">2</span>)</span>
<span id="cb44-1235"><a href="#cb44-1235" aria-hidden="true" tabindex="-1"></a>    hit_roll <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">100</span>)</span>
<span id="cb44-1236"><a href="#cb44-1236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1237"><a href="#cb44-1237" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if attack hits</span></span>
<span id="cb44-1238"><a href="#cb44-1238" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> hit_roll <span class="op">&gt;</span> accuracy:</span>
<span id="cb44-1239"><a href="#cb44-1239" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb44-1240"><a href="#cb44-1240" aria-hidden="true" tabindex="-1"></a>            <span class="st">'damage'</span>: <span class="dv">0</span>,</span>
<span id="cb44-1241"><a href="#cb44-1241" aria-hidden="true" tabindex="-1"></a>            <span class="st">'critical'</span>: <span class="va">False</span>,</span>
<span id="cb44-1242"><a href="#cb44-1242" aria-hidden="true" tabindex="-1"></a>            <span class="st">'hit'</span>: <span class="va">False</span>,</span>
<span id="cb44-1243"><a href="#cb44-1243" aria-hidden="true" tabindex="-1"></a>            <span class="st">'message'</span>: <span class="st">"The attack missed!"</span></span>
<span id="cb44-1244"><a href="#cb44-1244" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb44-1245"><a href="#cb44-1245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1246"><a href="#cb44-1246" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Critical hit chance</span></span>
<span id="cb44-1247"><a href="#cb44-1247" aria-hidden="true" tabindex="-1"></a>    critical_chance <span class="op">=</span> <span class="bu">min</span>(<span class="dv">25</span>, <span class="dv">5</span> <span class="op">+</span> attacker.get(<span class="st">'level'</span>, <span class="dv">1</span>) <span class="op">//</span> <span class="dv">2</span>)</span>
<span id="cb44-1248"><a href="#cb44-1248" aria-hidden="true" tabindex="-1"></a>    is_critical <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">100</span>) <span class="op">&lt;=</span> critical_chance</span>
<span id="cb44-1249"><a href="#cb44-1249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1250"><a href="#cb44-1250" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Damage modifiers</span></span>
<span id="cb44-1251"><a href="#cb44-1251" aria-hidden="true" tabindex="-1"></a>    damage_multiplier <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb44-1252"><a href="#cb44-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1253"><a href="#cb44-1253" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> is_critical:</span>
<span id="cb44-1254"><a href="#cb44-1254" aria-hidden="true" tabindex="-1"></a>        damage_multiplier <span class="op">*=</span> <span class="fl">2.0</span></span>
<span id="cb44-1255"><a href="#cb44-1255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1256"><a href="#cb44-1256" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> attack_type <span class="op">==</span> <span class="st">"critical"</span>:</span>
<span id="cb44-1257"><a href="#cb44-1257" aria-hidden="true" tabindex="-1"></a>        damage_multiplier <span class="op">*=</span> <span class="fl">1.5</span></span>
<span id="cb44-1258"><a href="#cb44-1258" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> attack_type <span class="op">==</span> <span class="st">"special"</span>:</span>
<span id="cb44-1259"><a href="#cb44-1259" aria-hidden="true" tabindex="-1"></a>        damage_multiplier <span class="op">*=</span> <span class="fl">1.75</span></span>
<span id="cb44-1260"><a href="#cb44-1260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1261"><a href="#cb44-1261" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply defender's defense</span></span>
<span id="cb44-1262"><a href="#cb44-1262" aria-hidden="true" tabindex="-1"></a>    defense_reduction <span class="op">=</span> defender.get(<span class="st">'defense'</span>, <span class="dv">0</span>) <span class="op">*</span> <span class="fl">0.5</span></span>
<span id="cb44-1263"><a href="#cb44-1263" aria-hidden="true" tabindex="-1"></a>    damage <span class="op">=</span> <span class="bu">max</span>(<span class="dv">1</span>, <span class="bu">int</span>((base_damage <span class="op">-</span> defense_reduction) <span class="op">*</span> damage_multiplier))</span>
<span id="cb44-1264"><a href="#cb44-1264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1265"><a href="#cb44-1265" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply damage resistance for special attacks</span></span>
<span id="cb44-1266"><a href="#cb44-1266" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> attack_type <span class="op">==</span> <span class="st">"special"</span>:</span>
<span id="cb44-1267"><a href="#cb44-1267" aria-hidden="true" tabindex="-1"></a>        resistance <span class="op">=</span> defender.get(<span class="st">'resistance'</span>, <span class="dv">0</span>) <span class="op">/</span> <span class="dv">100</span></span>
<span id="cb44-1268"><a href="#cb44-1268" aria-hidden="true" tabindex="-1"></a>        damage <span class="op">=</span> <span class="bu">int</span>(damage <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> <span class="bu">min</span>(<span class="fl">0.75</span>, resistance)))</span>
<span id="cb44-1269"><a href="#cb44-1269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1270"><a href="#cb44-1270" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create result message</span></span>
<span id="cb44-1271"><a href="#cb44-1271" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> is_critical:</span>
<span id="cb44-1272"><a href="#cb44-1272" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> <span class="st">"Critical hit! "</span></span>
<span id="cb44-1273"><a href="#cb44-1273" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-1274"><a href="#cb44-1274" aria-hidden="true" tabindex="-1"></a>        message <span class="op">=</span> <span class="st">""</span></span>
<span id="cb44-1275"><a href="#cb44-1275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1276"><a href="#cb44-1276" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> attack_type <span class="op">==</span> <span class="st">"special"</span>:</span>
<span id="cb44-1277"><a href="#cb44-1277" aria-hidden="true" tabindex="-1"></a>        message <span class="op">+=</span> <span class="ss">f"Special attack deals </span><span class="sc">{</span>damage<span class="sc">}</span><span class="ss"> damage!"</span></span>
<span id="cb44-1278"><a href="#cb44-1278" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb44-1279"><a href="#cb44-1279" aria-hidden="true" tabindex="-1"></a>        message <span class="op">+=</span> <span class="ss">f"The attack deals </span><span class="sc">{</span>damage<span class="sc">}</span><span class="ss"> damage."</span></span>
<span id="cb44-1280"><a href="#cb44-1280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1281"><a href="#cb44-1281" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb44-1282"><a href="#cb44-1282" aria-hidden="true" tabindex="-1"></a>        <span class="st">'damage'</span>: damage,</span>
<span id="cb44-1283"><a href="#cb44-1283" aria-hidden="true" tabindex="-1"></a>        <span class="st">'critical'</span>: is_critical,</span>
<span id="cb44-1284"><a href="#cb44-1284" aria-hidden="true" tabindex="-1"></a>        <span class="st">'hit'</span>: <span class="va">True</span>,</span>
<span id="cb44-1285"><a href="#cb44-1285" aria-hidden="true" tabindex="-1"></a>        <span class="st">'message'</span>: message</span>
<span id="cb44-1286"><a href="#cb44-1286" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb44-1287"><a href="#cb44-1287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb44-1288"><a href="#cb44-1288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1289"><a href="#cb44-1289" aria-hidden="true" tabindex="-1"></a>These examples demonstrate how functions in real-world applications handle multiple parameters, process complex logic, implement validation, and return structured results. Notice how each function:</span>
<span id="cb44-1290"><a href="#cb44-1290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1291"><a href="#cb44-1291" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Has clear documentation</span>
<span id="cb44-1292"><a href="#cb44-1292" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Validates inputs</span>
<span id="cb44-1293"><a href="#cb44-1293" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Has sensible defaults for optional parameters</span>
<span id="cb44-1294"><a href="#cb44-1294" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>Returns structured data with multiple pieces of information</span>
<span id="cb44-1295"><a href="#cb44-1295" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Maintains a single responsibility despite complex internal logic</span>
<span id="cb44-1296"><a href="#cb44-1296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1297"><a href="#cb44-1297" aria-hidden="true" tabindex="-1"></a><span class="fu">## 11. Self-Assessment Quiz</span></span>
<span id="cb44-1298"><a href="#cb44-1298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1299"><a href="#cb44-1299" aria-hidden="true" tabindex="-1"></a>Test your understanding of Python function creation:</span>
<span id="cb44-1300"><a href="#cb44-1300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1301"><a href="#cb44-1301" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>What is the correct syntax for defining a function that takes a parameter?</span>
<span id="cb44-1302"><a href="#cb44-1302" aria-hidden="true" tabindex="-1"></a>   a) <span class="in">`function my_func(param):`</span></span>
<span id="cb44-1303"><a href="#cb44-1303" aria-hidden="true" tabindex="-1"></a>   b) <span class="in">`def my_func[param]:`</span></span>
<span id="cb44-1304"><a href="#cb44-1304" aria-hidden="true" tabindex="-1"></a>   c) <span class="in">`def my_func(param):`</span></span>
<span id="cb44-1305"><a href="#cb44-1305" aria-hidden="true" tabindex="-1"></a>   d) <span class="in">`new my_func(param):`</span></span>
<span id="cb44-1306"><a href="#cb44-1306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1307"><a href="#cb44-1307" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>What happens if a function doesn't include a <span class="in">`return`</span> statement?</span>
<span id="cb44-1308"><a href="#cb44-1308" aria-hidden="true" tabindex="-1"></a>   a) The function returns the value of the last expression</span>
<span id="cb44-1309"><a href="#cb44-1309" aria-hidden="true" tabindex="-1"></a>   b) The function returns <span class="in">`False`</span></span>
<span id="cb44-1310"><a href="#cb44-1310" aria-hidden="true" tabindex="-1"></a>   c) The function returns <span class="in">`None`</span></span>
<span id="cb44-1311"><a href="#cb44-1311" aria-hidden="true" tabindex="-1"></a>   d) The function raises an error</span>
<span id="cb44-1312"><a href="#cb44-1312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1313"><a href="#cb44-1313" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>If a function has a parameter with a default value, where must it be placed?</span>
<span id="cb44-1314"><a href="#cb44-1314" aria-hidden="true" tabindex="-1"></a>   a) It must be the first parameter</span>
<span id="cb44-1315"><a href="#cb44-1315" aria-hidden="true" tabindex="-1"></a>   b) It must be after all parameters without default values</span>
<span id="cb44-1316"><a href="#cb44-1316" aria-hidden="true" tabindex="-1"></a>   c) It can be placed anywhere in the parameter list</span>
<span id="cb44-1317"><a href="#cb44-1317" aria-hidden="true" tabindex="-1"></a>   d) Default values are not allowed in function parameters</span>
<span id="cb44-1318"><a href="#cb44-1318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1319"><a href="#cb44-1319" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>What does the term "function scope" refer to?</span>
<span id="cb44-1320"><a href="#cb44-1320" aria-hidden="true" tabindex="-1"></a>   a) The range of values a function can return</span>
<span id="cb44-1321"><a href="#cb44-1321" aria-hidden="true" tabindex="-1"></a>   b) The visibility and lifetime of variables within a function</span>
<span id="cb44-1322"><a href="#cb44-1322" aria-hidden="true" tabindex="-1"></a>   c) The number of parameters a function can accept</span>
<span id="cb44-1323"><a href="#cb44-1323" aria-hidden="true" tabindex="-1"></a>   d) The performance characteristics of a function</span>
<span id="cb44-1324"><a href="#cb44-1324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1325"><a href="#cb44-1325" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>Which of the following is the best practice for function design?</span>
<span id="cb44-1326"><a href="#cb44-1326" aria-hidden="true" tabindex="-1"></a>   a) Creating functions with as many features as possible</span>
<span id="cb44-1327"><a href="#cb44-1327" aria-hidden="true" tabindex="-1"></a>   b) Using global variables for communication between functions</span>
<span id="cb44-1328"><a href="#cb44-1328" aria-hidden="true" tabindex="-1"></a>   c) Having functions perform a single, well-defined task</span>
<span id="cb44-1329"><a href="#cb44-1329" aria-hidden="true" tabindex="-1"></a>   d) Minimizing the number of functions in your program</span>
<span id="cb44-1330"><a href="#cb44-1330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1331"><a href="#cb44-1331" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>What is a "docstring" in a Python function?</span>
<span id="cb44-1332"><a href="#cb44-1332" aria-hidden="true" tabindex="-1"></a>   a) A special comment that becomes part of the function's help documentation</span>
<span id="cb44-1333"><a href="#cb44-1333" aria-hidden="true" tabindex="-1"></a>   b) A mandatory error message for when the function fails</span>
<span id="cb44-1334"><a href="#cb44-1334" aria-hidden="true" tabindex="-1"></a>   c) A type of return value</span>
<span id="cb44-1335"><a href="#cb44-1335" aria-hidden="true" tabindex="-1"></a>   d) A system for categorizing functions</span>
<span id="cb44-1336"><a href="#cb44-1336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1337"><a href="#cb44-1337" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>When is it appropriate to use default parameter values?</span>
<span id="cb44-1338"><a href="#cb44-1338" aria-hidden="true" tabindex="-1"></a>   a) Never, they make functions confusing</span>
<span id="cb44-1339"><a href="#cb44-1339" aria-hidden="true" tabindex="-1"></a>   b) For parameters that are commonly passed the same value</span>
<span id="cb44-1340"><a href="#cb44-1340" aria-hidden="true" tabindex="-1"></a>   c) Only for numeric parameters</span>
<span id="cb44-1341"><a href="#cb44-1341" aria-hidden="true" tabindex="-1"></a>   d) Only when the function has exactly one parameter</span>
<span id="cb44-1342"><a href="#cb44-1342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1343"><a href="#cb44-1343" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>What happens to local variables when a function finishes execution?</span>
<span id="cb44-1344"><a href="#cb44-1344" aria-hidden="true" tabindex="-1"></a>   a) They remain in memory permanently</span>
<span id="cb44-1345"><a href="#cb44-1345" aria-hidden="true" tabindex="-1"></a>   b) They are destroyed and their memory is reclaimed</span>
<span id="cb44-1346"><a href="#cb44-1346" aria-hidden="true" tabindex="-1"></a>   c) They become global variables</span>
<span id="cb44-1347"><a href="#cb44-1347" aria-hidden="true" tabindex="-1"></a>   d) They are saved to disk</span>
<span id="cb44-1348"><a href="#cb44-1348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1349"><a href="#cb44-1349" aria-hidden="true" tabindex="-1"></a>**Answers:**</span>
<span id="cb44-1350"><a href="#cb44-1350" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>c) <span class="in">`def my_func(param):`</span> - This is the correct Python syntax for function definition</span>
<span id="cb44-1351"><a href="#cb44-1351" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>c) The function returns <span class="in">`None`</span> - Python implicitly returns None if no return statement is provided</span>
<span id="cb44-1352"><a href="#cb44-1352" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>b) It must be after all parameters without default values - Python requires default parameters to come after non-default ones</span>
<span id="cb44-1353"><a href="#cb44-1353" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span>b) The visibility and lifetime of variables within a function - Scope determines where variables can be accessed</span>
<span id="cb44-1354"><a href="#cb44-1354" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span>c) Having functions perform a single, well-defined task - The single responsibility principle</span>
<span id="cb44-1355"><a href="#cb44-1355" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span>a) A special comment that becomes part of the function's help documentation - Docstrings document function purpose and usage</span>
<span id="cb44-1356"><a href="#cb44-1356" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span>b) For parameters that are commonly passed the same value - Default values reduce repetition for common cases</span>
<span id="cb44-1357"><a href="#cb44-1357" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span>b) They are destroyed and their memory is reclaimed - Local variables only exist during function execution</span>
<span id="cb44-1358"><a href="#cb44-1358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1359"><a href="#cb44-1359" aria-hidden="true" tabindex="-1"></a><span class="fu">## 12. Try It Yourself: Function Design Exercises</span></span>
<span id="cb44-1360"><a href="#cb44-1360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1361"><a href="#cb44-1361" aria-hidden="true" tabindex="-1"></a>Practice your function design skills with these exercises:</span>
<span id="cb44-1362"><a href="#cb44-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1363"><a href="#cb44-1363" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 1: Basic Function Creation</span></span>
<span id="cb44-1364"><a href="#cb44-1364" aria-hidden="true" tabindex="-1"></a>Create a function called <span class="in">`temperature_converter`</span> that:</span>
<span id="cb44-1365"><a href="#cb44-1365" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Takes a temperature value and conversion direction ('C_to_F' or 'F_to_C')</span>
<span id="cb44-1366"><a href="#cb44-1366" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Performs the appropriate conversion</span>
<span id="cb44-1367"><a href="#cb44-1367" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Returns the converted temperature with appropriate unit label</span>
<span id="cb44-1368"><a href="#cb44-1368" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Validates that inputs are numeric and the direction is valid</span>
<span id="cb44-1369"><a href="#cb44-1369" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Includes a proper docstring</span>
<span id="cb44-1370"><a href="#cb44-1370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1371"><a href="#cb44-1371" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 2: Text Analysis Functions</span></span>
<span id="cb44-1372"><a href="#cb44-1372" aria-hidden="true" tabindex="-1"></a>Create a set of text analysis functions:</span>
<span id="cb44-1373"><a href="#cb44-1373" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`count_words(text)`</span> - Counts the number of words in a text</span>
<span id="cb44-1374"><a href="#cb44-1374" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="in">`count_characters(text, include_spaces=False)`</span> - Counts characters</span>
<span id="cb44-1375"><a href="#cb44-1375" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="in">`find_most_common_word(text)`</span> - Finds the most frequently used word</span>
<span id="cb44-1376"><a href="#cb44-1376" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="in">`text_statistics(text)`</span> - Returns a dictionary with all the above statistics</span>
<span id="cb44-1377"><a href="#cb44-1377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1378"><a href="#cb44-1378" aria-hidden="true" tabindex="-1"></a>Ensure each function has proper validation, docstrings, and error handling.</span>
<span id="cb44-1379"><a href="#cb44-1379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1380"><a href="#cb44-1380" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 3: Chatbot Extension</span></span>
<span id="cb44-1381"><a href="#cb44-1381" aria-hidden="true" tabindex="-1"></a>Extend the chatbot from the Project Corner with these new functions:</span>
<span id="cb44-1382"><a href="#cb44-1382" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`get_time_based_greeting()`</span> - Returns a greeting based on the time of day</span>
<span id="cb44-1383"><a href="#cb44-1383" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="in">`remember_topic(topic)`</span> - Stores a topic the user mentioned</span>
<span id="cb44-1384"><a href="#cb44-1384" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="in">`recall_topics()`</span> - Returns previously discussed topics</span>
<span id="cb44-1385"><a href="#cb44-1385" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="in">`generate_farewell(user_name)`</span> - Creates a personalized goodbye message</span>
<span id="cb44-1386"><a href="#cb44-1386" aria-hidden="true" tabindex="-1"></a>Integrate these functions into the chatbot's main loop.</span>
<span id="cb44-1387"><a href="#cb44-1387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1388"><a href="#cb44-1388" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 4: Game Score Calculator</span></span>
<span id="cb44-1389"><a href="#cb44-1389" aria-hidden="true" tabindex="-1"></a>Create a function that calculates a game score:</span>
<span id="cb44-1390"><a href="#cb44-1390" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Takes player actions (hits, misses, bonuses) as parameters</span>
<span id="cb44-1391"><a href="#cb44-1391" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Calculates a score based on a formula you design</span>
<span id="cb44-1392"><a href="#cb44-1392" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Includes optional difficulty multiplier parameter</span>
<span id="cb44-1393"><a href="#cb44-1393" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Validates all inputs</span>
<span id="cb44-1394"><a href="#cb44-1394" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Returns both the score and performance category (e.g., "Beginner", "Expert")</span>
<span id="cb44-1395"><a href="#cb44-1395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1396"><a href="#cb44-1396" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exercise 5: Function Library</span></span>
<span id="cb44-1397"><a href="#cb44-1397" aria-hidden="true" tabindex="-1"></a>Create a small library of related functions for managing a to-do list:</span>
<span id="cb44-1398"><a href="#cb44-1398" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`add_task(task_list, task_description, due_date=None, priority=None)`</span></span>
<span id="cb44-1399"><a href="#cb44-1399" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="in">`remove_task(task_list, task_index)`</span></span>
<span id="cb44-1400"><a href="#cb44-1400" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="in">`mark_complete(task_list, task_index)`</span></span>
<span id="cb44-1401"><a href="#cb44-1401" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="in">`get_pending_tasks(task_list)`</span></span>
<span id="cb44-1402"><a href="#cb44-1402" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span><span class="in">`get_task_summary(task_list)`</span></span>
<span id="cb44-1403"><a href="#cb44-1403" aria-hidden="true" tabindex="-1"></a>Ensure the functions work together cohesively and follow good design practices.</span>
<span id="cb44-1404"><a href="#cb44-1404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1405"><a href="#cb44-1405" aria-hidden="true" tabindex="-1"></a><span class="fu">## 13. Cross-References</span></span>
<span id="cb44-1406"><a href="#cb44-1406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1407"><a href="#cb44-1407" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Previous Chapter**: <span class="co">[</span><span class="ot">Functions</span><span class="co">](08_functions.qmd)</span> — Learn how to use built-in and library functions</span>
<span id="cb44-1408"><a href="#cb44-1408" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Next Chapter**: <span class="co">[</span><span class="ot">Making Decisions</span><span class="co">](10_making_decisions.qmd)</span> — Control program flow with if statements</span>
<span id="cb44-1409"><a href="#cb44-1409" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Related Topic**: <span class="co">[</span><span class="ot">Modules and Packages</span><span class="co">](19_modules_and_packages.qmd)</span> — Organize your functions into reusable modules</span>
<span id="cb44-1410"><a href="#cb44-1410" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Project Connection**: <span class="co">[</span><span class="ot">Testing</span><span class="co">](18_testing.qmd)</span> — Learn how to verify your functions work correctly</span>
<span id="cb44-1411"><a href="#cb44-1411" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Advanced Application**: <span class="co">[</span><span class="ot">Object-Oriented Programming</span><span class="co">](20_orientating_your_objects.qmd)</span> — Combine functions and data into classes</span>
<span id="cb44-1412"><a href="#cb44-1412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1413"><a href="#cb44-1413" aria-hidden="true" tabindex="-1"></a><span class="fu">## 14. Summary</span></span>
<span id="cb44-1414"><a href="#cb44-1414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1415"><a href="#cb44-1415" aria-hidden="true" tabindex="-1"></a>In this chapter, you've learned the essential skills for creating your own custom functions in Python:</span>
<span id="cb44-1416"><a href="#cb44-1416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1417"><a href="#cb44-1417" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using the <span class="in">`def`</span> keyword to define functions</span>
<span id="cb44-1418"><a href="#cb44-1418" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Creating flexible functions with parameters and default values</span>
<span id="cb44-1419"><a href="#cb44-1419" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Returning results from functions with the <span class="in">`return`</span> statement</span>
<span id="cb44-1420"><a href="#cb44-1420" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Understanding variable scope and lifetime within functions</span>
<span id="cb44-1421"><a href="#cb44-1421" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Applying function design best practices</span>
<span id="cb44-1422"><a href="#cb44-1422" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Structuring your chatbot with modular, well-designed functions</span>
<span id="cb44-1423"><a href="#cb44-1423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1424"><a href="#cb44-1424" aria-hidden="true" tabindex="-1"></a>Functions transform how you approach programming problems, allowing you to:</span>
<span id="cb44-1425"><a href="#cb44-1425" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Break complex problems into manageable pieces</span>
<span id="cb44-1426"><a href="#cb44-1426" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create reusable solutions that eliminate redundancy</span>
<span id="cb44-1427"><a href="#cb44-1427" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Make your code more readable and maintainable</span>
<span id="cb44-1428"><a href="#cb44-1428" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Collaborate more effectively by defining clear interfaces</span>
<span id="cb44-1429"><a href="#cb44-1429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1430"><a href="#cb44-1430" aria-hidden="true" tabindex="-1"></a>For our chatbot project, you've implemented a modular structure that separates concerns into individual functions. This approach makes your code easier to understand, debug, and extend. As we progress through the book, you'll continue to refine these functions and add new capabilities.</span>
<span id="cb44-1431"><a href="#cb44-1431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1432"><a href="#cb44-1432" aria-hidden="true" tabindex="-1"></a>Custom functions are one of the most powerful tools in programming. They allow you to create your own abstractions and define your own vocabulary for solving problems. By mastering function creation, you've taken a major step toward thinking like a programmer and building more sophisticated applications.</span>
<span id="cb44-1433"><a href="#cb44-1433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-1434"><a href="#cb44-1434" aria-hidden="true" tabindex="-1"></a>In the next chapter, we'll explore how to make decisions in your code using conditional statements, which will further enhance your chatbot's ability to respond intelligently to different situations.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>